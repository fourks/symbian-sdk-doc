<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>Files and locations</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="emulator%2efiles"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="UsingKMSQuartz.guide.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="Debugging.guide.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/DeveloperGuide/index.html">Developer's&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
<a href="../index.html">Emulator</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Emulator&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
Files&nbsp;and&nbsp;locations</p>

<hr noshade size="1">
<div class="AuthoredContent">


</div><div class="Head1">

<h1>Files and locations</h1>
</div><div class="Bodytext">
<a name="1.3"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Overview</h2>
</div><div class="Bodytext">
<p>The Emulator maps the Symbian platform file system onto the PC’s
file system. This drive mapping is performed at run-time. It enables
applications to use the file system drives without interfering with PC’s
drives in unpredictable ways. The Symbian platform creates two default drives:
<code class="filename">z:</code>, which in target machines maps to the ROM, and <code class="filename">c:</code>,
a RAM drive.</p>
<p>To allow for the differing requirements of different products
containing the Emulator, the default locations for the virtual drives vary
depending on where the Emulator itself is installed. This section describes the
different cases.</p>
<p>You can also add further virtual drives, and reconfigure the
standard drives to map to alternative locations.</p>
<a name="1.4"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Virtual drives</h2>
</div><div class="Bodytext">
<p>The two default virtual drives, <code class="filename">z:</code> and
<code class="filename">c:</code>, can be changed, and new virtual drives can be added&#0160;&#8212;
for example to simulate a CF card acting as a removable drive.</p>
<p>There are a number of ways of performing these tasks. The
recommended method is to use the configuration file. If required, you can also
override the location of the emulated <code class="filename">c:</code> drive using the
command-line.</p>
<p>Note that any mapping for the <code class="filename">z:</code> drive must specify a
directory named <code class="filename">z</code>.</p>
<a name="1.4.5"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>See also</h3>
</div><div class="Bodytext">
<p><a href="../configure/HowtoVirtualDrivesCfgFile.guide.html#configure%2ehowto%2demulate%2dconfigfile">How to emulate drives using the configuration file</a>,
<a href="../configure/HowtoVirtualDrivesCmdLine.guide.html#configure%2ehowto%2demulate%2dcmdline">How to emulate c: using a command-line option</a></p>
<a name="1.5"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Emulator in C++ SDK</h2>
</div><div class="Bodytext">
<p>When the Emulator is used with the C++ SDK, it must be located in
the following directories:</p>
<ul>
<li>
<p>release build: <code class="filename">.\epoc32\release\wins\urel\</code></p>
</li>
<li>
<p>debug build: <code class="filename">.\epoc32\release\wins\udeb\</code></p>
</li>
</ul>
<p>When this is the case, drives <code class="filename">z:</code> and <code class="filename">c:</code>
are mapped by default to sub-directories of the <code class="filename">\epoc32\</code> tree, as
follows:</p><table cellpadding="1" border="0" cellspacing="0"><tr><td
class="TableWrap"><table cellpadding="5" cellspacing="1"
border="0"><tr valign="top"><td class="Cell">
<p><code class="filename">c:</code></p></td><td class="Cell">
<p><code class="filename">.\epoc32\wins\c\</code></p></td></tr><tr valign="top"><td class="Cell">
<p><code class="filename">z:</code></p></td><td class="Cell">
<p><code class="filename">.\epoc32\release\wins\urel\z\</code>, or <code class="filename">\
.\epoc32\release\wins\udeb\z\</code></p></td></tr></table></td></tr></table>
<p>Therefore, an application program such as
<code class="filename">z:\system\apps\helloworld\helloworld.app</code> is mapped by the Unicode
debug build to
<code class="filename">.\epoc32\release\wins\udeb\z\system\apps\helloworld\helloworld.app</code>.</p>
<p>Configuration files for the Emulator are located in
<code class="filename">\epoc32\data\</code>.</p>
<a name="1.5.8"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Note</h3>
</div><div class="Bodytext">
<ul>
<li>
<p>Where <code>EPOCROOT</code> is set to point to the active
<code class="filename">\epoc32</code> directory the drive letter must not be included.</p>
</li>
</ul>
<a name="1.6"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Alternative Emulator location</h2>
</div><div class="Bodytext">
<p>In some products, the Emulator can be run in another location than
<code class="filename">\epoc32\release\wins\</code><i>build</i><code class="filename">\</code>. In this
case, the Emulator looks by default for the following sub-directories below its
own location:</p><table cellpadding="1" border="0" cellspacing="0"><tr><td
class="TableWrap"><table cellpadding="5" cellspacing="1"
border="0"><tr valign="top"><td class="Cell">
<p><b>Name</b></p></td><td class="Cell">
<p><b>Description</b></p></td></tr><tr valign="top"><td class="Cell">
<p><code class="filename">c</code></p></td><td class="Cell">
<p>virtual <code class="filename">c:</code> drive</p></td></tr><tr valign="top"><td class="Cell">
<p><code class="filename">z</code></p></td><td class="Cell">
<p>virtual <code class="filename">z:</code> drive</p></td></tr><tr valign="top"><td class="Cell">
<p><code class="filename">data</code></p></td><td class="Cell">
<p>Emulator configuration files </p></td></tr></table></td></tr></table>
<a name="1.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Location of executable programs</h2>
</div><div class="Bodytext">
<p>GUI application programs must be located in a folder under the
<code class="filename">z:\system\apps\</code> directory tree to appear on the Extras bar.</p>
<p>This usual configuration is determined by the way that the Emulator
locates a library file that is to be loaded. In detail, this is as
follows:</p>
<ul>
<li>
<p>if the filename includes a drive, the filename is mapped using
the appropriate virtual drive mapping</p>
</li>
<li>
<p>if the filename is specified without a drive letter, then the
virtual <code class="filename">z:</code> parent directory is searched</p>
</li>
<li>
<p>if the library is not found, an attempt is made to find the
library in the same way as on a target machine: i.e. virtual drives
<code class="filename">y:</code> to <code class="filename">a:</code>, then <code class="filename">z:\system\libs\</code>, are
searched.</p>
</li>
</ul>
<p>Executable applications, e.g. text console applications, must be
located in the same directory as those <code class="filename">dll</code> files which they
statically link to. The usual approach is to build both <code class="filename">exe</code> and
<code class="filename">dll</code> files to the <code class="filename">z:</code> parent directory. The location of
emulated drives is calculated from the directory containing the
<code class="filename">exe</code>.</p>
<a name="1.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Installation of more than one SDK </h2>
</div><div class="Bodytext">
<p>The <code>EPOCROOT</code> environment variable allows different SDKs to be installed on the same drive. By changing <code>EPOCROOT</code> a
build can be done for the required SDK. There can only be one
<code>EPOCROOT</code> and therefore only one active development environment at
any one time. Tools are installed in a shared path while the rest of the
<code class="filename">epoc32</code> tree that comprises each SDK emulator can be installed in
its own directory. <code>EPOCROOT</code> points to the directory of the
&quot;active&quot; emulator installation and tools that recognise <code>EPOCROOT</code>,
such as <code class="filename">epoc.bat</code> build into this location. The
<code class="filename">epoc.bat</code> tool is invoked to launch the active emulator. </p>
<p>It should be noted that the emulator may still be used in the same
way as for ER5&#0160;&#8212;  by installing the emulator in its own drive and running
the executable <code class="filename">epoc.exe</code>.</p>
<a name="1.8.4"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>See also</h3>
</div><div class="Bodytext">
<p><a href="HowToEPOCRoot.guide.html#emulator%2ehow%2dto%2eepoc%2droot">How to configure the EPOCROOT environment variable</a>,
<a href="HowtoStart.guide.html#emulator%2ehowto%2dstart">How to start the emulator</a>.</p>
<a name="1.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Application data files</h2>
</div><div class="Bodytext">
<p>Application data files can be copied from a Symbian machine, using
EPOC Connect, onto a  Emulator virtual drive and opened from within the
Emulator. This is not true of Application code which must be re-compiled to run
on each platform.</p>
<p>Installation <code class="filename">.sis</code> files can be installed on the
Emulator, using the application install program from the Emulator's application
launcher. The install program dispalys a list of <code class="filename">.sis</code> files to
install. These should be located in <code class="filename">.\epoc32\wins\c\</code>. </p>
<p>Applications are installed to
<code class="filename">.\epoc32\release\wins\udeb\z\system\apps\</code> for debug builds or
<code class="filename">.\epoc32\release\wins\urel\z\system\apps\</code> for release builds.
</p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
