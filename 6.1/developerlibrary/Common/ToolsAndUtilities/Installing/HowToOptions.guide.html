<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>How to install optional components</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="Installing%2ehowto%2dconditionblock"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="HowToText.guide.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="HowToEmbeddedSis.guide.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../index.html">Tools&nbsp;And&nbsp;Utilities</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Installation&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
How&nbsp;to&nbsp;install&nbsp;optional&nbsp;components</p>

<hr noshade size="1">
<div class="AuthoredContent">


</div><div class="Head1">

<h1>How to install optional components</h1>
</div><div class="Bodytext">
<p>The package file can be used to specify a number of options to be
offered to the user. The installation file performs
different actions depending on the selected option, e.g. installs a different
set of files.</p>
<p>The process is:</p>
<ol>
<li>
<p>Create a text file with extension <code class="filename">.pkg</code>.</p>
</li>
<li>
<p>Specify the supported languages and the package header. These are
discussed in the &#8220;How to&#8221; topics for a simple installation and
for installing a multilingual application.</p>
</li>
<li>
<p>Specify an options block. The block defines, in a comma separated
block, the text identifying each option, and hence the number of
options.</p>
</li>
<li>
<p>For each option, specify the source and target destinations for
the files to be installed. The files are specified in condition blocks between <code>if
option</code><code>x</code> and <code>endif</code>
condition statements. There is normally a condition block for every option
defined in the option block.</p>
</li>
<li>
<p>Specify the source and target destinations for any other files to
be installed.</p>
</li>
<li>
<p>Invoke the Installation File Generator on the package
file.</p>
</li>
</ol>
<a name="1.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>See also</h2>
</div><div class="Bodytext">
<p><a href="HowToSimple.guide.html#Installing%2ehowto%2dsimple">How to create a simple installation file</a>,
<a href="HowToLanguages.guide.html#Installing%2ehowto%2dmulitlingual">How to create an installation file for a multilingual application</a></p>
<a name="1.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Example</h2>
</div><div class="Bodytext">
<p>The project file for an installation in which files may be
conditionally installed is provided in
<code class="filename">epoc32ex\ToolsAndUtilities\HelloWorldOptions.pkg</code>. A listing
of the file is given below:</p>
<p class="CodeBlock"><code>#{&quot;Minimal application&quot;},(0x10004299),1,0,0<br>&nbsp;&nbsp;!({&quot;Install sample document (1Kb)&quot;}, <br>&nbsp;&nbsp;{&quot;Install sample document2 (1Kb)&quot;})</code></p>
<p class="CodeBlock"><code>If option1<br>&nbsp;&nbsp;&quot;sample.txt&quot;-&quot;!:\Documents\sample.txt&quot;;<br>endif</code></p>
<p class="CodeBlock"><code>if option2<br>&nbsp;&nbsp;&quot;sample2.txt&quot;-&quot;!:\Documents\sample2.txt&quot;;<br>endif</code></p>
<p class="CodeBlock"><code>&quot;HelloWorld.app&quot;-&quot;!:\system\apps\HelloWorld\HelloWorld.app&quot;<br>&quot;HelloWorld.rsc&quot;-&quot;!:\system\apps\HelloWorld\HelloWorld.rsc&quot;.</code></p>
<p>The package file installs exactly the same application as described
in the &#8220;How to&#8221; for a simple installation. Consequently the
package header, and the final lines in which the application files are
installed are the same as for the simple installation.</p>
<p>However the installation also specifies two sample documents,
either or both of which the user can choose to install. </p>
<p>The second line defines an option block with two options. The text
in these options is displayed to the user at installation time. Note that the
size of the file is displayed to the user in parenthesis, so that the user can
judge the disk space cost of selecting the option.</p>
<p>The condition blocks control the installation of the sample files,
depending on the user&#8217;s selection.</p>
<p>To create the installation file <code class="filename">HelloWorldOptions.sis</code>,
invoke the Installation File Generator on the package file:</p>
<p class="CodeBlock"><code>makesis HelloWorldOptions.pkg</code></p>
<a name="1.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Notes:</h2>
</div><div class="Bodytext">
<ul>
<li>
<p>option1 and option2 are global variables with which can hold one of two
values â€” 0 signifies that the option is not selected, 1 signifies that
the option is selected. If the first option is selected the value of option1 is
1 and the file <code class="filename">sample.txt</code> is installed. If the value of sample 2
is 0 the optional file <code class="filename">sample2.txt</code> is not installed. </p>
</li>
<li>
<p>Any option lines should ideally appear towards the start of the
<code class="filename">pkg</code> file so that the user is prompted at the start of
installation, however this is not required and the options may be displayed at
any point in the installation.</p>
</li>
<li>
<p>There are a number of concepts in the file which are explained in the
&#8220;How To&#8221; for a simple installation (e.g. UID, Build number,
comments). See this topic for more information.</p>
</li>
</ul>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
