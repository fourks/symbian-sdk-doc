<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>Reading and writing data</title>
<link href="../../../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="IrDAGuide2%2ereading%2dwriting"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../../../index/index.html"><img
src="../../../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../../../GlobalGlossary/index.html"><img src="../../../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="HowToIrDASecondaryConnection.guide.html"><img src="../../../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="HowToIrDAWriteData.guide.html"><img src="../../../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../Product/Generic/APIGuide/index.html">API&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../index.html">Infrared</a>&nbsp;<span class="separator">&#187;</span>
<a href="../index.html">Using&nbsp;IrDA&nbsp;Sockets</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">The&nbsp;IrDA&nbsp;Sockets&nbsp;API</a>&nbsp;<span class="separator">&#187;</span>
Reading&nbsp;and&nbsp;writing&nbsp;data</p>

<hr noshade size="1">
<div class="AuthoredContent">


</div><div class="Head1">

<h1>Reading and writing data</h1>
</div><div class="Bodytext">
<p>Once a device has been discovered and a socket connection
established, data transfer may begin.</p>
<p>Data may be transferred as either a non-urgent (unexpedited)
transmission or as an urgent (expedited) transmission.</p>
<p>The former is the default (i.e. <code>RSocket::Read()</code> and
<code>RSocket::Write()</code>) and should be used for beaming purposes. If an
expedited packet send is required, then an <code>RSocket::Send()</code> with
the <code>KExpeditedData</code> flag set must be queued. An urgent send is
placed at the head of the send queue and is processed first from the receive
queue of the remote machine. </p>
<p>The two EPOC IrDA protocol sets: &quot;IrMUX&quot; and &quot;IrTinyTP&quot;, treat data
transmission differently.</p>
<p>The &quot;IrMUX&quot; protocol set sends data as raw LM-MUX packets which does
not provide any guarantee of the data being correctly received by the remote
client application. By waiting for successful completion on each data write,
however, the application programmer can take advantage of the socket server's
flow control mechanism which blocks off completion of the write until the IrDA
protocol stack can accept further send data. In this way, the EPOC IrMUX
implementation at least ensures that data gets sent out at a smooth rate even
if there is no guarantee of it being remotely consumed.</p>
<p>In order to provide a reliable transport layer for IrDA data
transmissions, it is necessary to load the &quot;IrTinyTP&quot; protocol set. This
enables the programmer to send IrMUX data over IrTinyTP which flow controls off
the sender if the remote side does not consume data rapidly enough. Once the
relevant protocol set is loaded, however, the <code>RSocket</code> functions
for reading and writing data:</p>
<ul>
<li>
<p><code>RSocket::Write()</code></p>
</li>
<li>
<p><code>RSocket::Send()</code></p>
</li>
<li>
<p><code>RSocket::Recv()</code></p>
</li>
<li>
<p><code>RSocket::RecvOneOrMore()</code></p>
</li>
<li>
<p><code>RSocket::Read()</code>.</p>
</li>
</ul>
<p>are identical for both raw &quot;IrMUX&quot; and reliable &quot;IrTinyTP&quot;.</p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
