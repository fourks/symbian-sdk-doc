<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>General events</title>
<link href="../../../../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="WindowServerGuide%2eGeneralEvents"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../../../../_index/index.html"><img
src="../../../../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../../../../GlobalGlossary/index.html"><img src="../../../../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="WindowServerEvents.guide.html"><img src="../../../../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="RedrawEvents.html"><img src="../../../../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../../Product/Generic/APIGuide/index.html">API&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../index.html">Graphics</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../index.html">Using&nbsp;Window&nbsp;Server</a>&nbsp;<span class="separator">&#187;</span>
<a href="../index.html">Window&nbsp;server&nbsp;architecture</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Window&nbsp;server&nbsp;events</a>&nbsp;<span class="separator">&#187;</span>
General&nbsp;events</p>

<hr noshade size="1">
<div class="AuthoredContent">


</div><div class="Head1">

<h1>General events</h1>
</div><div class="Bodytext">
<p>All events generated by the window server, except redraw events and priority key events, are delivered to the client in a <code>TWsEvent</code> which is
requested asynchronously by the <a href="../../../../../APIReference/WindowServerClientSide/RWsSessionClass.html#%3a%3aRWsSession%3a%3aEventReady%28%29" title="Requests standard events from the window server"><code class="ApiItem">RWsSession::EventReady()</code></a> function. When this request completes, it is handled by an active object
<a href="../../../../../APIReference/AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aRunL%28%29" title="Handles an active object's request completion event"><code class="ApiItem">CActive::RunL()</code></a> function which must use <a href="../../../../../APIReference/WindowServerClientSide/RWsSessionClass.html#%3a%3aRWsSession%3a%3aGetEvent%28%29" title="Gets a standard event from the session for processing"><code class="ApiItem">RWsSession::GetEvent()</code></a> to get the
<a href="../../../../../APIReference/WindowServerClientSide/TWsEventClass.html#%3a%3aTWsEvent" title="Window server event"><code class="ApiItem">TWsEvent</code></a> representing the event. The <a href="../../../../../APIReference/WindowServerClientSide/TWsEventClass.html#%3a%3aTWsEvent%3a%3aType%28%29" title="Gets the type of event that occurred"><code class="ApiItem">TWsEvent::Type()</code></a>
function is used to identify the event type which can then retrieve the appropriate type of data. Event types may be grouped as
follows:</p>
<ul>
<li>
<p>those relating to the system, e.g. switch-on</p><p>see <a href="HowToSystemRelatedEvents.html#WindowServerGuide%2eHowTo%2eSystemRelatedEvents">How to process system-related events</a></p></li>
<li>
<p>those relating to a window group, e.g. focus lost or gained,
key code, key up or down </p><p>see <a href="HowToWindowGroupRelatedEvents.html#WindowServeGuide%2eHowToGetKeyEvents">How to process window-group related events</a></p></li>
<li>
<p>those relating to a window, e.g. a pointer event</p>
<p> For this type of event the <a href="../../../../../APIReference/WindowServerClientSide/TWsEventClass.html#%3a%3aTWsEvent%3a%3aHandle%28%29" title="Gets the window handle"><code class="ApiItem">TWsEvent::Handle()</code></a> function
may be used to identify the window. Each window, when created by the client, is
given a handle which the client uses to identify the window associated with a
particular event. </p><p>see <a href="HowToWindowRelatedEvents.html#WindowServerGuide%2eHowTo%2eWindowRelatedEventTypes">How to process window-related events</a></p></li>
</ul>
<p>Certain event types are not automatically delivered to the window server session: if they are required they must be explicitly requested by a window. The window server session will then receive the events, with a handle to the window that requested them, and the handle can be used to invoke a member function of the window that requested the events.
Events that must be requested in this way are of the following types: </p><ul><li><p>on events, e.g. when the  machine is powered up, either by pressing the On key, opening the case, touching the screen or an alarm going off</p><p>Use<a href="../../../../../APIReference/WindowServerClientSide/RWindowTreeNodeClass.html#%3a%3aRWindowTreeNode%3a%3aEnableOnEvents%28%29" title="Requests notification of on events"><code class="ApiItem">RWindowTreeNode::EnableOnEvents()</code></a> to instruct the server to report system switch on events to this window. </p></li><li><p> window group changed events</p><p>Use <a href="../../../../../APIReference/WindowServerClientSide/RWindowTreeNodeClass.html#%3a%3aRWindowTreeNode%3a%3aEnableGroupChangeEvents%28%29" title="Requests notification of group-change events"><code class="ApiItem">RWindowTreeNode::EnableGroupChangeEvents()</code></a> to instruct the window server to report group-change events to this window. These events will typically be of interest to a shell or similar application, for example to notify it that it should update its list of running applications</p></li><li><p>modifier changed events, i.e., when one of the modifier keys is pressed or released</p><p>Use <a href="../../../../../APIReference/WindowServerClientSide/RWindowTreeNodeClass.html#%3a%3aRWindowTreeNode%3a%3aEnableModifierChangedEvents%28%29" title="Requests notification of modifier changed events"><code class="ApiItem">RWindowTreeNode::EnableModifierChangedEvents()</code></a> to instruct the window server to report modifier changed events to this window. Values for the modifier keys are defined in <code class="ApiItem">TEventModifier</code>. </p></li><li><p>focus changed events</p><p>Use <a href="../../../../../APIReference/WindowServerClientSide/RWindowTreeNodeClass.html#%3a%3aRWindowTreeNode%3a%3aEnableFocusChangeEvents%28%29" title="Enables focus changed events"><code class="ApiItem">RWindowTreeNode::EnableFocusChangeEvents()</code></a> to instruct the window server to report when the window group with focus changes. </p></li><li><p> error message events, e.g., out of memory messages</p><p>use<code class="ApiItem">RWindowTreeNode::EnableFocusChangedEvents()</code> to instruct the window server to report error message events.</p></li></ul><p>If several windows associated with a window server session request notification of the same event, then the event is notified separately to all windows which requested it.
</p><p> Events of type  <code>EEventScreenDeviceChanged</code>  are issued if the screen size mode changes. Such events are sent, for example, when the flip on an Ericsson R380 phone is opened or closed.
Use <code class="ApiItem">EnableScreenChangeEvents()</code> to instruct the window server to report screen change events to a window group.</p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
