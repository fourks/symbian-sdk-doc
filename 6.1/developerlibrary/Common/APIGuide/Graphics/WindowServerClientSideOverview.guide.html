<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>Window Server Overview</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="WindowServerClientSideOverview%2emain"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="PrintingOverview.guide.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="Animation/index.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIGuide/index.html">API&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Graphics</a>&nbsp;<span class="separator">&#187;</span>
Window&nbsp;Server&nbsp;Overview</p>

<hr noshade size="1">
<div class="AuthoredContent">


</div><div class="Head1">

<h1>Window Server Client-Side overview</h1>
</div><div class="Bodytext">
<a name="1.3"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Purpose</h2>
</div><div class="Bodytext">
<p>Manages application's access to the screen and input
devices.</p>
<a name="1.4"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Architectural relationships</h2>
</div><div class="Bodytext">
<p>The machine's screen and input devices are shared resources for all
running applications. The window server controls and co-ordinates access: e.g.
drawing is clipped to the application&#8217;s visible window, pointer events
are only received if related to the application&#8217;s windows, and keyboard
events are normally given to an application with focus.</p>
<p>The key window server interfaces&#0160;&#8212;  discussed below under
Session, Events, Window group, and Drawable windows&#0160;&#8212;  are low-level and
are mostly encapsulated in the UI Control Framework (a control being a drawable
rectangular screen area that receives input events, and is possibly but not
necessarily a window). </p>
<a name="1.5"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Description</h2>
</div><div class="Bodytext">
<p>The API has seven key concepts: session (<code class="ApiItem">RWSession</code>), events (<a href="../../APIReference/WindowServerClientSide/TWsEventClass.html#%3a%3aTWsEvent" title="Window server event"><code class="ApiItem">TWsEvent</code></a>), window group (<a href="../../APIReference/WindowServerClientSide/RWindowGroupClass.html#%3a%3aRWindowGroup" title="Client-side handle to a server-side window group"><code class="ApiItem">RWindowGroup</code></a>),
drawable windows (<a href="../../APIReference/WindowServerClientSide/RWindowClass.html#%3a%3aRWindow" title="Handle to a standard window"><code class="ApiItem">RWindow</code></a>), graphics (<a href="../../APIReference/WindowServerClientSide/CWindowGcClass.html#%3a%3aCWindowGc" title="Window graphics context"><code class="ApiItem">CWindowGc</code></a>, <a href="../../APIReference/WindowServerClientSide/CWsBitmapClass.html#%3a%3aCWsBitmap" title="Window server bitmap"><code class="ApiItem">CWsBitmap</code></a> and <a href="../../APIReference/WindowServerClientSide/CWsScreenDeviceClass.html#%3a%3aCWsScreenDevice" title="Software device screen"><code class="ApiItem">CWsScreenDevice</code></a>), sprites and cursors (<a href="../../APIReference/WindowServerClientSide/RWsSpriteClass.html#%3a%3aRWsSprite" title="Sprite"><code class="ApiItem">RWsSprite</code></a> and <a href="../../APIReference/WindowServerClientSide/RWsPointerCursorClass.html#%3a%3aRWsPointerCursor" title="Pointer cursor"><code class="ApiItem">RWsPointerCursor</code></a>), and animation client (<a href="../../APIReference/WindowServerClientSide/RAnimClass.html#%3a%3aRAnim" title="Client-side handle to a server-side animation class"><code class="ApiItem">RAnim</code></a>). </p>
<a name="1.5.3"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Session</h3>
</div><div class="Bodytext">
<p>A window server session allows an application to control and
interrogate its windows, the events it wishes to receive, and all other window
groups connected to the window server. </p>
<p>It is provided by <a href="../../APIReference/WindowServerClientSide/RWsSessionClass.html#%3a%3aRWsSession" title="Window server session"><code class="ApiItem">RWsSession</code></a>.</p>
<a name="1.5.4"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Events</h3>
</div><div class="Bodytext">
<p>Applications function by waiting for events and handling them.
Common events are user input, and requests that windows be redrawn. The window
server session is used to request and obtain events.</p>
<p>Most events (such as key and point events) are encapsulated in
<a href="../../APIReference/WindowServerClientSide/TWsEventClass.html#%3a%3aTWsEvent" title="Window server event"><code class="ApiItem">TWsEvent</code></a>.</p>
<p>A redraw event tells the application what screen area needs
redrawing. It is encapsulated in <a href="../../APIReference/WindowServerClientSide/TWsRedrawEventClass.html#%3a%3aTWsRedrawEvent" title="Window server redraw event"><code class="ApiItem">TWsRedrawEvent</code></a>.</p>
<a name="1.5.5"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Window group</h3>
</div><div class="Bodytext">
<p>A window group is special non-displayable type of window, which
can be considered as the root window of an application. Keyboard focus and
events are associated with it, and it can have a name, used for such things as
lists of running applications. </p>
<p>It is provided by <a href="../../APIReference/WindowServerClientSide/RWindowGroupClass.html#%3a%3aRWindowGroup" title="Client-side handle to a server-side window group"><code class="ApiItem">RWindowGroup</code></a>.</p>
<a name="1.5.6"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Drawable windows</h3>
</div><div class="Bodytext">
<p>Drawable windows allow applications to draw to the screen. They
have operations to control size, position, visibility, scrolling, z-order, and
parent/child relationships. </p>
<p>In a standard drawable window, areas that become invalid (e.g.
when an overlaying window is removed) must be redrawn by the client
application. It is provided by <a href="../../APIReference/WindowServerClientSide/RWindowClass.html#%3a%3aRWindow" title="Handle to a standard window"><code class="ApiItem">RWindow</code></a>.</p>
<p>A backed-up drawable window's content is stored by the window
server, and redrawn by the server when it becomes invalid. It is provided by
<a href="../../APIReference/WindowServerClientSide/RBackedUpWindowClass.html#%3a%3aRBackedUpWindow" title="Client-side handle to a drawable window with a back buffer"><code class="ApiItem">RBackedUpWindow</code></a>.</p>
<p>These window types are derived from a sequence of base classes,
<a href="../../APIReference/WindowServerClientSide/RWindowTreeNodeClass.html#%3a%3aRWindowTreeNode" title="Handle to a node in the server-side window tree"><code class="ApiItem">RWindowTreeNode</code></a>, <a href="../../APIReference/WindowServerClientSide/RWindowBaseClass.html#%3a%3aRWindowBase" title="Client-side handle to a server-side window"><code class="ApiItem">RWindowBase</code></a>, and
<a href="../../APIReference/WindowServerClientSide/RDrawableWindowClass.html#%3a%3aRDrawableWindow" title="Handle to a drawable window"><code class="ApiItem">RDrawableWindow</code></a>.</p>
<a name="1.5.7"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Graphics</h3>
</div><div class="Bodytext">
<p>Applications draw to drawable windows through a windows graphics
context provided by a windows graphics device. These implement the abstract
graphics context and graphics device interfaces respectively, as defined in the
Graphics API. </p>
<p>The windows graphics context is provided by
<a href="../../APIReference/WindowServerClientSide/CWindowGcClass.html#%3a%3aCWindowGc" title="Window graphics context"><code class="ApiItem">CWindowGc</code></a>; the windows graphics device by
<a href="../../APIReference/WindowServerClientSide/CWsScreenDeviceClass.html#%3a%3aCWsScreenDevice" title="Software device screen"><code class="ApiItem">CWsScreenDevice</code></a>. The bitmap class, <a href="../../APIReference/Bitmaps/CFbsBitmapClass.html#%3a%3aCFbsBitmap" title="A bitmap managed by the font and bitmap server"><code class="ApiItem">CFbsBitmap</code></a>, is
extended for most efficient use with the window server by
<a href="../../APIReference/WindowServerClientSide/CWsBitmapClass.html#%3a%3aCWsBitmap" title="Window server bitmap"><code class="ApiItem">CWsBitmap</code></a>.</p>
<a name="1.5.8"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Sprites and cursors</h3>
</div><div class="Bodytext">
<p>A sprite is an arbitrary-shaped bitmap that can be moved without
applications having to redraw the underlying screen. It has one or more sprite
members, each containing a bitmap image and a time interval for that bitmap to
be displayed. </p>
<p>The sprite class is <a href="../../APIReference/WindowServerClientSide/RWsSpriteClass.html#%3a%3aRWsSprite" title="Sprite"><code class="ApiItem">RWsSprite</code></a>; the sprite member
class is <a href="../../APIReference/WindowServerClientSide/TSpriteMemberStruct.html#%3a%3aTSpriteMember" title="Sprite member"><code class="ApiItem">TSpriteMember</code></a>.</p>
<p>A specialised sprite type is provided for pointer cursors, which
automatically track the position of a pointer. It is provided by
<a href="../../APIReference/WindowServerClientSide/RWsPointerCursorClass.html#%3a%3aRWsPointerCursor" title="Pointer cursor"><code class="ApiItem">RWsPointerCursor</code></a>.</p>
<a name="1.5.9"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Animation client</h3>
</div><div class="Bodytext">
<p>Third-parties can write window server plug-in DLL's, as defined
in the Animation API, that perform animations. Providers of such animation DLLs
must also provide a client-side interface to allow applications to control the
animation. </p>
<p>The base class for an animation client-side interface is
<a href="../../APIReference/WindowServerClientSide/RAnimClass.html#%3a%3aRAnim" title="Client-side handle to a server-side animation class"><code class="ApiItem">RAnim</code></a>. </p>
<p>Clients must request an animation DLL to be loaded before the
animations provided by it can be used. This is done through
<a href="../../APIReference/WindowServerClientSide/RAnimDllClass.html#%3a%3aRAnimDll" title="Client-side interface to the server-side animation DLL"><code class="ApiItem">RAnimDll</code></a>.</p>
<a name="1.6"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>See also</h2>
</div><div class="Bodytext">
<p><a href="AnimationOverview.guide.html#AnimationOverview%2emain">Animation Overview</a></p>
<p><a href="GraphicsGroupOverview.guide.html#GraphicsOverview%2emain" title="Graphics Framework Overview">Graphics (group) Overview</a></p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
