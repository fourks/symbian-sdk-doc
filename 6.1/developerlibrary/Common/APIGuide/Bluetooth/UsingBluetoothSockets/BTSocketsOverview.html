<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>Bluetooth Sockets overview</title>
<link href="../../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="bt%2eguide%2esockets%2eoverview"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../../index/index.html"><img
src="../../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../../GlobalGlossary/index.html"><img src="../../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="index.html"><img src="../../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="HowToFindAndConnectToADevice/index.html"><img src="../../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../../Product/Generic/APIGuide/index.html">API&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
<a href="../index.html">Bluetooth</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Using&nbsp;Bluetooth&nbsp;Sockets</a>&nbsp;<span class="separator">&#187;</span>
Bluetooth&nbsp;Sockets&nbsp;overview</p>

<hr noshade size="1">
<div class="AuthoredContent">


</div><div class="Head1">

<h1>Bluetooth Sockets overview</h1>
</div><div class="Bodytext">
<a name="1.3"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Purpose</h2>
</div><div class="Bodytext">
<p>Discovers other Bluetooth devices, and reads and writes data over Bluetooth.</p>
<p>There are two roles to be played in establishing a communications channel over Bluetooth:  initiator and receiver.  The receiver sets things up and then waits for an initiator to make the connection.  Once the connection has been made, both ends are equals, and either can send and receive data and terminate the connection.
This API allows either role to be programmed.</p>
<a name="1.4"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Architectural relationships</h2>
</div><div class="Bodytext">
<p>The Bluetooth Sockets API supports communication over both the L2CAP and RFCOMM layers of the Bluetooth protocol suite.  The API is based on the <a href="../../CommsInfrastructure/SocketsClientGuide/index.html#SocketsGuide%2eindex">Sockets Client-Side API</a>, which provides a standard API that allows a client to make a connection to a remote device or have the remote device connect to it, then to send and receive data before disconnecting.
The Bluetooth Sockets API adds appropriate types and constants that enable the sockets API to be used with Bluetooth.</p>
<a name="1.5"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Description</h2>
</div><div class="Bodytext">
<p>The API has five key concepts: socket address, remote device inquiry, RFCOMM commands and options, L2CAP commands, and HCI commands.</p>
<a name="1.5.3"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Socket address</h3>
</div><div class="Bodytext">
<p>Each Bluetooth device has a unique 48-bit address. This is encapsulated by <a href="../../../APIReference/BluetoothSockets/TBTDevAddrClass.html#%3a%3aTBTDevAddr" title="A 48-bit Bluetooth device address"><code class="ApiItem">TBTDevAddr</code></a>.</p><p>The sockets API encapsulates a generic communications end point through a <a href="../../../APIReference/SocketsClient/TSockAddrClass.html#%3a%3aTSockAddr" title="Represents an end point address"><code class="ApiItem">TSockAddr</code></a>. Bluetooth provides a specialised version of this, <a href="../../../APIReference/BluetoothSockets/TBTSockAddrClass.html#%3a%3aTBTSockAddr" title="Base class for Bluetooth socket address classes"><code class="ApiItem">TBTSockAddr</code></a>, which adds a Bluetooth device address field.</p>
<a name="1.5.4"></a>
</div><div class="Head3">
<hr size="1" noshade>
<h3>Remote device inquiry</h3>
</div><div class="Bodytext">
<p>A client can query for available remote devices through the sockets class <a href="../../../APIReference/SocketsClient/RHostResolverClass.html#%3a%3aRHostResolver" title="Provides an interface to host name resolution services, such as DNS, that may be provided by particular protocol modules"><code class="ApiItem">RHostResolver</code></a>.  A parameter of type <a href="../../../APIReference/BluetoothSockets/TInquirySockAddrClass.html#%3a%3aTInquirySockAddr" title="Socket address class used for remote device inquiries"><code class="ApiItem">TInquirySockAddr</code></a> is supplied for such queries: principally, this  allows you to limit discovery to a particular classes of device.</p>
<a name="1.5.5"></a></div><div class="Head3">
<hr size="1" noshade>
<h3>Commands and options</h3>
</div><div class="Bodytext"><p>You can send commands to an RFCOMM socket through an <a href="../../../APIReference/SocketsClient/RSocketClass.html#%3a%3aRSocket%3a%3aIoctl%28%29" title="Applies an asynchronous control operation on a socket"><code class="ApiItem">RSocket::Ioctl()</code></a> call. Options on a socket can be get and set through <a href="../../../APIReference/SocketsClient/RSocketClass.html#%3a%3aRSocket%3a%3aGetOpt%28%29" title="Gets a socket option"><code class="ApiItem">RSocket::GetOpt()</code></a> and <a href="../../../APIReference/SocketsClient/RSocketClass.html#%3a%3aRSocket%3a%3aSetOpt%28%29" title="Sets a socket option"><code class="ApiItem">RSocket::SetOpt()</code></a> respectively.</p><p>You can send commands to L2CAP sockets and to the HCI layer through <a href="../../../APIReference/SocketsClient/RSocketClass.html#%3a%3aRSocket%3a%3aIoctl%28%29" title="Applies an asynchronous control operation on a socket"><code class="ApiItem">RSocket::Ioctl()</code></a>.</p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
