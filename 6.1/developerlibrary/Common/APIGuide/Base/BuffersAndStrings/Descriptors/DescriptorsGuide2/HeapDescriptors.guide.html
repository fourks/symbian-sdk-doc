<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>Heap descriptors</title>
<link href="../../../../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="DescriptorsGuide2%2eheap"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../../../../_index/index.html"><img
src="../../../../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../../../../GlobalGlossary/index.html"><img src="../../../../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="BufferDescriptors.guide.html"><img src="../../../../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="PointerDescriptors.guide.html"><img src="../../../../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../../Product/Generic/APIGuide/index.html">API&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../index.html">Base</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../index.html">Buffers&nbsp;and&nbsp;Strings</a>&nbsp;<span class="separator">&#187;</span>
<a href="../index.html">Using&nbsp;Descriptors</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Descriptor&nbsp;Types</a>&nbsp;<span class="separator">&#187;</span>
Heap&nbsp;descriptors</p>

<hr noshade size="1">
<div class="AuthoredContent">

</div><div class="Head1">

<h1>Heap descriptors</h1>
</div><div class="Bodytext">
<p>A heap descriptor provides a fixed length buffer, allocated on the heap, to contain and access data. The data is part of the descriptor object.</p>
<p>The data contained in a heap descriptor can be accessed, but not changed, through this descriptor. The data can, however, be completely replaced using the assignment operators.</p>
<p>A heap descriptor also has the important property that it can be made larger or smaller, changing the size of the descriptor's buffer. This is achieved by reallocating the descriptor. Unlike the behaviour of dynamic buffers, reallocation is not done automatically.</p>
<p>Data is accessed through functions provided by the base class.</p>
<p>A heap descriptor is supplied in two variants:</p>
<ul><li><p>the 16 bit variant, a <code>HBufC16</code>, to contain Unicode strings.</p></li>
<li><p>the 8 bit variant, a <code>HBufC8</code>, to contain non-Unicode strings and binary data.</p></li>
</ul><p>There is also a build independent type, <code>HBufC</code>. This is the type which is most commonly used in program code; the appropriate variant is selected at build time.</p>
<p>An explicit 8 bit variant is chosen for binary data. An explicit 16 bit variant is rarely used.</p>
<p>The base class, <code>TDesC</code>, contains a data member which holds the length of the data., The following drawing shows the layout of a <code>HBufC</code> object initialised with the string of five characters representing the English word &quot;Hello&quot;. The descriptor object is allocated on the heap.</p>
<div class="Figure">
<p class="Image"><img src="HeapDescriptorsHBufC.gif" alt=""  border="0"></p>
</div>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
