<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>How to use wrapping</title>
<link href="../../../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="TextViewsGuide2%2eHowToTextViewsWrapping"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../../../_index/index.html"><img
src="../../../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../../../GlobalGlossary/index.html"><img src="../../../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="HowToSetTheCursor.guide.html"><img src="../../../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="HowToTextViewsScrolling.guide.html"><img src="../../../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../Product/Generic/APIGuide/index.html">API&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../index.html">Application&nbsp;Framework</a>&nbsp;<span class="separator">&#187;</span>
<a href="../index.html">Using&nbsp;Text&nbsp;Views</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Using&nbsp;Text&nbsp;Views</a>&nbsp;<span class="separator">&#187;</span>
How&nbsp;to&nbsp;use&nbsp;wrapping</p>

<hr noshade size="1">
<div class="AuthoredContent">


</div><div class="Head1">

<h1>How to use wrapping</h1>
</div><div class="Bodytext">
<p>After any operation which resizes the <em>text
area</em>, the wrapping width may need to be changed. The code in
this section resets the view rectangle, and then resets the wrapping width
accordingly.</p>
<ul>
<li>
<p>Resize the view rectangle (an instance of class
<a href="../../../../APIReference/Graphics/TRectClass.html#%3a%3aTRect" title="Geometric rectangle"><code class="ApiItem">TRect</code></a>) by shrinking it by forty pixels in both directions.</p>
</li>
<li>
<p>Reset the view rectangle using <a href="../../../../APIReference/TextViews/CTextViewClass.html#%3a%3aCTextView%3a%3aSetViewRect%28%29" title="Sets the rectangle in which the text is displayed"><code class="ApiItem">CTextView::SetViewRect()</code></a>.</p>
</li>
</ul>
<p class="CodeBlock"><code>iViewRect.Shrink(40,40);<br>iTextView-&gt;SetViewRect(iViewRect);<br>iTextView-&gt;HandleGlobalChangeL(); <br>&nbsp;&nbsp;&nbsp;&nbsp;// update formatting and draw the completely revamped view</code></p>
<p>The following code sets the wrapping width to be the width of the new
view rectangle minus the total margin width, so that text wraps at the right
hand edge of the view rectangle.</p>
<ul>
<li>
<p>To ensure that text wrapping is set, use
<code class="ApiItem">CTextLayout::DisableWrapOverride(EFalse)</code>. By default, wrapping is
set.</p>
</li>
<li>
<p>As the wrapping width is a global document characteristic,
changes to it may be handled using <a href="../../../../APIReference/TextViews/CTextViewClass.html#%3a%3aCTextView%3a%3aHandleGlobalChangeL%28%29" title="Reformats and redraws the view after a global change has been made to the layout"><code class="ApiItem">CTextView::HandleGlobalChangeL()</code></a>.</p>
</li>
</ul>
<p class="CodeBlock"><code>// Wrap text to new view rectangle<br>TInt labelsWidth,lineCursorWidth;<br>// Get both margin widths<br>iTextView-&gt;MarginWidths(labelsWidth,lineCursorWidth);<br>// New wrap width = new view rect width minus total margin width<br>iLayout-&gt;SetWrapWidth(iViewRect.Width()-(labelsWidth+lineCursorWidth));<br>iLayout-&gt;DisableWrapOverride(EFalse); // Ensure wrapping on<br>iTextView-&gt;HandleGlobalChangeL();</code></p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
