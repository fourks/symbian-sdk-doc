<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>How to get user events</title>
<link href="../../../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="UIControlFrameworkGuide3%2eevents"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../../../index/index.html"><img
src="../../../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../../../GlobalGlossary/index.html"><img src="../../../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="DrawingControls.guide.html"><img src="../../../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="WritingCompoundControls.guide.html"><img src="../../../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../../../Product/Generic/APIGuide/index.html">API&nbsp;Guide</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../index.html">Application&nbsp;Framework</a>&nbsp;<span class="separator">&#187;</span>
<a href="../index.html">Using&nbsp;UI&nbsp;Control&nbsp;Framework</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">How&nbsp;to&nbsp;Write&nbsp;Controls</a>&nbsp;<span class="separator">&#187;</span>
How&nbsp;to&nbsp;get&nbsp;user&nbsp;events</p>

<hr noshade size="1">
<div class="AuthoredContent">


</div><div class="Head1">

<h1>How to get user events</h1>
</div><div class="Bodytext">
<p>The UI Control Framework receives events from the window server, and
channels them to controls for processing. Events are either redraw events, user
input events (pointer events and key events), or special events generated by
the window server in response to things happening in the system, such as the
machine being switched on.</p>
<a name="1.4"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Redraw events</h2>
</div><div class="Bodytext">
<p>These are generated by the window server whenever a window or part
of a window becomes invalid. The control framework handles redraw events
internally. It activates the graphics context for drawing, and calls the
control's <code>Draw()</code> function. See
<a href="DrawingControls.guide.html#UIControlFrameworkGuide3%2edraw%2ews%2dinitiate" title="How to draw controls / Window server-initiated drawing (redraw events)">Window server initiated drawing</a> for details.</p>
<a name="1.5"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Pointer events</h2>
</div><div class="Bodytext">
<p>To handle pointer events, a control should implement the function
<code>HandlePointerEventL()</code>. This function is called by the UI Control
Framework whenever a pointer event occurs within the control.</p>
<p>Before passing pointer events to
<code>HandlePointerEventL()</code>, the framework does some processing of the
event. If a <code>TPointerEvent::EButton1Down</code> event occurred in the
control, and the control does not currently have keyboard focus, it sends an
event of type <code>MCoeControlObserver::EEventRequestFocus</code> to the
control's observer&nbsp;&#8212; normally the control's container. The
container control should then set focus onto the control in which the
<code>TPointerEvent::EButton1Down</code> event occurred. </p>
<p>Note that, by default, pointer drag events and pointer move events
are not delivered to controls. See <code>EnableDragEvents()</code>.</p>
<a name="1.6"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Key events</h2>
</div><div class="Bodytext">
<p>Key events are delivered to controls by the control stack which
calls the control's <code>OfferKeyEventL()</code> function. Controls that need
to handle key events should therefore implement this function.</p>
<p>If a control does not take any action in response to the key event,
it <em>must</em> return <code>EKeyWasNotConsumed</code> from
<code>OfferKeyEventL()</code>. Otherwise, it will prevent other controls from
receiving the event.</p>
<a name="1.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Other event types</h2>
</div><div class="Bodytext">
<p>Other event types besides pointer events and key events are
sometimes used for specialist applications, but they must be accessed via the
window server. </p>
<a name="1.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Sending events to other controls&nbsp;&#8212; control
observers</h2>
</div><div class="Bodytext">
<p>In addition to handling events directly, controls may also send
events to other controls, using the control observer class,
<code>MCoeControlObserver</code>. These events are <b>not</b> user input
events, but a different set of event types defined by
<code>MCoeControlObserver</code>. </p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
