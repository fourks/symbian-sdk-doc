<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CFbsBitmap</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CFbsBitGcClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CFbsBitmapDeviceClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Bitmaps</a>&nbsp;<span class="separator">&#187;</span>
CFbsBitmap</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> fbs.h </code>
<br>Link against: <code> fbscli.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aCFbsBitmap"></a>

<h1>Class <code>CFbsBitmap</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CFbsBitmap</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>A bitmap managed by the font and bitmap server.</p>
<p>The class also defines some palette API functions. This
functionality is defined but not yet implemented, since none of the modes
currently supported by screen or bitmaps require variable palettes.</p>
<p>Note that the <code>CFbsBitmap</code> format is internal to
Symbian, but the
<a href="../ImageConverter/index.html#imageconverter%2etoc">Image Converter API</a> can be
used to convert them to standard formats.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CFbsBitmap</code></td><td class="Cell">A bitmap managed by the font and bitmap server</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CFbsBitmap</code>:
<br><code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aCFbsBitmap%28%29" title="Default constructor">CFbsBitmap()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aCreate%28%29" title="Creates a bitmap with a specified size and display-mode">Create()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aDataAddress%28%29" title="Gets the address of the first pixel of the bitmap">DataAddress()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aDisplayMode%28%29" title="Gets the display mode of the bitmap">DisplayMode()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aDuplicate%28%29" title="Duplicates a bitmap">Duplicate()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aExternalizeL%28%29" title="Externalises the bitmap to the specified stream">ExternalizeL()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aExternalizeRectangleL%28%29" title="Externalises that area of the bitmap contained within a specified rectangular area">ExternalizeRectangleL()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aGetPalette%28%29" title="Gets the bitmap's palette">GetPalette()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aGetPixel%28%29" title="Gets the RGB value of the specified pixel">GetPixel()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aGetScanLine%28%29" title="Gets the bitmap's scanline for the specified line starting from the specified point and using the specified dither offset">GetScanLine()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aGetVerticalScanLine%28%29" title="Gets the bitmap's vertical scanline starting at the specified x co-ordinate and using the specified dither offset">GetVerticalScanLine()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aHandle%28%29" title="Gets the handle number of the bitmap">Handle()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aHeader%28%29" title="Creates a bitmap header">Header()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aHorizontalPixelsToTwips%28%29" title="Converts a horizontal dimension on the graphics device from pixels to twips">HorizontalPixelsToTwips()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aHorizontalTwipsToPixels%28%29" title="Converts a horizontal dimension on the graphics device from twips to pixels">HorizontalTwipsToPixels()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aInternalizeL%28%29" title="Internalises a CFbsBitmap from a stream">InternalizeL()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aIsFileInRom%28%29" title="Tests whether or not the specified file is in ROM">IsFileInRom()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aIsLargeBitmap%28%29" title="Tests whether the bitmap is a large bitmap">IsLargeBitmap()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aIsMonochrome%28%29" title="Tests whether or not the bitmap is monochrome">IsMonochrome()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aIsRomBitmap%28%29" title="Tests whether or not the bitmap is in ROM">IsRomBitmap()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aLoad%28%29" title="Loads a specific bitmap from a multi-bitmap file">Load()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aPaletteAttributes%28%29" title="Sets two attributes for the bitmap's palette">PaletteAttributes()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aReset%28%29" title="Releases the bitmap's handle from the font and bitmap server and decrements its access count">Reset()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aResize%28%29" title="Resets the pixel-size of the bitmap">Resize()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aSave%28%29" title="Saves the bitmap as a direct file store">Save()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aScanLineLength%28%29" title="Gets the length of a scanline, in bytes">ScanLineLength()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aSetPalette%28%29" title="Sets the bitmap's palette">SetPalette()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aSetScanLine%28%29" title="Sets the bitmap's horizontal scanline at the specified y co-ordinate to the scanline contained in the buffer">SetScanLine()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aSetSizeInTwips%28%29" title="Sets the twip-size of the bitmap directly to the specified size">SetSizeInTwips()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aSizeInPixels%28%29" title="Gets the pixel-size of the bitmap">SizeInPixels()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aSizeInTwips%28%29" title="Gets the twip-size of the bitmap">SizeInTwips()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aStoreL%28%29" title="Constructs a multi-bitmap file">StoreL()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aVerticalPixelsToTwips%28%29" title="Converts a vertical dimension on the graphics device from pixels to twips">VerticalPixelsToTwips()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3aVerticalTwipsToPixels%28%29" title="Converts a vertical dimension on the graphics device from twips to pixels">VerticalTwipsToPixels()</a></code>, <code class="ApiItem"><a href="CFbsBitmapClass.html#%3a%3aCFbsBitmap%3a%3a%7eCFbsBitmap%28%29" title="Default destructor">~CFbsBitmap()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aCFbsBitmap%28%29"></a>
<hr size="1" noshade>
<h3><code>CFbsBitmap()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CFbsBitmap();</code></p><h4 class="subheading">Description</h4>
<p>Default constructor.</p>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3a%7eCFbsBitmap%28%29"></a>
<hr size="1" noshade>
<h3><code>~CFbsBitmap()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>~CFbsBitmap();</code></p><h4 class="subheading">Description</h4>
<p>Default destructor.</p>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Bitmap creation</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aCreate%28%29"></a>
<hr size="1" noshade>
<h3><code>Create()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Create(const TSize&amp; aSizeInPixels,TDisplayMode aDispMode);</code></p><h4 class="subheading">Description</h4>
<p>Creates a bitmap with a specified size and display-mode.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TSize&amp; aSizeInPixels </code></td>
<td class="Cell"><p class="ValueDesc"> The size of the bitmap to be created. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDisplayMode aDispMode </code></td>
<td class="Cell"><p class="ValueDesc"> The display-mode of the bitmap to be created. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code>, if successful;
<code>KErrCouldNotConnect</code>, if no connection to the font and bitmap
server could be made; <code>KErrArgument</code>, if the specified size is
illegal.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aDuplicate%28%29"></a>
<hr size="1" noshade>
<h3><code>Duplicate()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Duplicate(TInt aHandle);</code></p><h4 class="subheading">Description</h4>
<p>Duplicates a bitmap.</p>
<p>This function does not create a copy of the bitmap. It just
assigns another handle to the bitmap in the font and bitmap server, and sets
this object's handle to that. If the specified bitmap is in the ROM, it just
assigns a pointer to it.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aHandle </code></td>
<td class="Cell"><p class="ValueDesc"> The handle to an existing bitmap.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful;
<code>KErrCouldNotConnect</code> if no connection to the font and bitmap server
could be made; <code>KErrUnknown</code> if no bitmap could be found with the
specified handle number.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aHeader%28%29"></a>
<hr size="1" noshade>
<h3><code>Header()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>SEpocBitmapHeader Header() const;</code></p><h4 class="subheading">Description</h4>
<p>Creates a bitmap header.</p>
<p>This is used when streaming bitmaps to stores.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> SEpocBitmapHeader </code></td>
<td class="Cell"><p class="ValueDesc"> The bitmap header for the bitmap. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aReset%28%29"></a>
<hr size="1" noshade>
<h3><code>Reset()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Reset();</code></p><h4 class="subheading">Description</h4>
<p>Releases the bitmap&#8217;s handle from the font and bitmap
server and decrements its access count.</p>
<p>The server-side bitmap is only deleted when the access count
for the bitmap decrements to zero.</p>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Bitmap information</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aDisplayMode%28%29"></a>
<hr size="1" noshade>
<h3><code>DisplayMode()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TDisplayMode DisplayMode() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the display mode of the bitmap.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDisplayMode </code></td>
<td class="Cell"><p class="ValueDesc"> The display mode of the bitmap. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aDataAddress%28%29"></a>
<hr size="1" noshade>
<h3><code>DataAddress()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUint32* DataAddress() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the address of the first pixel of the bitmap. </p>
<p>The first pixel is at the top-left.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint32* </code></td>
<td class="Cell"><p class="ValueDesc"> The address of the first pixel of the bitmap.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aHandle%28%29"></a>
<hr size="1" noshade>
<h3><code>Handle()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Handle() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the handle number of the bitmap.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> The handle number of the bitmap. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Scanlines</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aGetPixel%28%29"></a>
<hr size="1" noshade>
<h3><code>GetPixel()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetPixel(TRgb&amp; aColor,const TPoint&amp; aPixel) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the RGB value of the specified pixel.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TRgb&amp; aColor </code></td>
<td class="Cell"><p class="ValueDesc"> The RGB value of the specified pixel. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aPixel </code></td>
<td class="Cell"><p class="ValueDesc"> The pixel whose colour is to be determined. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aGetScanLine%28%29"></a>
<hr size="1" noshade>
<h3><code>GetScanLine()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetScanLine(TDes8&amp; aBuf,const TPoint&amp; aPixel,TInt aLength,TDisplayMode aDispMode) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the bitmap&#8217;s scanline for the specified line
starting from the specified point.</p>
<p>The dither offset of the bitmap is taken to be
<code>TPoint(0,0)</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes8&amp; aBuf </code></td>
<td class="Cell"><p class="ValueDesc"> The buffer in which the scanline is returned. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aPixel </code></td>
<td class="Cell"><p class="ValueDesc"> The start pixel. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aLength </code></td>
<td class="Cell"><p class="ValueDesc"> The number of pixels to get. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDisplayMode aDispMode </code></td>
<td class="Cell"><p class="ValueDesc"> The bitmap&#8217;s display-mode. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aGetScanLine%28%29"></a>
<hr size="1" noshade>
<h3><code>GetScanLine()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetScanLine(TDes8&amp; aBuf,const TPoint&amp; aPixel,TInt aLength,const TPoint&amp; aDitherOffset,TDisplayMode aDispMode) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the bitmap&#8217;s scanline for the specified line
starting from the specified point and using the specified dither offset.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes8&amp; aBuf </code></td>
<td class="Cell"><p class="ValueDesc"> The buffer in which the scanline is returned. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aPixel </code></td>
<td class="Cell"><p class="ValueDesc"> The start pixel. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aLength </code></td>
<td class="Cell"><p class="ValueDesc"> The number of pixels to get. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aDitherOffset </code></td>
<td class="Cell"><p class="ValueDesc"> The dither offset of the bitmap. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDisplayMode aDispMode </code></td>
<td class="Cell"><p class="ValueDesc"> The bitmap&#8217;s display-mode. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.5"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aGetVerticalScanLine%28%29"></a>
<hr size="1" noshade>
<h3><code>GetVerticalScanLine()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetVerticalScanLine(TDes8&amp; aBuf,TInt aX,TDisplayMode aDispMode) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the bitmap&#8217;s vertical scanline starting at the
specified x co-ordinate.</p>
<p>The dither offset of the bitmap is taken to be
<code>TPoint(0,0)</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes8&amp; aBuf </code></td>
<td class="Cell"><p class="ValueDesc"> The buffer in which the vertical scanline is returned. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aX </code></td>
<td class="Cell"><p class="ValueDesc"> The x co-ordinate of the vertical scanline. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDisplayMode aDispMode </code></td>
<td class="Cell"><p class="ValueDesc"> The bitmap&#8217;s display-mode. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.6"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aGetVerticalScanLine%28%29"></a>
<hr size="1" noshade>
<h3><code>GetVerticalScanLine()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetVerticalScanLine(TDes8&amp; aBuf,TInt aX,const TPoint&amp; aDitherOffset,TDisplayMode aDispMode) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the bitmap&#8217;s vertical scanline starting at the
specified x co-ordinate and using the specified dither offset.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes8&amp; aBuf </code></td>
<td class="Cell"><p class="ValueDesc"> The buffer in which the vertical scanline will be returned.
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aX </code></td>
<td class="Cell"><p class="ValueDesc"> The x co-ordinate of the vertical scanline to get. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aDitherOffset </code></td>
<td class="Cell"><p class="ValueDesc"> The dither offset of the bitmap. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDisplayMode aDispMode </code></td>
<td class="Cell"><p class="ValueDesc"> The bitmap&#8217;s display-mode. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.7"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aScanLineLength%28%29"></a>
<hr size="1" noshade>
<h3><code>ScanLineLength()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt ScanLineLength(TInt aLength,TDisplayMode aDispMode);</code></p><h4 class="subheading">Description</h4>
<p>Gets the length of a scanline, in bytes.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aLength </code></td>
<td class="Cell"><p class="ValueDesc"> The length of a scanline in pixels. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDisplayMode aDispMode </code></td>
<td class="Cell"><p class="ValueDesc"> The display mode of the bitmap. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> Number of bytes in the scanline. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.8"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aSetScanLine%28%29"></a>
<hr size="1" noshade>
<h3><code>SetScanLine()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetScanLine(TDes8&amp; aBuf,TInt aY) const;</code></p><h4 class="subheading">Description</h4>
<p>Sets the bitmap&#8217;s horizontal scanline at the specified y
co-ordinate to the scanline contained in the buffer.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes8&amp; aBuf </code></td>
<td class="Cell"><p class="ValueDesc"> The new scanline to be written to the bitmap. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aY </code></td>
<td class="Cell"><p class="ValueDesc"> The y co-ordinate of the scanline. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Twip/pixel mapping</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aHorizontalPixelsToTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>HorizontalPixelsToTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt HorizontalPixelsToTwips(TInt aPixels) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a horizontal dimension on the graphics device from
pixels to twips.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aPixels </code></td>
<td class="Cell"><p class="ValueDesc"> A horizontal dimension on the graphics device in pixels.
</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> A horizontal dimension on the graphics device in twips.
</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.3"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aHorizontalTwipsToPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>HorizontalTwipsToPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt HorizontalTwipsToPixels(TInt aTwips) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a horizontal dimension on the graphics device from
twips to pixels.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aTwips </code></td>
<td class="Cell"><p class="ValueDesc"> A horizontal dimension on the graphics device in twips.
</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> A horizontal dimension on the graphics device in pixels.
</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.4"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aVerticalPixelsToTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>VerticalPixelsToTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt VerticalPixelsToTwips(TInt aPixels) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a vertical dimension on the graphics device from
pixels to twips.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aPixels </code></td>
<td class="Cell"><p class="ValueDesc"> A vertical dimension on the graphics device in pixels. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> A vertical dimension on the graphics device in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.5"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aVerticalTwipsToPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>VerticalTwipsToPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt VerticalTwipsToPixels(TInt aTwips) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a vertical dimension on the graphics device from twips
to pixels.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aTwips </code></td>
<td class="Cell"><p class="ValueDesc"> A vertical dimension on the graphics device in twips. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> A vertical dimension on the graphics device in pixels. </p></td>
</tr>
</table></td></tr></table>
<a name="2.11"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Sizing/resizing bitmaps</h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aSizeInPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>SizeInPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TSize SizeInPixels() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the pixel-size of the bitmap.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TSize </code></td>
<td class="Cell"><p class="ValueDesc"> The size of the bitmap, in pixels. </p></td>
</tr>
</table></td></tr></table>
<a name="2.11.3"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aSizeInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>SizeInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TSize SizeInTwips() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the twip-size of the bitmap.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TSize </code></td>
<td class="Cell"><p class="ValueDesc"> The size of the bitmap, in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.11.4"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aSetSizeInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>SetSizeInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetSizeInTwips(const MGraphicsDeviceMap* aMap);</code></p><h4 class="subheading">Description</h4>
<p>Sets the twip-size of the bitmap by converting the
bitmap&#8217;s pixel-size from pixels to twips, using the conversion functions
in the specified graphics device map.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const MGraphicsDeviceMap* aMap </code></td>
<td class="Cell"><p class="ValueDesc"> The graphics device map to be used for providing pixel to twip
conversion.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.5"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aSetSizeInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>SetSizeInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetSizeInTwips(const TSize&amp; aSizeInTwips);</code></p><h4 class="subheading">Description</h4>
<p>Sets the twip-size of the bitmap directly to the specified
size.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TSize&amp; aSizeInTwips </code></td>
<td class="Cell"><p class="ValueDesc"> The new size of the bitmap, in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.11.6"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aResize%28%29"></a>
<hr size="1" noshade>
<h3><code>Resize()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Resize(const TSize&amp; aSizeInPixels);</code></p><h4 class="subheading">Description</h4>
<p>Resets the pixel-size of the bitmap.</p>
<p>If the new size is bigger than the old, the original bitmap is
still situated at (0,0), but pixels outside the range of the old pixel-size are
set to zero.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TSize&amp; aSizeInPixels </code></td>
<td class="Cell"><p class="ValueDesc"> The new size of the bitmap. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> , if successful;
<code>KErrArgument</code>, if the new size is illegal;
<code>KErrGeneral</code>; if the bitmap has not yet been created;
<code>KErrAccessDenied</code>, if the bitmap is in the ROM; otherwise another
of the system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Streaming and storing</h2>
</div><div class="Bodytext">
<a name="2.12.2"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aExternalizeL%28%29"></a>
<hr size="1" noshade>
<h3><code>ExternalizeL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ExternalizeL(RWriteStream&amp; aStream) const;</code></p><h4 class="subheading">Description</h4>
<p>Externalises the bitmap to the specified stream.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RWriteStream&amp; aStream </code></td>
<td class="Cell"><p class="ValueDesc"> The write stream. </p></td>
</tr>
</table></td></tr></table>
<a name="2.12.3"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aExternalizeRectangleL%28%29"></a>
<hr size="1" noshade>
<h3><code>ExternalizeRectangleL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ExternalizeRectangleL(RWriteStream&amp; aStream,const TRect&amp; aRect) const;</code></p><h4 class="subheading">Description</h4>
<p>Externalises that area of the bitmap contained within a
specified rectangular area.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RWriteStream&amp; aStream </code></td>
<td class="Cell"><p class="ValueDesc"> The write stream</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TRect&amp; aRect </code></td>
<td class="Cell"><p class="ValueDesc"> The rectangular area of the bitmap to externalise. The bitmap
that is externalized will be of this size.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12.4"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aInternalizeL%28%29"></a>
<hr size="1" noshade>
<h3><code>InternalizeL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void InternalizeL(RReadStream&amp; aStream);</code></p><h4 class="subheading">Description</h4>
<p>Internalises a <code>CFbsBitmap</code> from a stream.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RReadStream&amp; aStream </code></td>
<td class="Cell"><p class="ValueDesc"> The read stream.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12.5"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aStoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>StoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static void StoreL(const TDesC&amp; aFilename,TInt aNumSources,const TDesC* aSources[],TInt32 aSourceIds[]);</code></p><h4 class="subheading">Description</h4>
<p>Constructs a multi-bitmap file.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFilename </code></td>
<td class="Cell"><p class="ValueDesc"> The name of the multi-bitmap file to be created. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aNumSources </code></td>
<td class="Cell"><p class="ValueDesc"> The number of bitmaps to store in the file. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC* aSources[] </code></td>
<td class="Cell"><p class="ValueDesc"> An array of pointers to bitmaps to be stored. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt32 aSourceIds[] </code></td>
<td class="Cell"><p class="ValueDesc"> An array of identifiers for the bitmaps to be stored. </p></td>
</tr>
</table></td></tr></table>
<a name="2.12.6"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aLoad%28%29"></a>
<hr size="1" noshade>
<h3><code>Load()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Load(const TDesC&amp; aFileName,TInt32 aId=0,TBool aShareIfLoaded=ETrue);</code></p><h4 class="subheading">Description</h4>
<p>Loads a specific bitmap from a multi-bitmap file.</p>
<p>The bitmap may be shared by other Font and Bitmap server
clients.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFileName </code></td>
<td class="Cell"><p class="ValueDesc"> The filename of the multi-bitmap (.mbm) file. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt32 aId=0 </code></td>
<td class="Cell"><p class="ValueDesc"> The bitmap identifier.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aShareIfLoaded=ETrue </code></td>
<td class="Cell"><p class="ValueDesc"> Specifies whether or not the loaded bitmap will be made
available for sharing between FBSERV clients. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12.7"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aSave%28%29"></a>
<hr size="1" noshade>
<h3><code>Save()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Save(const TDesC&amp; aFilename);</code></p><h4 class="subheading">Description</h4>
<p>Saves the bitmap as a direct file store.</p>
<p>The file store overwrites any existing file with the same
name.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFilename </code></td>
<td class="Cell"><p class="ValueDesc"> The name of the file. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.13"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Bitmap advanced information</h2>
</div><div class="Bodytext">
<a name="2.13.2"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aIsFileInRom%28%29"></a>
<hr size="1" noshade>
<h3><code>IsFileInRom()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TBool IsFileInRom(const TDesC&amp; aFilename,TUint32*&amp; aWord);</code></p><h4 class="subheading">Description</h4>
<p>Tests whether or not the specified file is in ROM.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFilename </code></td>
<td class="Cell"><p class="ValueDesc"> The name of the file. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint32*&amp; aWord </code></td>
<td class="Cell"><p class="ValueDesc"> On return, contains the address of the file in ROM. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc"> True, if the file is in the ROM; false, otherwise. </p></td>
</tr>
</table></td></tr></table>
<a name="2.13.3"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aIsLargeBitmap%28%29"></a>
<hr size="1" noshade>
<h3><code>IsLargeBitmap()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsLargeBitmap() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether the bitmap is a large bitmap.</p>
<p> A bitmap is defined to be large if its size is greater than a
particular threshold; this is currently set at 4Kb.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc"> True, if the bitmap is large; false, otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.13.4"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aIsMonochrome%28%29"></a>
<hr size="1" noshade>
<h3><code>IsMonochrome()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsMonochrome() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether or not the bitmap is monochrome.</p>
<p>Monochrome bitmaps have a display-mode of 1
bit-per-pixel.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc"> True, if the bitmap is monochrome; false, otherwise. </p></td>
</tr>
</table></td></tr></table>
<a name="2.13.5"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aIsRomBitmap%28%29"></a>
<hr size="1" noshade>
<h3><code>IsRomBitmap()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsRomBitmap() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether or not the bitmap is in ROM.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc"> True, if the bitmap is a ROM bitmap; false, otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.14"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Palettes</h2>
</div><div class="Bodytext">
<a name="2.14.2"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aGetPalette%28%29"></a>
<hr size="1" noshade>
<h3><code>GetPalette()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GetPalette(CPalette*&amp; aPalette) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the bitmap&#8217;s palette.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CPalette*&amp; aPalette </code></td>
<td class="Cell"><p class="ValueDesc"> On return, this holds a pointer to the bitmap&#8217;s
palette. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code>, if successful; otherwise, another of
the system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.14.3"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aSetPalette%28%29"></a>
<hr size="1" noshade>
<h3><code>SetPalette()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetPalette(CPalette* aPalette);</code></p><h4 class="subheading">Description</h4>
<p>Sets the bitmap&#8217;s palette.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CPalette* aPalette </code></td>
<td class="Cell"><p class="ValueDesc"> The pointer to the new palette for the bitmap. </p></td>
</tr>
</table></td></tr></table>
<a name="2.14.4"></a></div><div class="Head3">
<a name="%3a%3aCFbsBitmap%3a%3aPaletteAttributes%28%29"></a>
<hr size="1" noshade>
<h3><code>PaletteAttributes()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void PaletteAttributes(TBool&amp; aModifiable,TInt&amp; aNumEntries) const;</code></p><h4 class="subheading">Description</h4>
<p>Sets two attributes for the bitmap&#8217;s palette.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool&amp; aModifiable </code></td>
<td class="Cell"><p class="ValueDesc"> Attribute: whether or not the palette is modifiable. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt&amp; aNumEntries </code></td>
<td class="Cell"><p class="ValueDesc">Attribute: the number of entries in the palette. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
