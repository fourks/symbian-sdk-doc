<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>RDbView</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="RDbTableClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="TDbBookmarkClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">DBMS&nbsp;Rowsets</a>&nbsp;<span class="separator">&#187;</span>
RDbView</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>d32dbms.h</code>
<br>Link against: <code>edbms.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aRDbView"></a>

<h1>Class <code>RDbView</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>RDbView</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Generates rowsets from an SQL query. The query is prepared and
evaluated using the interface to this class, while the rowset is manipulated
using the <code>RDbRowset</code> base class.</p>
<p>There are no special rules to consider when deriving from this
class.</p><h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="RDbRowSetClass.html#%3a%3aRDbRowSet">RDbRowSet</a></code></td><td class="Cell">An abstract base class that provides functionality which is shared between SQL view objects and Table objects</td>
</tr>
<tr><td class="Cell"><code>RDbView</code></td><td class="Cell">Generates rowsets from an SQL query</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>RDbView</code>:
<br><code class="ApiItem"><a href="RDbViewClass.html#%3a%3aRDbView%3a%3aEvaluate%28%29" title="Performs a single step of the view evaluation, returning immediately and signalling when the step is complete">Evaluate()</a></code>, <code class="ApiItem"><a href="RDbViewClass.html#%3a%3aRDbView%3a%3aEvaluateAll%28%29" title="Use this function to fully evaluate the view">EvaluateAll()</a></code>, <code class="ApiItem"><a href="RDbViewClass.html#%3a%3aRDbView%3a%3aPrepare%28%29" title="Prepares the view object for evaluating an SQL select-statement, specifies the evaluation window shape for the rowset, and sets the access specification for the rowset">Prepare()</a></code>, <code class="ApiItem"><a href="RDbViewClass.html#%3a%3aRDbView%3a%3aUnevaluated%28%29" title="Tests whether any more evaluation can be done to a view">Unevaluated()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet" title="An abstract base class that provides functionality which is shared between SQL view objects and Table objects">RDbRowSet</a></code>:
<br><code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aAtBeginning%28%29" title="Tests whether the cursor is at the beginning of the rowset">AtBeginning()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aAtEnd%28%29" title="Tests whether the cursor is at the end of the rowset">AtEnd()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aAtRow%28%29" title="Tests whether the cursor is on a row">AtRow()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aBeginningL%28%29" title="Positions the cursor at the beginning of the rowset">BeginningL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aBookmark%28%29" title="Gets the bookmark for the current cursor position">Bookmark()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aCancel%28%29" title="Cancels the update or insertion of a row, or recovers the rowset if PutL() fails">Cancel()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aClose%28%29" title="Closes the rowset and releases any owned resources">Close()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColCount%28%29" title="Returns the number of columns which are defined in this rowset">ColCount()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColDef%28%29" title="Returns the definition of a column in the rowset">ColDef()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColDes%28%29" title="Extracts a Text column value">ColDes()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColDes16%28%29" title="Extracts a column as Unicode text">ColDes16()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColDes8%28%29" title="Extracts any column type, except Long columns, as binary data">ColDes8()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColInt%28%29" title="Extracts a signed integer column value">ColInt()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColInt16%28%29" title="Extracts a TInt16 or TInt8 column value">ColInt16()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColInt32%28%29" title="Extracts a TInt32, TInt16 or TInt8 column value">ColInt32()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColInt64%28%29" title="Extracts a TInt64 column value">ColInt64()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColInt8%28%29" title="Extracts a TInt8 column value">ColInt8()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColLength%28%29" title="Gets the length of a column value">ColLength()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColReal%28%29" title="Extracts a TReal64 column value">ColReal()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColReal32%28%29" title="Extracts a TReal32 column value">ColReal32()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColReal64%28%29" title="Extracts a TReal64 column value">ColReal64()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColSetL%28%29" title="Returns the entire column set for the rowset">ColSetL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColSize%28%29" title="Gets the size in bytes of a column value">ColSize()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColTime%28%29" title="Extracts a TTime column value">ColTime()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColType%28%29" title="Returns the type of a column in the rowset">ColType()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColUint%28%29" title="Extracts an unsigned integer column value">ColUint()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColUint16%28%29" title="Extracts a Uint16, Uint8 or Bit column value">ColUint16()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColUint32%28%29" title="Extracts a Uint32, Uint16, Uint8 or Bit column value">ColUint32()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aColUint8%28%29" title="Extracts a Uint8 or Bit column value">ColUint8()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aCountL%28%29" title="Returns the number of rows available in a rowset">CountL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aDeleteL%28%29" title="Deletes the current row in a rowset">DeleteL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEBackwards" title="Search from the current row backwards through the set">EBackwards</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEBeginning" title="Move to the position before the first row in the rowset">EBeginning</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEEnd" title="Move to the position after the last row in the rowset">EEnd</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEEnsure" title="Take the time, if necessary, to return the exact value">EEnsure</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEFirst" title="Move to the first row in the rowset">EFirst</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEForwards" title="Search from the current row forwards through the set">EForwards</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEInsertOnly" title="Inserting new rows is the only valid operation on the rowset">EInsertOnly</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aELast" title="Move to the last row in the rowset">ELast</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aENext" title="Move to the next row in the rowset">ENext</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEPrevious" title="Move to the previous row in the rowset">EPrevious</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEQuick" title="Return any immediately available value">EQuick</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEReadOnly" title="Row navigation and reading are permitted">EReadOnly</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEUpdatable" title="All operations can be performed on the rowset">EUpdatable</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aEndL%28%29" title="Positions the cursor at the end of the rowset">EndL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aFindL%28%29" title="Searches through a rowset for a row which fulfils an SQL search-condition">FindL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aFirstL%28%29" title="Positions the cursor on the first row in the rowset">FirstL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aGetL%28%29" title="Gets the current row data for access using the column extractor functions">GetL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aGotoL%28%29" title="Goes to a previously bookmarked position in a rowset">GotoL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aInsertCopyL%28%29" title="Inserts a copy of the current row into the rowset">InsertCopyL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aInsertL%28%29" title="Inserts a new row into the rowset">InsertL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aIsColNull%28%29" title="Tests whether a column has the NULL value">IsColNull()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aIsEmptyL%28%29" title="Tests whether there are any rows in the rowset">IsEmptyL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aLastL%28%29" title="Positions the cursor on the last row in the rowset">LastL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aMatchL%28%29" title="Tests whether the current row in the rowset matches a previously compiled row constraint">MatchL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aNextL%28%29" title="Moves the cursor to the next row in the rowset">NextL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aPreviousL%28%29" title="Moves the cursor to the previous row in the rowset">PreviousL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aPutL%28%29" title="Completes the update or insertion of a row">PutL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aReset%28%29" title="Resets the rowset">Reset()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aSetColL%28%29" title="Set a column value from Unicode text">SetColL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aSetColNullL%28%29" title="Use this function to set the value of a column to NULL">SetColNullL()</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aTAccess" title="Specifies which operations can be performed on a rowset">TAccess</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aTAccuracy" title="Specifies whether the CountL() function should ensure that it returns the exact value -- which may be a non-trivial task">TAccuracy</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aTDirection" title="Specifies the direction to search through the rowset when using the FindL() function">TDirection</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aTPosition" title="Specifies where the rowset should navigate to in the GotoL() function">TPosition</a></code>,
<code class="ApiItem"><a href="RDbRowSetClass.html#%3a%3aRDbRowSet%3a%3aUpdateL%28%29" title="Prepares the current row for update">UpdateL()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Preparation</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aRDbView%3a%3aPrepare%28%29"></a>
<hr size="1" noshade>
<h3><code>Prepare()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Prepare(RDbDatabase&amp; aDatabase,const TDbQuery&amp; aQuery,TAccess anAccess=EUpdatable);</code></p><h4 class="subheading">Description</h4>
<p>Prepares the view object for evaluating an SQL
select-statement.</p>
<p>Following preparation, the rowset object can always provide
schema information, but the view may first require evaluation to generate the
rowset for navigation.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RDbDatabase&amp; aDatabase</code></td>
<td class="Cell"><p class="ValueDesc">The database on which to execute the query.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TDbQuery&amp; aQuery</code></td>
<td class="Cell"><p class="ValueDesc">The SQL query and the text comparison mode for the
constraint.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TAccess anAccess=EUpdatable</code></td>
<td class="Cell"><p class="ValueDesc">The access specification for the rowset. By default, updatable
access is given.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code>, if successful, otherwise one of the
other system-wide error codes. Specifically: <code>KErrNotFound</code> if The
table does not exist in the database or a column name in the SQL query does not
exist.<code>KErrNotSupported</code> if a sort-specification in the SQL query
cannot be provided by an index.<code>KErrArgument</code> if an invalid or
unrecognised SQL syntax was used.<code>KErrGeneral</code> if there is a column
type mismatch in a predicate in the SQL query or if a date-literal in the SQL
query was invalid.<code>KErrOverflow</code> if a number-literal in the SQL
query for an integral column was too large (did not fit in a 32-bit integral
representation). This can also be one of the DBMS database error codes..</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="DBMSErrorCodes.guide.html#DBMSRowsets%2eDBMS%2derror%2dcodes">Additional DBMS database error codes</a></li>
</ul>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aRDbView%3a%3aPrepare%28%29"></a>
<hr size="1" noshade>
<h3><code>Prepare()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Prepare(RDbDatabase&amp; aDatabase,const TDbQuery&amp; aQuery,const TDbWindow&amp; aWindow);</code></p><h4 class="subheading">Description</h4>
<p>Prepares the view object for evaluating an SQL select-statement
and specifies the evaluation window shape for the rowset.</p>
<p>The function does not specify the access specification for the
rowset&nbsp;&#8212; updatable access is given.</p>
<p>Following preparation, the rowset object can always provide
schema information, but the view may first require evaluation to generate the
rowset for navigation.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RDbDatabase&amp; aDatabase</code></td>
<td class="Cell"><p class="ValueDesc">The database on which to execute the query.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TDbQuery&amp; aQuery</code></td>
<td class="Cell"><p class="ValueDesc">The SQL query and the text comparison mode for the
constraint.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TDbWindow&amp; aWindow</code></td>
<td class="Cell"><p class="ValueDesc">The desired evaluation window shape for the rowset. If this
parameter is omitted, an alternative overload is called&#0160;&#8212; e.g. no
pre-evaluation window is requested.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code>, if successful, otherwise one of the other
system-wide error codes. Specifically: <code>KErrNotFound</code> if The table
does not exist in the database or a column name in the SQL query does not
exist.<code>KErrNotSupported</code> if a sort-specification in the SQL query
cannot be provided by an index.<code>KErrArgument</code> if an invalid or
unrecognised SQL syntax was used.<code>KErrGeneral</code> if there is a column
type mismatch in a predicate in the SQL query or if a date-literal in the SQL
query was invalid.<code>KErrOverflow</code> if a number-literal in the SQL
query for an integral column was too large (did not fit in a 32-bit integral
representation). This can also be one of the DBMS database error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="DBMSErrorCodes.guide.html#DBMSRowsets%2eDBMS%2derror%2dcodes">Additional DBMS database error codes</a></li>
</ul>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aRDbView%3a%3aPrepare%28%29"></a>
<hr size="1" noshade>
<h3><code>Prepare()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Prepare(RDbDatabase&amp; aDatabase,const TDbQuery&amp; aQuery,const TDbWindow&amp; aWindow,TAccess anAccess);</code></p><h4 class="subheading">Description</h4>
<p>Prepares the view object for evaluating an SQL select-statement,
specifies the evaluation window shape for the rowset, and sets the access
specification for the rowset.</p>
<p>Following preparation, the rowset object can always provide schema
information, but the view may first require evaluation to generate the rowset
for navigation.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RDbDatabase&amp; aDatabase</code></td>
<td class="Cell"><p class="ValueDesc">The database on which to execute the query.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TDbQuery&amp; aQuery</code></td>
<td class="Cell"><p class="ValueDesc">The SQL query and the text comparison mode for the
constraint.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TDbWindow&amp; aWindow</code></td>
<td class="Cell"><p class="ValueDesc">The desired evaluation window shape for the rowset. If this
parameter is omitted, an alternative overload is called&#0160;&#8212; e.g. no
pre-evaluation window is requested.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TAccess anAccess</code></td>
<td class="Cell"><p class="ValueDesc">The access specification for the rowset. If omitted, updatable
access is given.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code>, if successful, otherwise one of the other
system-wide error codes. Specifically:<code>KErrNotFound</code> if The table
does not exist in the database or a column name in the SQL query does not
exist.<code>KErrNotSupported</code> if a sort-specification in the SQL query
cannot be provided by an index.<code>KErrArgument</code> if an invalid or
unrecognised SQL syntax was used.<code>KErrGeneral</code> if there is a column
type mismatch in a predicate in the SQL query or if a date-literal in the SQL
query was invalid.<code>KErrOverflow</code> if a number-literal in the SQL
query for an integral column was too large (did not fit in a 32-bit integral
representation). This can also be one of the DBMS database error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="DBMSErrorCodes.guide.html#DBMSRowsets%2eDBMS%2derror%2dcodes">Additional DBMS database error codes</a></li>
</ul>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Evaluation</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aRDbView%3a%3aEvaluate%28%29"></a>
<hr size="1" noshade>
<h3><code>Evaluate()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Evaluate();</code></p><h4 class="subheading">Description</h4>
<p>Performs a single step of the view evaluation, and returns when the
step is complete. To completely evaluate a view in one go,
<code>EvaluateAll()</code> should be used.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">0, evaluation is complete.<code>></code>
<code>0</code>, more
evaluation can be done. &lt; 0, an error code, see the class overview for more
information.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aRDbView%3a%3aEvaluate%28%29"></a>
<hr size="1" noshade>
<h3><code>Evaluate()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Evaluate(TRequestStatus&amp; aStatus);</code></p><h4 class="subheading">Description</h4>
<p>Performs a single step of the view evaluation, returning immediately
and signalling when the step is complete.</p>
<p>This function is most effectively used when the view evaluation is
carried out from an active object. </p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRequestStatus&amp; aStatus</code></td>
<td class="Cell"><p class="ValueDesc">The request status used to contain completion information for the
function. On completion, the status value should be interpreted as follows: 0,
evaluation is complete.<code>></code>
<code>0</code>, more evaluation can be
done. &lt; 0, an error code, see the class overview for more
information.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aRDbView%3a%3aEvaluateAll%28%29"></a>
<hr size="1" noshade>
<h3><code>EvaluateAll()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt EvaluateAll();</code></p><h4 class="subheading">Description</h4>
<p>Use this function to fully evaluate the view. It is equivalent to:</p>
<p><code>while (Unevaluated()) { Evaluate(); }</code></p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code>, if successful, otherwise one of the system wide
error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="DBMSErrorCodes.guide.html#DBMSRowsets%2eDBMS%2derror%2dcodes">Additional DBMS database error codes</a></li>
</ul>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aRDbView%3a%3aUnevaluated%28%29"></a>
<hr size="1" noshade>
<h3><code>Unevaluated()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool Unevaluated() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether any more evaluation can be done to a
view.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True, if the view can be further evaluated; false, if evaluation will
have no effect.</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
