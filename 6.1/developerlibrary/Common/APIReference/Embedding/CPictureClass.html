<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CPicture</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="index.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="MPictureFactoryClass.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Embedding</a>&nbsp;<span class="separator">&#187;</span>
CPicture</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> gdi.h </code>
<br>Link against: <code> gdi.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aCPicture"></a>

<h1>Class <code>CPicture</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CPicture</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Abstract base class for: drawing a picture to a graphics context,
storing and restoring the picture. </p>
<p>The class defines the protocol for a number of concrete picture
classes. Its main role is to support glass doors used in object
embedding.</p>
<p>The class provides a protocol for the provision of scaling and
cropping functions by derived classes, together with default
implementations.</p>
<p>Its main function is <code>Draw()</code>, which draws the picture
onto the graphics context at a particular point. It also has two important pure
virtual functions: <code>ExternalizeL()</code> and
<code>GetOriginalSizeInTwips()</code>.</p>
<p>A picture has both an original representation and an on-screen
representation. The original representation has a size in twips, and can
somehow be drawn. The on-screen representation is assumed to be drawn under the
control of an application which may wish to re-size or scale the original in
some way, to crop it at the edges, and/or to ensure it fits within a particular
defined area on the screen.</p>
<p>The class provides several functions that allow an application to
set scaling and cropping before invoking the <code>Draw()</code> function to
draw the picture on-screen. It is up to the internal workings of the function
to determine the order of application cropping and scaling.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CPicture</code></td><td class="Cell">Abstract base class for: drawing a picture to a graphics context, storing and restoring the picture</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CPicture</code>:
<br><code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aAddCropInPixels%28%29" title="Adds pixel cropping margins to the picture">AddCropInPixels()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aCapability%28%29" title="Gets the picture's capabilities">Capability()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aDetachFromStoreL%28%29" title="Detaches a picture from its store, restoring any unrestored elements of the picture, if necessary">DetachFromStoreL()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aDraw%28%29" title="Draws a picture">Draw()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aEDetachDraw" title="Internalise enough information to draw the picture (and no more); null any references to containing stores">EDetachDraw</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aEDetachFull" title="Internalise all data that is required to fully store the picture later; null any references to containing stores">EDetachFull</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aExternalizeL%28%29" title="Externalises the picture to a stream">ExternalizeL()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aGetCropInTwips%28%29" title="Gets the cropping margins of a picture in twips">GetCropInTwips()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aGetOriginalSizeInTwips%28%29" title="Gets the picture's original size, in twips">GetOriginalSizeInTwips()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aGetSizeInPixels%28%29" title="Gets the picture's size in pixels">GetSizeInPixels()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aGetSizeInTwips%28%29" title="Gets the picture's size, in twips">GetSizeInTwips()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aLineBreakPossible%28%29" title="States whether a line break is possible, either before or after a picture">LineBreakPossible()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aResetToOriginal%28%29" title="Resets the picture's scaling and cropping attributes to their original values">ResetToOriginal()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aScaleFactorHeight%28%29" title="Gets the picture's height scale factor">ScaleFactorHeight()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aScaleFactorWidth%28%29" title="Gets the picture's width scale factor">ScaleFactorWidth()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aSetCropInTwips%28%29" title="Sets the cropping margins of a picture in twips">SetCropInTwips()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aSetScaleFactor%28%29" title="Sets the picture's scale factors">SetScaleFactor()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aSetSizeInPixels%28%29" title="Sets the picture's size in pixels">SetSizeInPixels()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aSetSizeInTwips%28%29" title="Sets the picture's size, in twips">SetSizeInTwips()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aStoreL%28%29" title="Stores the picture to the specified store">StoreL()</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3aTDetach" title="Options for detaching pictures from stores">TDetach</a></code>, <code class="ApiItem"><a href="CPictureClass.html#%3a%3aCPicture%3a%3a%7eCPicture%28%29" title="Frees all resources owned by the object prior to its destruction">~CPicture()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3a%7eCPicture%28%29"></a>
<hr size="1" noshade>
<h3><code>~CPicture()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual ~CPicture();</code></p><h4 class="subheading">Description</h4>
<p>Frees all resources owned by the object prior to its
destruction.</p>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Streaming</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aStoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>StoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TStreamId StoreL(CStreamStore&amp; aStore) const;</code></p><h4 class="subheading">Description</h4>
<p>Stores the picture to the specified store.</p>
<p>The default implementation assumes that the content of the
picture is externalized to a single stream. The implementation may need to be
changed for those derived classes that have components.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CStreamStore&amp; aStore </code></td>
<td class="Cell"><p class="ValueDesc"> The store. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TStreamId </code></td>
<td class="Cell"><p class="ValueDesc"> The ID of the (head) stream used to store the picture. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aExternalizeL%28%29"></a>
<hr size="1" noshade>
<h3><code>ExternalizeL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void ExternalizeL(RWriteStream&amp; aStream) const = 0;</code></p><h4 class="subheading">Description</h4>
<p>Externalises the picture to a stream.</p>
<p>The presence of this function means that the standard templated
stream <code>operator&lt;&lt;()</code> is available to externalise objects of
this class.</p>
<p>A derived class must supply an implementation of this
function.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RWriteStream&amp; aStream </code></td>
<td class="Cell"><p class="ValueDesc"> The write stream.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aDetachFromStoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>DetachFromStoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void DetachFromStoreL(TDetach /*aDegree*/=EDetachFull);</code></p><h4 class="subheading">Description</h4>
<p>Detaches a picture from its store, restoring any unrestored
elements of the picture, if necessary.</p>
<p>The function would be used, for example, prior to storing the
picture to another store or when pasting from a clipboard. </p>
<p>The default implementation is empty on the assumption that the
picture factory restores everything.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDetach aDegree=EDetachFull </code></td>
<td class="Cell"><p class="ValueDesc"> Degree to which picture is detached. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Drawing</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aDraw%28%29"></a>
<hr size="1" noshade>
<h3><code>Draw()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void Draw(CGraphicsContext&amp; aGc,const TPoint&amp; aTopLeft,const TRect&amp; aClipRect,MGraphicsDeviceMap* aMap) const = 0;</code></p><h4 class="subheading">Description</h4>
<p>Draws a picture.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CGraphicsContext&amp; aGc </code></td>
<td class="Cell"><p class="ValueDesc"> The graphics context. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aTopLeft </code></td>
<td class="Cell"><p class="ValueDesc"> The co-ordinates where the top left corner pixel of the
picture should be placed. Note that whether this is actually drawn depends on
the clipping area defined.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TRect&amp; aClipRect </code></td>
<td class="Cell"><p class="ValueDesc"> A clipping rectangle that defines the area to which the
function should draw. An implementation should never draw outside this
rectangle. Note that the graphics context may also have a clipping rectangle
set on it. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> MGraphicsDeviceMap* aMap </code></td>
<td class="Cell"><p class="ValueDesc"> The device map for the graphics device. The implementation
should use this to find the scaling to apply to the picture. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Picture scaling</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aSetScaleFactor%28%29"></a>
<hr size="1" noshade>
<h3><code>SetScaleFactor()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void SetScaleFactor(TInt aScaleFactorWidth,TInt aScaleFactorHeight);</code></p><h4 class="subheading">Description</h4>
<p>Sets the picture&#8217;s scale factors.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aScaleFactorWidth </code></td>
<td class="Cell"><p class="ValueDesc"> The width scale factor, in percent. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aScaleFactorHeight </code></td>
<td class="Cell"><p class="ValueDesc"> The height scale factor, in percent. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aScaleFactorWidth%28%29"></a>
<hr size="1" noshade>
<h3><code>ScaleFactorWidth()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TInt ScaleFactorWidth() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the picture&#8217;s width scale factor.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> The width scale factor, in percent. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aScaleFactorHeight%28%29"></a>
<hr size="1" noshade>
<h3><code>ScaleFactorHeight()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TInt ScaleFactorHeight() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the picture&#8217;s height scale factor.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> The height scale factor, in percent. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.5"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aGetSizeInPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>GetSizeInPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetSizeInPixels(MGraphicsDeviceMap* aMap, TSize&amp; aSize) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the picture&#8217;s size in pixels. </p>
<p>This is calculated from the original size of the picture,
taking cropping and scaling into account.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> MGraphicsDeviceMap* aMap </code></td>
<td class="Cell"><p class="ValueDesc"> The pixels to twips mapping interface of the graphics device
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TSize&amp; aSize </code></td>
<td class="Cell"><p class="ValueDesc"> The size of the picture, in pixels. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.6"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aSetSizeInPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>SetSizeInPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetSizeInPixels(MGraphicsDeviceMap* aMap, const TSize&amp; aSize);</code></p><h4 class="subheading">Description</h4>
<p>Sets the picture&#8217;s size in pixels.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> MGraphicsDeviceMap* aMap </code></td>
<td class="Cell"><p class="ValueDesc"> The pixels to twips mapping interface of the graphics device.
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TSize&amp; aSize </code></td>
<td class="Cell"><p class="ValueDesc"> The size of the picture, in pixels. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.7"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aGetOriginalSizeInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>GetOriginalSizeInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void GetOriginalSizeInTwips(TSize&amp; aSize) const = 0;</code></p><h4 class="subheading">Description</h4>
<p>Gets the picture&#8217;s original size, in twips.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TSize&amp; aSize </code></td>
<td class="Cell"><p class="ValueDesc"> The size of the picture, in twips </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.8"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aGetSizeInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>GetSizeInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetSizeInTwips(TSize&amp; aSize) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the picture&#8217;s size, in twips.</p>
<p>This size is calculated from the original size of the picture,
taking cropping and scaling into account.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TSize&amp; aSize </code></td>
<td class="Cell"><p class="ValueDesc"> The size of the picture, in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.9"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aSetSizeInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>SetSizeInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetSizeInTwips(const TSize&amp; aSize);</code></p><h4 class="subheading">Description</h4>
<p>Sets the picture&#8217;s size, in twips</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TSize&amp; aSize </code></td>
<td class="Cell"><p class="ValueDesc"> The size of the picture, in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Linebreaking</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aLineBreakPossible%28%29"></a>
<hr size="1" noshade>
<h3><code>LineBreakPossible()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TBool LineBreakPossible(TUint aClass,TBool aBeforePicture,TBool aHaveSpaces) const;</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>States whether a line break is possible, either before or after a picture.</p>
<p>The default implementation returns true, implying that there is a break opportunity both
before and after the picture, whether or not a space is present.</p>
<p> This may be overriden for special types of pictures.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TUint aClass</code></td>
<td class="Cell"><p class="ValueDesc">The line breaking class of the adjacent character. Line breaking classes are defined in the header file, tagma.h</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aBeforePicture</code></td>
<td class="Cell"><p class="ValueDesc"><code>ETrue</code>, if the adjacent character is before the picture; <code>EFalse</code>, if the adjacent character is afterwards.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aHaveSpaces</code></td>
<td class="Cell"><p class="ValueDesc"><code>ETrue</code>, if spaces occur between the adjacent character and the picture; <code>EFalse</code>, otherwise.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True, if a line break is possible; false, otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Picture cropping</h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aGetCropInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>GetCropInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void GetCropInTwips(TMargins&amp; aMargins) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the cropping margins of a picture in twips.</p>
<p>These margins are relative to the original unscaled size of the
picture.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TMargins&amp; aMargins </code></td>
<td class="Cell"><p class="ValueDesc"> The cropping margins of the picture, in twips </p></td>
</tr>
</table></td></tr></table>
<a name="2.11.3"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aSetCropInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>SetCropInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void SetCropInTwips(const TMargins&amp; aMargins);</code></p><h4 class="subheading">Description</h4>
<p>Sets the cropping margins of a picture in twips.</p>
<p>These are relative to the original unscaled size of the
picture.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TMargins&amp; aMargins </code></td>
<td class="Cell"><p class="ValueDesc"> The cropping margins of the picture, in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.11.4"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aAddCropInPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>AddCropInPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void AddCropInPixels(MGraphicsDeviceMap* aMap, const TMargins&amp; aMargins);</code></p><h4 class="subheading">Description</h4>
<p>Adds pixel cropping margins to the picture.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> MGraphicsDeviceMap* aMap </code></td>
<td class="Cell"><p class="ValueDesc"> The pixels to twips mapping interface of the graphics device
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TMargins&amp; aMargins </code></td>
<td class="Cell"><p class="ValueDesc"> The additional pixel cropping margins for the picture, in
pixels. </p></td>
</tr>
</table></td></tr></table>
<a name="2.12"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Resetting picture scaling and cropping</h2>
</div><div class="Bodytext">
<a name="2.12.2"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aResetToOriginal%28%29"></a>
<hr size="1" noshade>
<h3><code>ResetToOriginal()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ResetToOriginal();</code></p><h4 class="subheading">Description</h4>
<p>Resets the picture&#8217;s scaling and cropping attributes to
their original values.</p>
<a name="2.13"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Status</h2>
</div><div class="Bodytext">
<a name="2.13.2"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aCapability%28%29"></a>
<hr size="1" noshade>
<h3><code>Capability()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TPictureCapability Capability() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the picture&#8217;s capabilities.</p>
<p>These include whether it is scalable and croppable.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TPictureCapability </code></td>
<td class="Cell"><p class="ValueDesc"> The capabilities of the picture. </p></td>
</tr>
</table></td></tr></table>
<a name="2.14"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Enumerations</h2>
</div><div class="Bodytext">
<a name="2.14.2"></a></div><div class="Head3">
<a name="%3a%3aCPicture%3a%3aTDetach"></a>
<hr size="1" noshade>
<h3>Enum <code>TDetach</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TDetach</code></p><h4 class="subheading">Description</h4>
<p>Options for detaching pictures from stores. Used by
<code>DetachFromStoreL()</code>.</p><table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aCPicture%3a%3aEDetachFull"><code class="Value">EDetachFull</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Internalise all data that is required to fully store the
picture later; null any references to containing stores.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aCPicture%3a%3aEDetachDraw"><code class="Value">EDetachDraw</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Internalise enough information to draw the picture (and no
more); null any references to containing stores.</para>
</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
