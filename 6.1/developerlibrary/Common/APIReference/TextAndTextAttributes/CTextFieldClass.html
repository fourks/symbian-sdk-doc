<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CTextField</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CStyleListClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="MEditObserverClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Text&nbsp;and&nbsp;Text&nbsp;Attributes</a>&nbsp;<span class="separator">&#187;</span>
CTextField</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> fldbase.h </code>
<br>Link against: <code> field.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aCTextField"></a>

<h1>Class <code>CTextField</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CTextField</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>The abstract base class for all fields. A field contains
information which relates to a text object and is automatically updated.
Examples of fields are the page number and the current date and time. Fields
must implement the pure virtual functions defined in this class, including
<code>Value()</code> which should calculate and return the field's new value,
and <code>Type()</code> which returns the field's type UID. The type UID
identifies the field type to the field factory (see class
<code>MTextFieldFactory</code>).</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CTextField</code></td><td class="Cell">The abstract base class for all fields</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CTextField</code>:
<br><code class="ApiItem"><a href="CTextFieldClass.html#%3a%3aCTextField%3a%3aExternalizeL%28%29" title="Externalises the field data">ExternalizeL()</a></code>, <code class="ApiItem"><a href="CTextFieldClass.html#%3a%3aCTextField%3a%3aInternalizeL%28%29" title="Internalises the field data">InternalizeL()</a></code>, <code class="ApiItem"><a href="CTextFieldClass.html#%3a%3aCTextField%3a%3aRestoreL%28%29" title="Restores the field data from a stream store">RestoreL()</a></code>, <code class="ApiItem"><a href="CTextFieldClass.html#%3a%3aCTextField%3a%3aStoreL%28%29" title="Stores the field data to a stream store">StoreL()</a></code>, <code class="ApiItem"><a href="CTextFieldClass.html#%3a%3aCTextField%3a%3aType%28%29" title="Returns the field's type UID">Type()</a></code>, <code class="ApiItem"><a href="CTextFieldClass.html#%3a%3aCTextField%3a%3aValue%28%29" title="Sets aValueText to the current field value if the buffer is large enough">Value()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Stream persistence</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aCTextField%3a%3aExternalizeL%28%29"></a>
<hr size="1" noshade>
<h3><code>ExternalizeL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void ExternalizeL(RWriteStream&amp; aStream)const;</code></p><h4 class="subheading">Description</h4>
<p>Externalises the field data. Called by
<code>StoreL()</code>.</p>
<p>Calling this default implementation raises a panic. Concrete
field classes with persistent data must provide their own implementation of
this function. Concrete field classes with no persistent data must provide a
<code>StoreL()</code> implementation that just returns
<code>KNullStreamId</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RWriteStream&amp; aStream </code></td>
<td class="Cell"><p class="ValueDesc"> Not used. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aCTextField%3a%3aInternalizeL%28%29"></a>
<hr size="1" noshade>
<h3><code>InternalizeL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void InternalizeL(RReadStream&amp; aStream)=0;</code></p><h4 class="subheading">Description</h4>
<p>Internalises the field data. Pure virtual. Called by
<code>RestoreL()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RReadStream&amp; aStream </code></td>
<td class="Cell"><p class="ValueDesc"> Stream from which the field data should be internalised. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aCTextField%3a%3aStoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>StoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TStreamId StoreL(CStreamStore&amp; aStore)const;</code></p><h4 class="subheading">Description</h4>
<p>Stores the field data to a stream store. Concrete field types with
no persistent data should override this function to return
<code>KNullStreamId</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CStreamStore&amp; aStore </code></td>
<td class="Cell"><p class="ValueDesc"> Stream store to which the field data is written. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TStreamId </code></td>
<td class="Cell"><p class="ValueDesc"> The ID of the stream store. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aCTextField%3a%3aRestoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>RestoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void RestoreL(const CStreamStore&amp; aStore,TStreamId aId);</code></p><h4 class="subheading">Description</h4>
<p>Restores the field data from a stream store. Concrete field types
with no persistent data should override this function to do nothing.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const CStreamStore&amp; aStore </code></td>
<td class="Cell"><p class="ValueDesc"> Stream store containing the field data to restore. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TStreamId aId </code></td>
<td class="Cell"><p class="ValueDesc"> The ID of the stream store in which the field data was previously
stored. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Field type</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aCTextField%3a%3aType%28%29"></a>
<hr size="1" noshade>
<h3><code>Type()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TUid Type()const=0;</code></p><h4 class="subheading">Description</h4>
<p>Returns the field's type UID.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TUid </code></td>
<td class="Cell"><p class="ValueDesc"> The field's type UID. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Evaluate field</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aCTextField%3a%3aValue%28%29"></a>
<hr size="1" noshade>
<h3><code>Value()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TInt Value(TPtr&amp; aValueText)=0;</code></p><h4 class="subheading">Description</h4>
<p>Sets <code>aValueText</code> to the current field value if the buffer is
large enough. If not, <code>aValueText</code> is not changed, and the function
returns the length which is required to hold the field's value.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TPtr&amp; aValueText </code></td>
<td class="Cell"><p class="ValueDesc"> Descriptor which on return contains the field's updated value. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> Zero on success, otherwise, the length of the buffer which is required
to hold the field's updated value. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
