<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CEikDocument</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CEikAutoMenuTitleArrayClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CEikInfoMsgWinClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Uikon&nbsp;Core</a>&nbsp;<span class="separator">&#187;</span>
CEikDocument</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> eikdoc.h </code>
<br>Link against: <code> eikcore.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aCEikDocument"></a>

<h1>Class <code>CEikDocument</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CEikDocument</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>The base for all Uikon applications&#8217; documents. A class
derived from <code>CEikDocument</code> is used in each Uikon application. In
file-based applications, the document provides an intermediate layer between
the user interface, the model and the file the model will be stored in.
Non-file-based applications will only use a document to create the application
UI. </p>
<p>Each Uikon application should use a class derived from
<code>CEikDocument</code> to represent its document. The derived class must
implement at least <code>CreateAppUiL()</code>.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument">CApaDocument</a></code></td><td class="Cell">Defines basic behaviour for documents</td>
</tr>
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CEikDocument</code></td><td class="Cell">The base for all Uikon applications' documents</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CEikDocument</code>:
<br><code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aAppCaption%28%29" title="Gets the associated application's caption">AppCaption()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aAppFileMode%28%29" title="Gets the file mode">AppFileMode()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aCEikDocument%28%29" title="Default constructor">CEikDocument()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aCreateAppUiL%28%29" title="Allocates the application UI">CreateAppUiL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aCreateFileStoreLC%28%29" title="Creates a new file store for a file">CreateFileStoreLC()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aEditL%28%29" title="Starts an editing session on an embedded document">EditL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aEditStore%28%29" title="Gets the edit store">EditStore()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aExternalizeL%28%29" title="Externalise">ExternalizeL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aHasChanged%28%29" title="Gets this document's document-changed flag">HasChanged()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aIsEmpty%28%29" title="Tests whether this document contains any content">IsEmpty()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aNewDocumentL%28%29" title="Called by the framework to initialise a new default document file">NewDocumentL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aOpenFileL%28%29" title="Called by the Uikon framework to open a file">OpenFileL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aPrepareToEditL%28%29" title="Prepares this document for editing by the user">PrepareToEditL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aPrintL%28%29" title="Prints a document without opening it for editing first">PrintL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aRestoreL%28%29" title="Restores this document from a stream store">RestoreL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aSaveL%28%29" title="Saves this document to its current direct file store">SaveL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aSetAppFileMode%28%29" title="Sets the file mode">SetAppFileMode()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aSetChanged%28%29" title="Sets this document's document-changed flag">SetChanged()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aSetEditStoreL%28%29" title="Sets the edit store to aStore">SetEditStoreL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aStoreL%28%29" title="Stores the document's content and state, recording the identity of any headstreams created">StoreL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aUpdateTaskNameL%28%29" title="Updates the task name">UpdateTaskNameL()</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aiAppUi" title="Pointer to the application UI through which the user manipulates this document's data">iAppUi</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aiEditStore" title="Pointer to the stream store set as the edit store">iEditStore</a></code>, <code class="ApiItem"><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3a%7eCEikDocument%28%29" title="Destructor">~CEikDocument()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument" title="Defines basic behaviour for documents">CApaDocument</a></code>:
<br><code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aApplication%28%29" title="Returns a pointer to the application that created the document">Application()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aCapability%28%29" title="Gets the document's capabilities">Capability()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aDetachFromStoreL%28%29" title="Restores the document to the extent that it does not need the store further">DetachFromStoreL()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aGlassPictureL%28%29" title="Gets an object that can draw a representation of the document's content">GlassPictureL()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aProcess%28%29" title="Returns a pointer to the application process associated with this document">Process()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aTCapability" title="CApaDocument capabilities">TCapability</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aValidatePasswordL%28%29" title="Checks the document password">ValidatePasswordL()</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="class_CEikApplication.html#%3a%3aCEikApplication" title="The root of all Uikon applications"><code class="ApiItem">CEikApplication</code></a></li>
<li><a href="class_CEikAppUi.html#%3a%3aCEikAppUi" title="Handles application-wide aspects of the application's user interface such as toolbar pop-up menus, opening and closing files and exiting the application cleanly"><code class="ApiItem">CEikAppUi</code></a></li>
</ul>
<a name="2.7"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<h4 class="subheading">Description</h4>
<p>Uikon document objects are created by
<code>CEikApplication::CreateDocumentL()</code>.</p>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aCEikDocument%28%29"></a>
<hr size="1" noshade>
<h3><code>CEikDocument()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>protected: CEikDocument(CEikApplication&amp; aApp);</code></p><h4 class="subheading">Description</h4>
<p>Default constructor</p>
<p>Allocates a new <code>CEikDocument</code> and initialises its
references to its associated application and managing process.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CEikApplication&amp; aApp </code></td>
<td class="Cell"><p class="ValueDesc"> The application instance with which the new document is
associated. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3a%7eCEikDocument%28%29"></a>
<hr size="1" noshade>
<h3><code>~CEikDocument()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>~CEikDocument();</code></p><h4 class="subheading">Description</h4>
<p>Destructor.</p>
<p>Releases any resources and storage acquired during this
object&#8217;s construction phases.</p>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Framework construction</h2>
</div><div class="Bodytext">
<h4 class="subheading">Description</h4>
<p>The document object in a Uikon application framework is
responsible for creating the application&#8217;s UI.</p>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aCreateAppUiL%28%29"></a>
<hr size="1" noshade>
<h3><code>CreateAppUiL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual CEikAppUi* CreateAppUiL() = 0;</code></p><h4 class="subheading">Description</h4>
<p>Allocates the application UI.</p>
<p>Called by the application framework to create an instance of an
application UI for this document and its associated application. The object
returned is owned by the Uikon framework, and should not be deleted before the
application terminates.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CEikAppUi* </code></td>
<td class="Cell"><p class="ValueDesc"> A freshly-allocated application UI. This should be constructed
via <code>New(ELeave)</code>, but not initialised. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Making new documents</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aOpenFileL%28%29"></a>
<hr size="1" noshade>
<h3><code>OpenFileL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual CFileStore* OpenFileL(TBool aDoOpen, const TDesC&amp; aFilename,RFs&amp; aFs);</code></p><h4 class="subheading">Description</h4>
<p>Called by the Uikon framework to open a file. If
<code>aDoOpen</code> is <code>ETrue</code>, this function attempts to open a
file for exclusive writes (<code>EFileShareExclusive|EFileWrite</code>);
failing that, the function attempts to open the file for exclusive reads
(<code>EFileRead|EFileShareReadersOnly</code>). If the file cannot be opened at
all when <code>aDoOpen</code> is <code>ETrue</code>, this function
<code>Leave()</code>s.</p>
<p>If <code>aDoOpen</code> is <code>EFalse</code>, this function
attempts to create and open a new file for exclusive writes.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aDoOpen </code></td>
<td class="Cell"><p class="ValueDesc"> Open an existing file if <code>ETrue</code>; otherwise create
a new file. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFilename </code></td>
<td class="Cell"><p class="ValueDesc"> The file to open or create. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> RFs&amp; aFs </code></td>
<td class="Cell"><p class="ValueDesc"> File server session to use. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CFileStore* </code></td>
<td class="Cell"><p class="ValueDesc"> File store object referring to the newly-opened file. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aNewDocumentL%28%29"></a>
<hr size="1" noshade>
<h3><code>NewDocumentL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void NewDocumentL();</code></p><h4 class="subheading">Description</h4>
<p>Called by the framework to initialise a new default document
file. This occurs when the application is started without a file, and there is
no existing default document file in the file system.</p>
<p>This function should set the document model and the default
document to some default settings (for example, a default template
file).</p>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aCreateFileStoreLC%28%29"></a>
<hr size="1" noshade>
<h3><code>CreateFileStoreLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CFileStore* CreateFileStoreLC(RFs&amp; aFs,const TDesC&amp; aFileName);</code></p><h4 class="subheading">Description</h4>
<p>Creates a new file store for a file. Creates a new file or
overwrites an existing one as necessary. A <code>StoreL()</code> is performed
immediately.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RFs&amp; aFs </code></td>
<td class="Cell"><p class="ValueDesc"> File server session to use. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFileName </code></td>
<td class="Cell"><p class="ValueDesc"> Full path to the file. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CFileStore* </code></td>
<td class="Cell"><p class="ValueDesc"> The newly created file store. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Document state</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aHasChanged%28%29"></a>
<hr size="1" noshade>
<h3><code>HasChanged()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool HasChanged() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets this document&#8217;s document-changed flag.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> if the document-changed flag is
<code>ETrue</code>, otherwise <code>EFalse</code>. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aSetChanged%28%29"></a>
<hr size="1" noshade>
<h3><code>SetChanged()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetChanged(TBool aHasChanged);</code></p><h4 class="subheading">Description</h4>
<p>Sets this document&#8217;s document-changed flag.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aHasChanged </code></td>
<td class="Cell"><p class="ValueDesc"> New state for the document-changed flag, this can be either
<code>ETrue</code> or <code>EFalse</code>. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.4"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aIsEmpty%28%29"></a>
<hr size="1" noshade>
<h3><code>IsEmpty()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsEmpty() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether this document contains any content. As the Uikon
implementation of this function simply returns <code>ETrue</code>, any
applications which use documents to represent and store data should override
it.</p>
<p>This function is declared as <code>virtual</code> in
<code>CApaDocument</code>.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> (in <code>CEikDocument</code>). </p></td>
</tr>
</table></td></tr></table>
<a name="2.11"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Task names and application captions</h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aAppCaption%28%29"></a>
<hr size="1" noshade>
<h3><code>AppCaption()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>const TApaAppCaption&amp; AppCaption() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the associated application&#8217;s caption.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TApaAppCaption&amp; </code></td>
<td class="Cell"><p class="ValueDesc"> Caption of the application with which this document is
associated. See <code>CEikApplication::AppCaption()</code>. </p></td>
</tr>
</table></td></tr></table>
<a name="2.11.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aUpdateTaskNameL%28%29"></a>
<hr size="1" noshade>
<h3><code>UpdateTaskNameL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void UpdateTaskNameL(CApaWindowGroupName* aWgName);</code></p><h4 class="subheading">Description</h4>
<p>Updates the task name.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CApaWindowGroupName* aWgName </code></td>
<td class="Cell"><p class="ValueDesc"> New task name. </p></td>
</tr>
</table></td></tr></table>
<a name="2.12"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Managing the associated file</h2>
</div><div class="Bodytext">
<a name="2.12.2"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aAppFileMode%28%29"></a>
<hr size="1" noshade>
<h3><code>AppFileMode()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUint AppFileMode() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the file mode.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint </code></td>
<td class="Cell"><p class="ValueDesc"> The file mode field of this <code>CEikDocument</code>: a
bitwise OR of values defined in <code>TFileMode</code>. </p></td>
</tr>
</table></td></tr></table>
<a name="2.12.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aSetAppFileMode%28%29"></a>
<hr size="1" noshade>
<h3><code>SetAppFileMode()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetAppFileMode(TUint aMode);</code></p><h4 class="subheading">Description</h4>
<p>Sets the file mode</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint aMode </code></td>
<td class="Cell"><p class="ValueDesc"> New value for the file mode field of this
<code>CEikDocument</code>: a bitwise OR of values defined in
<code>TFileMode</code>. </p></td>
</tr>
</table></td></tr></table>
<a name="2.13"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Storing and restoring</h2>
</div><div class="Bodytext">
<a name="2.13.2"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aSaveL%28%29"></a>
<hr size="1" noshade>
<h3><code>SaveL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SaveL();</code></p><h4 class="subheading">Description</h4>
<p>Saves this document to its current direct file store. Marks the
document as not having changed. This function is called by the framework when
an application exits: the current state of the application&#8217;s document is
saved to the currently opened file, and the application can then exit
cleanly.</p>
<p>This function is declared <code>virtual</code> in
<code>CApaDocument</code>, and therefore may be overridden to provide custom
behaviour.</p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="class_CEikDocument.html#%3a%3aCEikDocument%3a%3aSetChanged%28%29" title="Sets this document's document-changed flag"><code class="ApiItem">SetChanged()</code></a></li>
</ul>
<a name="2.13.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aStoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>StoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void StoreL(CStreamStore&amp; aStore, CStreamDictionary&amp; aStreamDic) const;</code></p><h4 class="subheading">Description</h4>
<p>Stores the document&#8217;s content and state, recording the
identity of any headstreams created. The stream store to which data is saved,
<code>aStore</code>, must be fully constructed before <code>StoreL()</code> is
called.</p>
<p>The Uikon implementation of this function is empty.
Applications that wish to persist any data must provide their own
version.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CStreamStore&amp; aStore </code></td>
<td class="Cell"><p class="ValueDesc"> Stream store to which data is saved. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> CStreamDictionary&amp; aStreamDic </code></td>
<td class="Cell"><p class="ValueDesc"> Stream dictionary in which to record headstreams. </p></td>
</tr>
</table></td></tr></table>
<a name="2.13.4"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aRestoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>RestoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RestoreL(const CStreamStore&amp; aStore, const CStreamDictionary&amp; aStreamDic);</code></p><h4 class="subheading">Description</h4>
<p>Restores this document from a stream store.</p>
<p>Sets the document&#8217;s state and content. Any existing data
in the document will belost.</p>
<p>The Uikon implementation of this function is empty.
Applications that wish to load any persisted data must provide their own
version.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const CStreamStore&amp; aStore </code></td>
<td class="Cell"><p class="ValueDesc"> Stream store from which to read the new state and content.
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const CStreamDictionary&amp; aStreamDic </code></td>
<td class="Cell"><p class="ValueDesc"> Stream dictionary in which to look up head streams. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">If this function leaves the document should be rolled back to
the state in which it was before the function was called. </p></td>
</tr>
</table></td></tr></table>
<a name="2.13.5"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aExternalizeL%28%29"></a>
<hr size="1" noshade>
<h3><code>ExternalizeL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ExternalizeL(RWriteStream&amp; aStream) const;</code></p><h4 class="subheading">Description</h4>
<p>Externalise.</p>
<p>The Uikon implementation of this function is blank, and it is
never called by the framework.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RWriteStream&amp; aStream </code></td>
<td class="Cell"><p class="ValueDesc"> The write stream to which information is written. </p></td>
</tr>
</table></td></tr></table>
<a name="2.13.6"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aPrintL%28%29"></a>
<hr size="1" noshade>
<h3><code>PrintL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void PrintL(const CStreamStore&amp; aSourceStore);</code></p><h4 class="subheading">Description</h4>
<p>Prints a document without opening it for editing first. It
would typically be called from a shell or file manager application that wanted
to print the document without opening it fully.</p>
<p>This function is empty. Applications that want to support
printing should override this with a function that uses default print
parameters.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const CStreamStore&amp; aSourceStore </code></td>
<td class="Cell"><p class="ValueDesc"> Observer for the editing session. </p></td>
</tr>
</table></td></tr></table>
<a name="2.14"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Embedded documents</h2>
</div><div class="Bodytext">
<a name="2.14.2"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aEditL%28%29"></a>
<hr size="1" noshade>
<h3><code>EditL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void EditL(MApaEmbeddedDocObserver* aObserver,TBool aReadOnly=EFalse);</code></p><h4 class="subheading">Description</h4>
<p>Starts an editing session on an embedded document. This causes
the application&#8217;s UI to be created, and the document is fully restored
for editing or viewing.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> MApaEmbeddedDocObserver* aObserver </code></td>
<td class="Cell"><p class="ValueDesc"> Pointer to an observer that should be informed when editing
has been completed (see <code>MApaEmbeddedDocObserver</code>). </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aReadOnly=EFalse </code></td>
<td class="Cell"><p class="ValueDesc"> If <code>ETrue</code>, the document is opened as read only,
and changes made to its content do not persist. </p></td>
</tr>
</table></td></tr></table>
<a name="2.14.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aPrepareToEditL%28%29"></a>
<hr size="1" noshade>
<h3><code>PrepareToEditL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void PrepareToEditL(MApaEmbeddedDocObserver* aObserver, TBool aReadOnly);</code></p><h4 class="subheading">Description</h4>
<p>Prepares an embedded document for editing.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> MApaEmbeddedDocObserver* aObserver </code></td>
<td class="Cell"><p class="ValueDesc"> The observer of this embedded document </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aReadOnly </code></td>
<td class="Cell"><p class="ValueDesc"> If <code>ETrue</code>, the document is opened as read-only and
changes made to its content do not persist. </p></td>
</tr>
</table></td></tr></table>
<a name="2.14.4"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aPrepareToEditL%28%29"></a>
<hr size="1" noshade>
<h3><code>PrepareToEditL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void PrepareToEditL();</code></p><h4 class="subheading">Description</h4>
<p>Prepares this document for editing by the user</p>
<p>An alias for <code>PrepareToEditL(NULL, NULL)</code>;</p>
<a name="2.15"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>The edit store</h2>
</div><div class="Bodytext">
<a name="2.15.2"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aEditStore%28%29"></a>
<hr size="1" noshade>
<h3><code>EditStore()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CStreamStore* EditStore() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the edit store.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CStreamStore* </code></td>
<td class="Cell"><p class="ValueDesc"> Pointer to the stream store set as the edit store. </p></td>
</tr>
</table></td></tr></table>
<a name="2.15.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aSetEditStoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>SetEditStoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetEditStoreL(CStreamStore* aStore);</code></p><h4 class="subheading">Description</h4>
<p>Sets the edit store to <code>aStore</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CStreamStore* aStore </code></td>
<td class="Cell"><p class="ValueDesc"> The edit store to use. </p></td>
</tr>
</table></td></tr></table>
<a name="2.16"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Protected data members</h2>
</div><div class="Bodytext">
<a name="2.16.2"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aiAppUi"></a>
<hr size="1" noshade>
<h3><code>iAppUi</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CEikAppUi* iAppUi</code></p><h4 class="subheading">Description</h4>
<p>Pointer to the application UI through which the user
manipulates this document&#8217;s data.</p>
<a name="2.16.3"></a></div><div class="Head3">
<a name="%3a%3aCEikDocument%3a%3aiEditStore"></a>
<hr size="1" noshade>
<h3><code>iEditStore</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CStreamStore* iEditStore</code></p><h4 class="subheading">Description</h4>
<p>Pointer to the stream store set as the edit store.</p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
