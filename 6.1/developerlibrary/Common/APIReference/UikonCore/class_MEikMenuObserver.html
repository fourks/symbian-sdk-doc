<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>MEikMenuObserver</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="class_MEikCommandObserver.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="MEikPictureFactory.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Uikon&nbsp;Core</a>&nbsp;<span class="separator">&#187;</span>
MEikMenuObserver</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>eikmobs.h</code>
<br>Link against: <code>eikcore.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aMEikMenuObserver"></a>

<h1>Class <code>MEikMenuObserver</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>MEikMenuObserver</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Menu observer interface.</p>
<p>Menu observers cooperate with menu bars and menu panes,
initialising them before display and responding to menu events appropriately.
<code>CEikAppUi</code> implements <code>MEikMenuObserver</code>, so these
functions may be implemented on an application&#8217;s App UI.</p>
<p>Writing derived classes</p>
<p>The only pure virtual function in this interface is
<code>SetEmphasis()</code>. Other functions may be overridden to provide
additional behaviour.</p><h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="class_MEikCommandObserver.html#%3a%3aMEikCommandObserver">MEikCommandObserver</a></code></td><td class="Cell">Command observers respond to user commands, and have the secondary function of creating custom controls on request for classes such as CEikToolbar, or user-defined classes</td>
</tr>
<tr><td class="Cell"><code>MEikMenuObserver</code></td><td class="Cell">Menu observer interface</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>MEikMenuObserver</code>:
<br><code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aCheckHotKeyNotDimmedL%28%29" title="Determines whether a command should be passed to the application">CheckHotKeyNotDimmedL()</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aDynInitMenuBarL%28%29" title="As DynInitMenuPaneL(), but for menu bars">DynInitMenuBarL()</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aDynInitMenuPaneL%28%29" title="Dynamically initialises a menu pane">DynInitMenuPaneL()</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aEMenuBar" title="Menu bar">EMenuBar</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aEMenuPane" title="Menu pane">EMenuPane</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aHandleAttemptDimmedSelectionL%28%29" title="Responds to a user's attempt to select a dimmed item by displaying a message (CEikonEnv::InfoMsg()) to indicate the item is unavailable">HandleAttemptDimmedSelectionL()</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aHandleSideBarMenuL%28%29" title="This function is invoked by CEikMenuBar's input handling functions">HandleSideBarMenuL()</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aOfferKeyToAppL%28%29" title="Called if a key which is not used by the menu is pressed while the observer's menu is displaying">OfferKeyToAppL()</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aRestoreMenuL%28%29" title="Restores the menu window aMenuWindow">RestoreMenuL()</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aSetEmphasis%28%29" title="Called by the Uikon framework to handle the emphasising or de-emphasising of a menu window">SetEmphasis()</a></code>, <code class="ApiItem"><a href="class_MEikMenuObserver.html#%3a%3aMEikMenuObserver%3a%3aTMenuType" title="Menu types">TMenuType</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="class_MEikCommandObserver.html#%3a%3aMEikCommandObserver" title="Command observers respond to user commands, and have the secondary function of creating custom controls on request for classes such as CEikToolbar, or user-defined classes">MEikCommandObserver</a></code>:
<br><code class="ApiItem"><a href="class_MEikCommandObserver.html#%3a%3aMEikCommandObserver%3a%3aCreateCustomCommandControlL%28%29" title="Glue for creating custom controls">CreateCustomCommandControlL()</a></code>,
<code class="ApiItem"><a href="class_MEikCommandObserver.html#%3a%3aMEikCommandObserver%3a%3aProcessCommandL%28%29" title="Processes user commands">ProcessCommandL()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Mixin interface</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aMEikMenuObserver%3a%3aHandleAttemptDimmedSelectionL%28%29"></a>
<hr size="1" noshade>
<h3><code>HandleAttemptDimmedSelectionL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void HandleAttemptDimmedSelectionL(TInt aCommandId);</code></p><h4 class="subheading">Description</h4>
<p>Responds to a user&#8217;s attempt to select a dimmed item by
displaying a message (<code>CEikonEnv::InfoMsg()</code>) to indicate the item
is unavailable.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aCommandId</code></td>
<td class="Cell"><p class="ValueDesc">Command ID for the menu item.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aMEikMenuObserver%3a%3aCheckHotKeyNotDimmedL%28%29"></a>
<hr size="1" noshade>
<h3><code>CheckHotKeyNotDimmedL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TBool CheckHotKeyNotDimmedL(TInt aCommandId);</code></p><h4 class="subheading">Description</h4>
<p>Determines whether a command should be passed to the application.
Applications can choose whether to respond to a hotkey event that corresponds
to a dimmed item. This function is called when a recognised key press is
offered to a menu bar or a menu pane to determine whether to send the
corresponding command.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aCommandId</code></td>
<td class="Cell"><p class="ValueDesc">The command corresponding to the selected hotkey.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc"><code>ETrue</code> if the command should be passed to the
application. This is the default. <code>EFalse</code> if the command should not
be passed to the application.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aMEikMenuObserver%3a%3aRestoreMenuL%28%29"></a>
<hr size="1" noshade>
<h3><code>RestoreMenuL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RestoreMenuL(CCoeControl* aMenuWindow,TInt aMenuId,TMenuType aMenuType);</code></p><h4 class="subheading">Description</h4>
<p>Restores the menu window
<code>aMenuWindow</code>.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CCoeControl* aMenuWindow</code></td>
<td class="Cell"><p class="ValueDesc">The menu window to be restored.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMenuId</code></td>
<td class="Cell"><p class="ValueDesc">The menu&#8217;s ID.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TMenuType aMenuType</code></td>
<td class="Cell"><p class="ValueDesc">The type of menu being restored.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aMEikMenuObserver%3a%3aDynInitMenuPaneL%28%29"></a>
<hr size="1" noshade>
<h3><code>DynInitMenuPaneL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void DynInitMenuPaneL(TInt aResourceId, CEikMenuPane* aMenuPane);</code></p><h4 class="subheading">Description</h4>
<p>Dynamically initialises a menu pane. The Uikon framework calls this
function, if it is implemented in a menu&#8217;s observer, immediately before
the menu pane is activated. </p>
<p>Typically this function should inquire the value of application data,
and initialise menu items accordingly. This includes dimming menu items,
changing their text, setting the state of checked items and radio buttons and
dynamically adding items to a menu. </p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">Resource ID identifying the menu pane to initialise.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">CEikMenuPane* aMenuPane</code></td>
<td class="Cell"><p class="ValueDesc">The in-memory representation of the menu pane.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.6"></a></div><div class="Head3">
<a name="%3a%3aMEikMenuObserver%3a%3aDynInitMenuBarL%28%29"></a>
<hr size="1" noshade>
<h3><code>DynInitMenuBarL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void DynInitMenuBarL(TInt aResourceId, CEikMenuBar* aMenuBar);</code></p><h4 class="subheading">Description</h4>
<p>As <code>DynInitMenuPaneL()</code>, but for menu
bars.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">Resource ID identifying the menu bar to initialise.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">CEikMenuBar* aMenuBar</code></td>
<td class="Cell"><p class="ValueDesc">The in-memory representation of the menu bar.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.7"></a></div><div class="Head3">
<a name="%3a%3aMEikMenuObserver%3a%3aHandleSideBarMenuL%28%29"></a>
<hr size="1" noshade>
<h3><code>HandleSideBarMenuL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void HandleSideBarMenuL(TInt aResourceId, const TPoint&amp; aPos,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TInt aModifiers, const CEikHotKeyTable* aTable);</code></p><h4 class="subheading">Description</h4>
<p>This function is invoked by <code>CEikMenuBar</code>&#8217;s input
handling functions. It may be overridden to handle displaying menus launched
from the side bar.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">Resource ID identifying the menu to launch.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TPoint&amp; aPos</code></td>
<td class="Cell"><p class="ValueDesc">Position of the menu&#8217;s reference point. For sidebar menus, this is
the top-right corner.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aModifiers</code></td>
<td class="Cell"><p class="ValueDesc">Key modifiers held when the menu was invoked.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const CEikHotKeyTable* aTable</code></td>
<td class="Cell"><p class="ValueDesc">The menu bar&#8217;s hotkey items.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.8"></a></div><div class="Head3">
<a name="%3a%3aMEikMenuObserver%3a%3aOfferKeyToAppL%28%29"></a>
<hr size="1" noshade>
<h3><code>OfferKeyToAppL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void OfferKeyToAppL(const TKeyEvent&amp; aKeyEvent, TEventCode aType);</code></p><h4 class="subheading">Description</h4>
<p>Called if a key which is not used by the menu is pressed while the
observer&#8217;s menu is displaying.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TKeyEvent&amp; aKeyEvent</code></td>
<td class="Cell"><p class="ValueDesc">The key event the menu is offering to the app.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TEventCode aType</code></td>
<td class="Cell"><p class="ValueDesc">Event code type.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.9"></a></div><div class="Head3">
<a name="%3a%3aMEikMenuObserver%3a%3aSetEmphasis%28%29"></a>
<hr size="1" noshade>
<h3><code>SetEmphasis()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void SetEmphasis(CCoeControl* aMenuControl, TBool aEmphasis) = 0;</code></p><h4 class="subheading">Description</h4>
<p>Called by the Uikon framework to handle the emphasising or de-emphasising
of a menu window. <code>CEikMenuBar</code> objects call this on their observer
to emphasise themselves when they are displayed, and de-emphasise themselves
when they stop displaying.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CCoeControl* aMenuControl</code></td>
<td class="Cell"><p class="ValueDesc">The menu control.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aEmphasis</code></td>
<td class="Cell"><p class="ValueDesc"><code>ETrue</code> to  emphasize the menu, <code>EFalse</code> otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.10"></a></div><div class="Head3">
<a name="%3a%3aMEikMenuObserver%3a%3aTMenuType"></a>
<hr size="1" noshade>
<h3>Enum <code>TMenuType</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TMenuType</code></p><h4 class="subheading">Description</h4>
<p>Menu types</p><table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aMEikMenuObserver%3a%3aEMenuPane"><code class="Value">EMenuPane</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Menu pane.</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aMEikMenuObserver%3a%3aEMenuBar"><code class="Value">EMenuBar</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Menu bar.</para></p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
