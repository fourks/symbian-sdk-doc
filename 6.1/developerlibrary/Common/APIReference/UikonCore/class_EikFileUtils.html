<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>EikFileUtils</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="class_EikControlFactory.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="class_EikResourceUtils.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Uikon&nbsp;Core</a>&nbsp;<span class="separator">&#187;</span>
EikFileUtils</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> eikfutil.h </code>
<br>Link against: <code> eikcore.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aEikFileUtils"></a>

<h1>Class <code>EikFileUtils</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>EikFileUtils</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>This class provides a set of drive, path and file utility
functions.</p>
<p>Defined in <code>EikFileUtils</code>:
<br><code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aAbbreviateFileName%28%29" title="Tests whether there is sufficient space to display the specified file name">AbbreviateFileName()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aAbbreviatePath%28%29" title="Gets an abbreviated path">AbbreviatePath()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aCheckFolder%28%29" title="Checks whether the specified folder exists">CheckFolder()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aCheckWhetherFullNameRefersToFolder%28%29" title="Tests whether a file specification refers to a folder">CheckWhetherFullNameRefersToFolder()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aCopyFile%28%29" title="Copies the specified file to a specified destination file">CopyFile()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aDeleteFile%28%29" title="Deletes one or more files">DeleteFile()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aDiskIsReadOnly%28%29" title="Gets drive read only state">DiskIsReadOnly()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aDriveAndPathFromFullName%28%29" title="Parses the specified full path and file name to obtain the drive and path">DriveAndPathFromFullName()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aFolderExists%28%29" title="Checks whether the specified folder exists">FolderExists()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aFolderNameFromFullName%28%29" title="Gets a folder name from a path and file name">FolderNameFromFullName()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aIsFirstDriveForSocket%28%29" title="Tests whether the specified drive is the first drive for the socket">IsFirstDriveForSocket()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aIsFolder%28%29" title="Sets aFullName as a folder">IsFolder()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aMostSignificantPartOfFullName%28%29" title="Gets the most significant part of the specified drive, path and file name">MostSignificantPartOfFullName()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aParse%28%29" title="Parse the specified file name specification">Parse()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aPathExists%28%29" title="Tests whether a path exists">PathExists()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aRemoveSystemDirectory%28%29" title="Deletes a directory and all files and directories contained in the directory structure below it">RemoveSystemDirectory()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aRenameFile%28%29" title="Renames or moves one or more files or directories">RenameFile()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aRootFolderPath%28%29" title="Gets the full path for a drive">RootFolderPath()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aSortByTable%28%29" title="Sorts the files in the given table into order">SortByTable()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aUidTypeMatches%28%29" title="Tests whether two UID types match">UidTypeMatches()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aUpdateDiskListL%28%29" title="Updates the list of available drives">UpdateDiskListL()</a></code>, <code class="ApiItem"><a href="class_EikFileUtils.html#%3a%3aEikFileUtils%3a%3aValidateFolderNameTypedByUserL%28%29" title="Checks whether a folder, the name of which is supplied by a user, exists">ValidateFolderNameTypedByUserL()</a></code>
</p>
<a name="2.5"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Drive and path information</h2>
</div><div class="Bodytext">
<a name="2.5.2"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aUpdateDiskListL%28%29"></a>
<hr size="1" noshade>
<h3><code>UpdateDiskListL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void UpdateDiskListL(const RFs&amp; aFs,CDesCArray&amp; aArray,TBool aIncludeRom,TDriveNumber aDriveNumber);</code></p><h4 class="subheading">Description</h4>
<p>Updates the list of available drives.</p>
<p>Inserts a list of all available drives in <code>aArray</code>.
The drive list consists of an array of 26 bytes. Array index zero corresponds
to drive A, one equals B and so on. Each byte with a non zero value signifies
that the corresponding drive contains recognised media.</p>
<p>Note that the local file system always reserves drive letters A
through I. The internal RAM always uses drive letter C. Drive letter Z is
always used for the ROM.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const RFs&amp; aFs </code></td>
<td class="Cell"><p class="ValueDesc"> File server session. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> CDesCArray&amp; aArray </code></td>
<td class="Cell"><p class="ValueDesc"> The array in which to insert the list of available drives.
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aIncludeRom </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> if the ROM is included as a drive,
<code>EFalse</code> otherwise. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDriveNumber aDriveNumber </code></td>
<td class="Cell"><p class="ValueDesc"> Drive with which to begin the list. </p></td>
</tr>
</table></td></tr></table>
<a name="2.5.3"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aIsFirstDriveForSocket%28%29"></a>
<hr size="1" noshade>
<h3><code>IsFirstDriveForSocket()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsFirstDriveForSocket(TDriveUnit aDriveUnit);</code></p><h4 class="subheading">Description</h4>
<p>Tests whether the specified drive is the first drive for the
socket.</p>
<p>Sockets provide a generic interface to communication protocols
through communication end points known as sockets. EPOC sockets are similar in
concept to Berkeley Software Distribution (BSD) sockets from the University of
California at Berkeley. They provide a generic interface to network level
communications protocols for common operations involved in network
computing.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDriveUnit aDriveUnit </code></td>
<td class="Cell"><p class="ValueDesc"> The drive to check. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> if <code>aDriveUnit</code> is the first
drive for the socket, <code>EFalse</code> otherwise. </p></td>
</tr>
</table></td></tr></table>
<a name="2.5.4"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aDiskIsReadOnly%28%29"></a>
<hr size="1" noshade>
<h3><code>DiskIsReadOnly()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt DiskIsReadOnly(const TDesC&amp; aFullName, TBool&amp; aIsReadOnly);</code></p><h4 class="subheading">Description</h4>
<p>Gets drive read only state.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFullName </code></td>
<td class="Cell"><p class="ValueDesc"> The disk&#8217;s full name. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool&amp; aIsReadOnly </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> to set the specified disk as being
read-only. <code>EFalse</code> to set the specified disk as not being
read-only. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.5.5"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aRootFolderPath%28%29"></a>
<hr size="1" noshade>
<h3><code>RootFolderPath()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TFileName RootFolderPath(const TBuf&lt;1&gt; aDriveLetter);</code></p><h4 class="subheading">Description</h4>
<p>Gets the full path for a drive.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TBuf&lt;1&gt; aDriveLetter </code></td>
<td class="Cell"><p class="ValueDesc"> The drive&#8217;s letter, <code>C</code> for example. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TFileName </code></td>
<td class="Cell"><p class="ValueDesc"> The full path for a drive, <code>C:\</code> for example.
</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.6"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aDriveAndPathFromFullName%28%29"></a>
<hr size="1" noshade>
<h3><code>DriveAndPathFromFullName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TFileName DriveAndPathFromFullName(const TDesC&amp; aFullName);</code></p><h4 class="subheading">Description</h4>
<p>Parses the specified full path and file name to obtain the
drive and path.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFullName </code></td>
<td class="Cell"><p class="ValueDesc"> The full path and file name from which the drive and path will
be obtained. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TFileName </code></td>
<td class="Cell"><p class="ValueDesc"> The drive and path. </p></td>
</tr>
</table></td></tr></table>
<a name="2.5.7"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aMostSignificantPartOfFullName%28%29"></a>
<hr size="1" noshade>
<h3><code>MostSignificantPartOfFullName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt MostSignificantPartOfFullName(const TDesC&amp; aFullName, TFileName&amp; aMostSignificantPart);</code></p><h4 class="subheading">Description</h4>
<p>Gets the most significant part of the specified drive, path and
file name.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFullName </code></td>
<td class="Cell"><p class="ValueDesc"> The drive, path and file name. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TFileName&amp; aMostSignificantPart </code></td>
<td class="Cell"><p class="ValueDesc"> On return, the most significant part of
<code>aFullName</code>. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.5.8"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aPathExists%28%29"></a>
<hr size="1" noshade>
<h3><code>PathExists()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool PathExists(const TDesC&amp; aPath);</code></p><h4 class="subheading">Description</h4>
<p>Tests whether a path exists.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aPath </code></td>
<td class="Cell"><p class="ValueDesc"> The path to check. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> if the path exists, <code>EFalse</code>
otherwise. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Folder information</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aFolderNameFromFullName%28%29"></a>
<hr size="1" noshade>
<h3><code>FolderNameFromFullName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TFileName FolderNameFromFullName(const TDesC&amp; aFullName);</code></p><h4 class="subheading">Description</h4>
<p>Gets a folder name from a path and file name.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFullName </code></td>
<td class="Cell"><p class="ValueDesc"> The full path and file name from which the folder will be
obtained. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TFileName </code></td>
<td class="Cell"><p class="ValueDesc"> Folder name </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aCheckWhetherFullNameRefersToFolder%28%29"></a>
<hr size="1" noshade>
<h3><code>CheckWhetherFullNameRefersToFolder()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt CheckWhetherFullNameRefersToFolder(const TDesC&amp; aFullName, TBool&amp; aIsFolder);</code></p><h4 class="subheading">Description</h4>
<p>Tests whether a file specification refers to a folder.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFullName </code></td>
<td class="Cell"><p class="ValueDesc"> The complete file specification to check. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool&amp; aIsFolder </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> if <code>aFullName</code> is a folder,
<code>EFalse</code> otherwise. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if <code>aFullName</code> is a folder,
otherwise another of the system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aCheckFolder%28%29"></a>
<hr size="1" noshade>
<h3><code>CheckFolder()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt CheckFolder(const TDesC&amp; aFolderName);</code></p><h4 class="subheading">Description</h4>
<p>Checks whether the specified folder exists. This returns an
error if the folder does not exist: see also <code>FolderExists()</code> which
returns a boolean value.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFolderName </code></td>
<td class="Cell"><p class="ValueDesc"> The folder&#8217;s name and path. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if <code>aFolderName</code> exists,
otherwise another of the system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aFolderExists%28%29"></a>
<hr size="1" noshade>
<h3><code>FolderExists()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool FolderExists(const TDesC&amp; aFolderName);</code></p><h4 class="subheading">Description</h4>
<p>Checks whether the specified folder exists. This returns
boolean value if the folder does not exist: see also <code>CheckFolder()</code>
which returns an error.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFolderName </code></td>
<td class="Cell"><p class="ValueDesc"> The folder&#8217;s name and path. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> if the folder exists, <code>EFalse</code>
otherwise. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.6"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aIsFolder%28%29"></a>
<hr size="1" noshade>
<h3><code>IsFolder()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt IsFolder(const TDesC&amp; aFullName, TBool&amp; aIsFolder);</code></p><h4 class="subheading">Description</h4>
<p>Sets <code>aFullName</code> as a folder.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFullName </code></td>
<td class="Cell"><p class="ValueDesc"> The drive and path to make into a folder. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool&amp; aIsFolder </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> to set <code>aFullName</code> as a folder.
<code>EFalse</code> otherwise. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.7"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aValidateFolderNameTypedByUserL%28%29"></a>
<hr size="1" noshade>
<h3><code>ValidateFolderNameTypedByUserL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TFileName ValidateFolderNameTypedByUserL(const TDesC&amp; aFolderNameTypedByUser, const TDesC&amp; aCurrentPath);</code></p><h4 class="subheading">Description</h4>
<p>Checks whether a folder, the name of which is supplied by a
user, exists.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFolderNameTypedByUser </code></td>
<td class="Cell"><p class="ValueDesc"> The folder name typed by a user. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aCurrentPath </code></td>
<td class="Cell"><p class="ValueDesc"> The current path. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TFileName </code></td>
<td class="Cell"><p class="ValueDesc"> The folder name and full path to the folder. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Parsing and abbreviation functions</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aParse%28%29"></a>
<hr size="1" noshade>
<h3><code>Parse()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Parse(const TDesC&amp; aName);</code></p><h4 class="subheading">Description</h4>
<p>Parse the specified file name specification.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aName </code></td>
<td class="Cell"><p class="ValueDesc"> The file name specification you wish to parse. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aAbbreviateFileName%28%29"></a>
<hr size="1" noshade>
<h3><code>AbbreviateFileName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void AbbreviateFileName(const TFileName&amp; aOriginalFileName, TDes&amp; aAbbreviatedFileName);</code></p><h4 class="subheading">Description</h4>
<p>Tests whether there is sufficient space to display the
specified file name. If there is sufficient space then
<code>aOriginalFileName</code> is the same as
<code>aAbbreviatedFileName</code>. If there is not sufficient space,
<code>aOriginalFileName</code> is abbreviated to fit the available space,
prefixed with an ellipsis and the abbreviation is returned as
<code>aAbbreviatedFileName</code>.</p>
<p>For example, if <code>c:\home\letters\abcdef</code> is the
original file name and the destination buffer allows only 7 characters, the
abbreviated file name will be <code>...abcdef</code>. This can be used to
display a file or folder name in an error or progress dialog.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TFileName&amp; aOriginalFileName </code></td>
<td class="Cell"><p class="ValueDesc"> The file name to be displayed. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes&amp; aAbbreviatedFileName </code></td>
<td class="Cell"><p class="ValueDesc"> If there is insufficient space to display
<code>aOriginalFileName</code>, this provides an abbreviation. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aAbbreviatePath%28%29"></a>
<hr size="1" noshade>
<h3><code>AbbreviatePath()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TFileName AbbreviatePath(TDesC&amp; aPathName, const CFont&amp; aFont, TInt aMaxWidthInPixels);</code></p><h4 class="subheading">Description</h4>
<p>Gets an abbreviated path.</p>
<p>Determines the space that is available to display
<code>aPathName</code> according to the font size and available screen area. If
there is sufficient space then <code>aPathName</code> is returned as
<code>TFileName</code>. If there is not sufficient space,
<code>aPathName</code> is abbreviated to fit the available space, prefixed with
an ellipsis and the abbreviation is returned as <code>TFileName</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDesC&amp; aPathName </code></td>
<td class="Cell"><p class="ValueDesc"> The full path name. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const CFont&amp; aFont </code></td>
<td class="Cell"><p class="ValueDesc"> The font used to display the path. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aMaxWidthInPixels </code></td>
<td class="Cell"><p class="ValueDesc"> The available display space in pixels. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TFileName </code></td>
<td class="Cell"><p class="ValueDesc"> The path name. This is <code>aPathName</code> if there is
sufficient space, otherwise an abbreviation. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Sorting files</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aSortByTable%28%29"></a>
<hr size="1" noshade>
<h3><code>SortByTable()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt SortByTable(CDir&amp; aDir,CBaflFileSortTable* aTable);</code></p><h4 class="subheading">Description</h4>
<p>Sorts the files in the given table into order. Any file with
UID[2] matching an entry in the table will be sorted relative to others in the
table and before any files with no matching UID.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CDir&amp; aDir </code></td>
<td class="Cell"><p class="ValueDesc"> Array of directory entries that have been read into memory
from the file system. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> CBaflFileSortTable* aTable </code></td>
<td class="Cell"><p class="ValueDesc"> The table in which the sorted directory entries are stored.
</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>UID type matching</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aUidTypeMatches%28%29"></a>
<hr size="1" noshade>
<h3><code>UidTypeMatches()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool UidTypeMatches(const TUidType&amp; aFileUid, const TUidType&amp; aMatchUid);</code></p><h4 class="subheading">Description</h4>
<p>Tests whether two UID types match.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TUidType&amp; aFileUid </code></td>
<td class="Cell"><p class="ValueDesc"> The UID type to match. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TUidType&amp; aMatchUid </code></td>
<td class="Cell"><p class="ValueDesc"> The UID type to match against. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc">
<code>ETrue</code> if the UIDs match, <code>EFalse</code>
otherwise. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Copying, renaming and deleting</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aCopyFile%28%29"></a>
<hr size="1" noshade>
<h3><code>CopyFile()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt CopyFile(const TDesC&amp; aSourceFullName, const TDesC&amp; aTargetFullName, TUint aSwitch);</code></p><h4 class="subheading">Description</h4>
<p>Copies the specified file to a specified destination file.
Optionally, <code>aSwitch</code> can be set for either recursive operation or
to overwrite any files with the same name which exist in the target directory.
If recursive operation is set, any intermediate directories are created. If no
overwriting is set, any files with the same name are not overwritten, and an
error is returned for that file.</p>
<p>Notes:</p>
<ul>
<li>
<p>files can be copied across drives</p>
</li>
<li>
<p>open files can be copied only if they have been opened
using the <code>EFileShareReadersOnly</code> file share mode</p>
</li>
<li>
<p>read-only, hidden and system files can be copied and the
source file&#8217;s attributes are preserved in the target file</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aSourceFullName </code></td>
<td class="Cell"><p class="ValueDesc"> Path indicating the file(s) to be copied. Any path components
which are not specified here will be taken from the session path. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aTargetFullName </code></td>
<td class="Cell"><p class="ValueDesc"> Path indicating the directory into which the file(s) are to be
copied. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint aSwitch </code></td>
<td class="Cell"><p class="ValueDesc"> Optional switch to specify overwriting or recursion. By
default, this function operates with overwriting and non-recursively. Switch
options are defined using the enum TSwitch. This is defined in f32file.h.
</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if the copy is successful, otherwise
another of the system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.3"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aRenameFile%28%29"></a>
<hr size="1" noshade>
<h3><code>RenameFile()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt RenameFile(const TDesC&amp; aOldFullName, const TDesC&amp; aNewFullName, TUint aSwitch);</code></p><h4 class="subheading">Description</h4>
<p>Renames or moves one or more files or directories. This can
also be used to move one or more files by specifying different destination and
source directories. Note that the destination and source directories must be on
the same drive.</p>
<p>If moving files, you can set <code>aSwitch</code> so that any
files with the same name that exist in the target directory are overwritten. If
<code>aSwitch</code> is set for no overwriting, any files with the same name
are not overwritten, and an error (<code>KErrAlreadyExists</code>) is returned
for that file.</p>
<p>This function can only operate non-recursively, so that only
the matching files located in the single directory specified by
<code>aOldFullName</code> may be renamed.</p>
<p>Read-only, system and hidden files may be renamed or moved, and
the source file&#8217;s attributes are preserved in the target file, but open
files cannot be renamed or moved. Attempting to rename or move an open file
will return an error for that file.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aOldFullName </code></td>
<td class="Cell"><p class="ValueDesc"> Path specifying the file or directory to be renamed. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aNewFullName </code></td>
<td class="Cell"><p class="ValueDesc"> Path specifying the new name for the file or directory. Any
directories specified in this path which do not exist will be created. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint aSwitch </code></td>
<td class="Cell"><p class="ValueDesc"> Optional, determines whether files are overwritten on the
target. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> Tint </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.4"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aDeleteFile%28%29"></a>
<hr size="1" noshade>
<h3><code>DeleteFile()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt DeleteFile(const TDesC&amp; aSourceFullName, TUint aSwitch);</code></p><h4 class="subheading">Description</h4>
<p>Deletes one or more files.</p>
<p>This function may operate recursively or non-recursively. When
operating non-recursively, only the matching files located in the directory
specified in <code>aSourceFullName</code> are affected. When operating
recursively, all matching files in the directory hierarchy below the directory
specified in <code>aSourceFullName</code> are deleted.</p>
<p>Read-only and open files cannot be deleted. Attempting to do so
will return an error.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aSourceFullName </code></td>
<td class="Cell"><p class="ValueDesc"> Path indicating the file(s) to be deleted. This can either be
a full path, or a path relative to the session path. Use wildcards to specify
more than one file. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint aSwitch </code></td>
<td class="Cell"><p class="ValueDesc"> Determines whether this function operates recursively. By
default, this function operates non-recursively. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if <code>aSourceFullName</code> is
successfully deleted, otherwise another of the system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.5"></a></div><div class="Head3">
<a name="%3a%3aEikFileUtils%3a%3aRemoveSystemDirectory%28%29"></a>
<hr size="1" noshade>
<h3><code>RemoveSystemDirectory()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RemoveSystemDirectory(CDir&amp; aDir);</code></p><h4 class="subheading">Description</h4>
<p>Deletes a directory and all files and directories contained in
the directory structure below it.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CDir&amp; aDir </code></td>
<td class="Cell"><p class="ValueDesc"> The directory to be deleted. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
