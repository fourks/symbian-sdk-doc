<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>TDrawTextLayoutContext</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="TCursorSelectionClass.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="TFrameOverlayClass.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Text&nbsp;Views</a>&nbsp;<span class="separator">&#187;</span>
TDrawTextLayoutContext</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>frmtlay.h</code>
<br>Link against: <code>form.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aTDrawTextLayoutContext"></a>

<h1>Class <code>TDrawTextLayoutContext</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>TDrawTextLayoutContext</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Parameters used by functions that draw text. </p><p>An object of this class is passed to
<code>CTextLayout::DrawL()</code> and to <code>InvertRangeL()</code>. The draw
context includes the view rectangle, the graphics context, the background
colour and the margin widths.</p>
<p>You only need to use this class directly when you are using a
<code>CTextLayout</code> object which is not owned by a <code>CTextView</code>
object.</p><p>Defined in <code>TDrawTextLayoutContext</code>:
<br><code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aDisplayHeight%28%29" title="Gets the display height in pixels">DisplayHeight()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aDrawGraphics%28%29" title="Obsolete function">DrawGraphics()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aDrawText%28%29" title="Obsolete function">DrawText()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aGutterMargin%28%29" title="Gets the area occupied by the gutter margin">GutterMargin()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aIsGutterMargin%28%29" title="This function is identical to IsLabelMargin()">IsGutterMargin()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aIsLabelMargin%28%29" title="Tests whether a label margin has been set">IsLabelMargin()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aLabelMargin%28%29" title="Gets the area occupied by the label margin">LabelMargin()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aParagraphFillTextOnly%28%29" title="Tests whether the region filled with paragraph fill colour is the area within the paragraph only, or also the area within the left text margin">ParagraphFillTextOnly()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aPrimaryGc%28%29" title="Gets the graphics context for drawing the text and pictures">PrimaryGc()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetBitmapGc%28%29" title="Obsolete function">SetBitmapGc()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetClipping%28%29" title="Sets whether drawing should be clipped to the intersection of the draw rectangle (the aDrawRect parameter passed to CTextLayout::DrawL() or InvertRangeL()) and the text area">SetClipping()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetDrawGraphicsOnly%28%29" title="This function is obsolete">SetDrawGraphicsOnly()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetDrawTextAndGraphics%28%29" title="This function is obsolete">SetDrawTextAndGraphics()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetDrawTextOnly%28%29" title="This function is obsolete">SetDrawTextOnly()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetDrawToEveryPixel%28%29" title="Sets whether the background colour as specified by iBackgroundColor should be drawn">SetDrawToEveryPixel()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetGc%28%29" title="Sets the graphics context for drawing text and pictures">SetGc()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetParagraphFillTextOnly%28%29" title="Sets the horizontal extent of a paragraph to be filled with paragraph fill colour">SetParagraphFillTextOnly()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetTextColorOverride%28%29" title="Overrides the existing text colour, so that when redrawn, all text has the colour specified, rather than the colour which is set in the text object">SetTextColorOverride()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aSetWindowGc%28%29" title="Obsolete function">SetWindowGc()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aTDrawTextLayoutContext%28%29" title="Default C++ constructor">TDrawTextLayoutContext()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aTextArea%28%29" title="Gets the text area">TextArea()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aTextOverrideColor%28%29" title="If the text colour is overridden, this function gets the text override colour, as set by SetTextColorOverride()">TextOverrideColor()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aTextToWindow%28%29" title="Converts a rectangle in layout coordinates to window coordinates">TextToWindow()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aTopLeftText%28%29" title="Gets the window coordinates of the top left hand corner at which text may be drawn">TopLeftText()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aTopLeftTextArea%28%29" title="Gets the (window) coordinates of the top left hand corner of the text area">TopLeftTextArea()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aTotalMargin%28%29" title="Gets the area occupied by the label and gutter margins">TotalMargin()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aUseBackgroundColor%28%29" title="Tests whether the background colour is used, as set by SetDrawToEveryPixel()">UseBackgroundColor()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aUseClippingRect%28%29" title="Tests whether clipping is set to the intersection of the draw rectangle, (the aDrawRect parameter passed to CTextLayout::DrawL() or InvertRangeL()) and the text area">UseClippingRect()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aWindowToText%28%29" title="Converts a rectangle in window coordinates to layout coordinates">WindowToText()</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aiBackgroundColor" title="The background colour for the view rectangle">iBackgroundColor</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aiGutterMarginWidth" title="The gutter margin width (also known as the line cursor margin width)">iGutterMarginWidth</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aiLabelMarginWidth" title="The label margin width">iLabelMarginWidth</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aiTextStartX" title="The horizontal offset between window coordinates and text layout coordinates">iTextStartX</a></code>, <code class="ApiItem"><a href="TDrawTextLayoutContextClass.html#%3a%3aTDrawTextLayoutContext%3a%3aiViewRect" title="The view rectangle (specified in window coordinates)">iViewRect</a></code>
</p>
<a name="2.5"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction</h2>
</div><div class="Bodytext">
<a name="2.5.2"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aTDrawTextLayoutContext%28%29"></a>
<hr size="1" noshade>
<h3><code>TDrawTextLayoutContext()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TDrawTextLayoutContext();</code></p><h4 class="subheading">Description</h4>
<p>Default C++ constructor.</p>
<p>This constructs a fully initialized
<code>TDrawTextLayoutContext</code> object. Its view rectangle,
<code>iLabelMarginWidth</code> and <code>iGutterMarginWidth</code> and
<code>iTextStartX</code> are all initialized to zero, the background colour is
initialized to the default system background colour, text and graphics are set
to be drawn and clipping is set. The graphics context is initialised to
NULL.</p>
<a name="2.6"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Graphics context</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetGc%28%29"></a>
<hr size="1" noshade>
<h3><code>SetGc()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetGc(CGraphicsContext* aGc,CGraphicsContext* aPictureGc=NULL);</code></p><h4 class="subheading">Description</h4>
<p>Sets the graphics context for drawing text and
pictures.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CGraphicsContext* aGc</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to the graphics context for drawing text and
pictures.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">CGraphicsContext* aPictureGc=NULL</code></td>
<td class="Cell"><p class="ValueDesc">This argument is not used&#0160;&#8212; all drawing is done
using <code>aGc</code>.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetBitmapGc%28%29"></a>
<hr size="1" noshade>
<h3><code>SetBitmapGc()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetBitmapGc(CBitmapContext* aGc,CBitmapContext* aPictureGc=NULL);</code></p><h4 class="subheading">Description</h4>
<p>Obsolete function. This function is identical to
<code>SetGc()</code>.</p>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetWindowGc%28%29"></a>
<hr size="1" noshade>
<h3><code>SetWindowGc()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetWindowGc(CWindowGc* aGc,CWindowGc* aPictureGc=NULL);</code></p><h4 class="subheading">Description</h4>
<p>Obsolete function.</p>
<p>This function is identical to <code>SetGc()</code> except that it
sets a flag to ensure that drawing uses the clip
rectangle.</p>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aPrimaryGc%28%29"></a>
<hr size="1" noshade>
<h3><code>PrimaryGc()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CGraphicsContext* PrimaryGc() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the graphics context for drawing the text and
pictures.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CGraphicsContext*</code></td>
<td class="Cell"><p class="ValueDesc">The graphics context.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Background colour</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetDrawToEveryPixel%28%29"></a>
<hr size="1" noshade>
<h3><code>SetDrawToEveryPixel()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetDrawToEveryPixel(TBool aDrawToEveryPixel);</code></p><h4 class="subheading">Description</h4>
<p>Sets whether the background colour as specified by
<code>iBackgroundColor</code> should be drawn.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aDrawToEveryPixel</code></td>
<td class="Cell"><p class="ValueDesc">Specify <code>ETrue</code> to draw the background colour,
<code>EFalse</code> to draw no background colour.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aUseBackgroundColor%28%29"></a>
<hr size="1" noshade>
<h3><code>UseBackgroundColor()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool UseBackgroundColor() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether the background colour is used, as set by
<code>SetDrawToEveryPixel()</code>.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if the background colour is used. False if not.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetParagraphFillTextOnly%28%29"></a>
<hr size="1" noshade>
<h3><code>SetParagraphFillTextOnly()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetParagraphFillTextOnly(TBool aFillTextOnly);</code></p><h4 class="subheading">Description</h4>
<p>Sets the horizontal extent of a paragraph to be filled with paragraph
fill colour.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aFillTextOnly</code></td>
<td class="Cell"><p class="ValueDesc">If true, the region filled with paragraph fill colour is the area within
the paragraph only. If false, the left text margin, if present, is also
filled.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aParagraphFillTextOnly%28%29"></a>
<hr size="1" noshade>
<h3><code>ParagraphFillTextOnly()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool ParagraphFillTextOnly() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether the region filled with paragraph fill colour is the area
within the paragraph only, or also the area within the left text
margin.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">If true, the region filled with paragraph fill colour is the area within
the paragraph only. If false, the left text margin, if present, is also
filled.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Text colour</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetTextColorOverride%28%29"></a>
<hr size="1" noshade>
<h3><code>SetTextColorOverride()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetTextColorOverride(const TRgb *aOverrideColor);</code></p><h4 class="subheading">Description</h4>
<p>Overrides the existing text colour, so that when redrawn, all text has
the colour specified, rather than the colour which is set in the text object.
To return the text to its original colour, call this function again with an
argument of NULL.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TRgb *aOverrideColor</code></td>
<td class="Cell"><p class="ValueDesc">If not NULL, overrides the text colour.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aTextOverrideColor%28%29"></a>
<hr size="1" noshade>
<h3><code>TextOverrideColor()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>const TRgb* TextOverrideColor() const;</code></p><h4 class="subheading">Description</h4>
<p>If the text colour is overridden, this function gets the text override
colour, as set by <code>SetTextColorOverride()</code>.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRgb*</code></td>
<td class="Cell"><p class="ValueDesc">Text override colour. NULL if no text override colour is in use.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Drawing</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetDrawTextOnly%28%29"></a>
<hr size="1" noshade>
<h3><code>SetDrawTextOnly()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetDrawTextOnly();</code></p><h4 class="subheading">Description</h4>
<p>This function is obsolete. When a text object is drawn, all parts of it
are drawn.</p>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetDrawGraphicsOnly%28%29"></a>
<hr size="1" noshade>
<h3><code>SetDrawGraphicsOnly()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetDrawGraphicsOnly();</code></p><h4 class="subheading">Description</h4>
<p>This function is obsolete. When a text object is drawn, all parts of it
are drawn.</p>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetDrawTextAndGraphics%28%29"></a>
<hr size="1" noshade>
<h3><code>SetDrawTextAndGraphics()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetDrawTextAndGraphics();</code></p><h4 class="subheading">Description</h4>
<p>This function is obsolete. When a text object is drawn, all parts of it
are drawn.</p>
<a name="2.9.5"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aSetClipping%28%29"></a>
<hr size="1" noshade>
<h3><code>SetClipping()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetClipping(TBool aClipping);</code></p><h4 class="subheading">Description</h4>
<p>Sets whether drawing should be clipped to the intersection of the draw
rectangle (the <code>aDrawRect</code> parameter passed to
<code>CTextLayout::DrawL()</code> or <code>InvertRangeL()</code>) and the text
area.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aClipping</code></td>
<td class="Cell"><p class="ValueDesc">True to clip drawing to the clip rectangle. False to ignore the clip
rectangle.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.6"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aUseClippingRect%28%29"></a>
<hr size="1" noshade>
<h3><code>UseClippingRect()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool UseClippingRect() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether clipping is set to the intersection of the draw rectangle,
(the <code>aDrawRect</code> parameter passed to
<code>CTextLayout::DrawL()</code> or <code>InvertRangeL()</code>) and the text
area.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if clipping set to clip rectangle, false if not.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.7"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aDrawText%28%29"></a>
<hr size="1" noshade>
<h3><code>DrawText()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool DrawText() const;</code></p><h4 class="subheading">Description</h4>
<p>Obsolete function. When a text object is drawn, all parts of it are
drawn.</p>
<a name="2.9.8"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aDrawGraphics%28%29"></a>
<hr size="1" noshade>
<h3><code>DrawGraphics()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool DrawGraphics() const;</code></p><h4 class="subheading">Description</h4>
<p>Obsolete function. </p>
<p>When a text object is drawn, all parts of it are
drawn.</p>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Text area and margins</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aTextArea%28%29"></a>
<hr size="1" noshade>
<h3><code>TextArea()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TRect TextArea() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the text area. The text area is the view rectangle minus the label
and gutter margins.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRect</code></td>
<td class="Cell"><p class="ValueDesc">The text area.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.3"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aDisplayHeight%28%29"></a>
<hr size="1" noshade>
<h3><code>DisplayHeight()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt DisplayHeight() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the display height in pixels. The display height is the same as the
view rectangle height. </p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">The display height.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.4"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aTopLeftTextArea%28%29"></a>
<hr size="1" noshade>
<h3><code>TopLeftTextArea()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TPoint TopLeftTextArea() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the (window) coordinates of the top left hand corner of the text
area.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TPoint</code></td>
<td class="Cell"><p class="ValueDesc">The top left hand corner of the text area.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.5"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aTotalMargin%28%29"></a>
<hr size="1" noshade>
<h3><code>TotalMargin()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TRect TotalMargin() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the area occupied by the label and gutter
margins.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRect</code></td>
<td class="Cell"><p class="ValueDesc">Rectangle representing the label and gutter margins.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.6"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aLabelMargin%28%29"></a>
<hr size="1" noshade>
<h3><code>LabelMargin()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TRect LabelMargin() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the area occupied by the label margin.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRect</code></td>
<td class="Cell"><p class="ValueDesc">Rectangle representing the label margin.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.7"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aIsLabelMargin%28%29"></a>
<hr size="1" noshade>
<h3><code>IsLabelMargin()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsLabelMargin() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether a label margin has been set.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if a label margin has been set. False if not.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.8"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aIsGutterMargin%28%29"></a>
<hr size="1" noshade>
<h3><code>IsGutterMargin()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsGutterMargin() const;</code></p><h4 class="subheading">Description</h4>
<p>This function is identical to <code>IsLabelMargin()</code>.
</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if a label margin has been set, false if not.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.9"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aGutterMargin%28%29"></a>
<hr size="1" noshade>
<h3><code>GutterMargin()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TRect GutterMargin() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the area occupied by the gutter margin.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRect</code></td>
<td class="Cell"><p class="ValueDesc">Rectangle representing the gutter margin.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.10"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aTopLeftText%28%29"></a>
<hr size="1" noshade>
<h3><code>TopLeftText()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TPoint TopLeftText() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the window coordinates of the top left hand corner at which text may
be drawn. This point has the same vertical coordinate as the top of the text
area, but its horizontal coordinate is increased by the left text margin width
(<code>iTextStartX</code>). This point is the origin for layout
coordinates.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TPoint</code></td>
<td class="Cell"><p class="ValueDesc">The coordinates of the top left hand point at which text can be
drawn.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Converting coordinates</h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aWindowToText%28%29"></a>
<hr size="1" noshade>
<h3><code>WindowToText()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void WindowToText(TPoint&amp; aWinPos) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a point in window coordinates to layout coordinates. Window
coordinates have their origin at the top left corner of the view window. Layout
coordinates have their origin at the top left corner of the area within the
view rectangle in which text can appear, (this value is returned by
<code>TopLeftText()</code>).</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TPoint&amp; aWinPos</code></td>
<td class="Cell"><p class="ValueDesc">Point in window coordinates. On return, set to layout coordinates.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.3"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aWindowToText%28%29"></a>
<hr size="1" noshade>
<h3><code>WindowToText()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void WindowToText(TRect&amp; aRect) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a rectangle in window coordinates to layout coordinates. Window
coordinates have their origin at the top left corner of the view window. Layout
coordinates have their origin at the top left corner of the area within the
view rectangle in which text can appear, (this value is returned by
<code>TopLeftText()</code>).</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRect&amp; aRect</code></td>
<td class="Cell"><p class="ValueDesc">Rectangle in window coordinates. On return, set to layout
coordinates.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.4"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aTextToWindow%28%29"></a>
<hr size="1" noshade>
<h3><code>TextToWindow()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void TextToWindow(TPoint&amp; aTextAreaPos) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a point in layout coordinates to window
coordinates.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TPoint&amp; aTextAreaPos</code></td>
<td class="Cell"><p class="ValueDesc">A point in layout coordinates. On return, set to window
coordinates.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.5"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aTextToWindow%28%29"></a>
<hr size="1" noshade>
<h3><code>TextToWindow()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void TextToWindow(TRect&amp; aRect) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a rectangle in layout coordinates to window
coordinates.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRect&amp; aRect</code></td>
<td class="Cell"><p class="ValueDesc">Rectangle in layout coordinates. On return, set to window
coordinates.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Member data</h2>
</div><div class="Bodytext">
<a name="2.12.2"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aiViewRect"></a>
<hr size="1" noshade>
<h3><code>iViewRect</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TRect iViewRect</code></p><h4 class="subheading">Description</h4>
<p>The view rectangle (specified in window coordinates). This is used to set
the area in which text can be drawn. Text can only be drawn within the
intersection between the text area and the <code>aDrawRect</code> parameter
passed to <code>CTextLayout::DrawL()</code> or
<code>InvertRangeL()</code>.</p>
<a name="2.12.3"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aiLabelMarginWidth"></a>
<hr size="1" noshade>
<h3><code>iLabelMarginWidth</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt iLabelMarginWidth</code></p><h4 class="subheading">Description</h4>
<p>The label margin width. By default zero. Must have the same value as the
label margin width as set in the text layout object.</p>
<a name="2.12.4"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aiGutterMarginWidth"></a>
<hr size="1" noshade>
<h3><code>iGutterMarginWidth</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt iGutterMarginWidth</code></p><h4 class="subheading">Description</h4>
<p>The gutter margin width (also known as the line cursor margin width). By
default zero.</p>
<a name="2.12.5"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aiTextStartX"></a>
<hr size="1" noshade>
<h3><code>iTextStartX</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt iTextStartX</code></p><h4 class="subheading">Description</h4>
<p>The horizontal offset between window coordinates and text layout
coordinates.</p>
<a name="2.12.6"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aiBackgroundColor"></a>
<hr size="1" noshade>
<h3><code>iBackgroundColor</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TRgb iBackgroundColor</code></p><h4 class="subheading">Support</h4>
<p>Withdrawn in 6.0
</p><h4 class="subheading">Description</h4>
<p>The background colour for the view rectangle. The background colour is
used to fill the parts of the view rectangle in which text cannot appear, for
example, below the last line of the document and in the label, line cursor and
left text margins.</p>
<a name="2.12.7"></a></div><div class="Head3">
<a name="%3a%3aTDrawTextLayoutContext%3a%3aiBackgroundColor"></a>
<hr size="1" noshade>
<h3><code>iBackgroundColor</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TLogicalRgb iBackgroundColor</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>The background colour for the view rectangle. The background colour is
used to fill the parts of the view rectangle in which text cannot appear, for
example, below the last line of the document and in the label, line cursor and
left text margins.</p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
