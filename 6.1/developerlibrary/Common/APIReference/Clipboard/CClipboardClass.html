<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CClipboard</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="index.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="index.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Clipboard</a>&nbsp;<span class="separator">&#187;</span>
CClipboard</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> baclipb.h </code>
<br>Link against: <code> bafl.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aCClipboard"></a>

<h1>Class <code>CClipboard</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CClipboard</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Clipboard. A repository of copied data which is available for
pasting.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CClipboard</code></td><td class="Cell">Clipboard</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CClipboard</code>:
<br><code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aClear%28%29" title="Empties the clipboard">Clear()</a></code>, <code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aCommitL%28%29" title="Commits changes to the clipboard's store">CommitL()</a></code>, <code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aCopyToL%28%29" title="Copies a double-precision floating point value to the clipboard">CopyToL()</a></code>, <code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aNewForReadingL%28%29" title="Constructs a clipboard object and prepares the clipboard's store for reading">NewForReadingL()</a></code>, <code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aNewForReadingLC%28%29" title="Constructs a clipboard object and prepares the clipboard's store for reading, placing a pointer to the object on the cleanup stack">NewForReadingLC()</a></code>, <code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aNewForWritingLC%28%29" title="Constructs a clipboard object and prepares the clipboard's store for writing">NewForWritingLC()</a></code>, <code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aPasteFromL%28%29" title="Pastes a double-precision floating point value from the clipboard">PasteFromL()</a></code>, <code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aStore%28%29" title="Returns a reference to the clipboard's file store">Store()</a></code>, <code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aStreamDictionary%28%29" title="Returns a reference to the clipboard's stream dictionary">StreamDictionary()</a></code>, <code class="ApiItem"><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3a%7eCClipboard%28%29" title="Destructor">~CClipboard()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3aNewForWritingLC%28%29"></a>
<hr size="1" noshade>
<h3><code>NewForWritingLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CClipboard* NewForWritingLC(RFs&amp; aFs);</code></p><h4 class="subheading">Description</h4>
<p>Constructs a clipboard object and prepares the clipboard's
store for writing.</p>
<p>If the file associated with the clipboard's store does not
exist, it is created; if it already exists, any existing content is
discarded.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RFs&amp; aFs </code></td>
<td class="Cell"><p class="ValueDesc"> A handle to a file server session. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CClipboard* </code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to the newly constructed clipboard object. This
pointer is put onto the cleanup stack.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3aNewForReadingL%28%29"></a>
<hr size="1" noshade>
<h3><code>NewForReadingL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CClipboard* NewForReadingL(RFs&amp; aFs);</code></p><h4 class="subheading">Description</h4>
<p>Constructs a clipboard object and prepares the clipboard's store
for reading.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RFs&amp; aFs </code></td>
<td class="Cell"><p class="ValueDesc"> A handle to a file server session. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CClipboard* </code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to the newly constructed clipboard object. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function can leave with one of the system-wide error codes,
e.g. <code>KErrNoMemory</code> . If the file associated with the clipboard
store either does not exist or is corrupt or is in use, the functions do not
leave. In this event, <code>CClipboard</code> 's stream dictionary,
<code>CStreamDictionary</code> , is empty and a call to its <code>At()</code>
member function with any UID returns <code>KNullStreamId</code> . </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3aNewForReadingLC%28%29"></a>
<hr size="1" noshade>
<h3><code>NewForReadingLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CClipboard* NewForReadingLC(RFs&amp; aFs);</code></p><h4 class="subheading">Description</h4>
<p>Constructs a clipboard object and prepares the clipboard's store
for reading, placing a pointer to the object on the cleanup stack. This allows
the object and allocated resources to be cleaned up if a subsequent leave
occurs.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RFs&amp; aFs </code></td>
<td class="Cell"><p class="ValueDesc"> A handle to a file server session. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CClipboard* </code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to the newly constructed clipboard object. This pointer
is put onto the cleanup stack.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function can leave with one of the system-wide error codes,
e.g. <code>KErrNoMemory</code> . If the file associated with the clipboard
store either does not exist or is corrupt or is in use, the functions do not
leave. In this event, <code>CClipboard</code> 's stream dictionary,
<code>CStreamDictionary</code> , is empty and a call to its <code>At()</code>
member function with any UID returns <code>KNullStreamId</code> . </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3a%7eCClipboard%28%29"></a>
<hr size="1" noshade>
<h3><code>~CClipboard()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>~CClipboard();</code></p><h4 class="subheading">Description</h4>
<p>Destructor. Frees all resources owned by the object, prior to its
destruction. In particular, the file associated with the clipboard's store is
closed.</p>
<p>Note that if the clipboard file store has no root stream, i.e. the
<code>CommitL()</code> member function of <code>CClipboard</code> has not been
called prior to deleting the <code>CClipboard</code> object, then the file
associated with the clipboard file store is deleted.</p>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Using the clipboard</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3aClear%28%29"></a>
<hr size="1" noshade>
<h3><code>Clear()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TInt Clear(RFs&amp; aFs);</code></p><h4 class="subheading">Description</h4>
<p>Empties the clipboard.</p>
<p>Note that if the file associated with the clipboard's store does not
exist, this is not regarded as an error and the function completes
successfully.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RFs&amp; aFs </code></td>
<td class="Cell"><p class="ValueDesc"> A handle to a file server session. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3aCommitL%28%29"></a>
<hr size="1" noshade>
<h3><code>CommitL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void CommitL();</code></p><h4 class="subheading">Description</h4>
<p>Commits changes to the clipboard's store.</p>
<p>It externalises the stream dictionary to the clipboard store as the root
stream and then commits all changes to the store. This function must be called
after application data has been externalised; failure to do so results in the
deletion of the file associated with the clipboard store and the loss of
data.</p>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3aStore%28%29"></a>
<hr size="1" noshade>
<h3><code>Store()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CStreamStore&amp; Store() const;</code></p><h4 class="subheading">Description</h4>
<p>Returns a reference to the clipboard's file store.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CStreamStore&amp; </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to the clipboard's store. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3aStreamDictionary%28%29"></a>
<hr size="1" noshade>
<h3><code>StreamDictionary()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CStreamDictionary&amp; StreamDictionary() const;</code></p><h4 class="subheading">Description</h4>
<p>Returns a reference to the clipboard's stream dictionary.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CStreamDictionary&amp; </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to the clipboard's stream dictionary. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Special cases</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3aCopyToL%28%29"></a>
<hr size="1" noshade>
<h3><code>CopyToL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void CopyToL(TReal aReal);</code></p><h4 class="subheading">Description</h4>
<p>Copies a double-precision floating point value to the clipboard.</p>
<p>Note that the function does not automatically commit changes to the
clipboard's store. This must be done explicitly.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TReal aReal </code></td>
<td class="Cell"><p class="ValueDesc">The double-precision floating point value to be copied to the
clipboard.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CClipboardClass.html#%3a%3aCClipboard%3a%3aCommitL%28%29" title="Commits changes to the clipboard's store"><code class="ApiItem">CommitL()</code></a></li>
</ul>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCClipboard%3a%3aPasteFromL%28%29"></a>
<hr size="1" noshade>
<h3><code>PasteFromL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool PasteFromL(TReal&amp; aReal);</code></p><h4 class="subheading">Description</h4>
<p>Pastes a double-precision floating point value from the clipboard.</p>
<p>If a double-precision floating point value exists on the clipboard, then
the function restores it to the referenced argument and returns a true
value.</p>
<p>If there is no double-precision floating point value on the clipboard,
then the function returns a false value. The referenced argument is not
changed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TReal&amp; aReal </code></td>
<td class="Cell"><p class="ValueDesc"> On return, contains the double-precision floating point value found on
the clipboard.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc"> True, if a double-precision floating point value exists on the clipboard
and has been pasted to the referenced argument; false otherwise. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
