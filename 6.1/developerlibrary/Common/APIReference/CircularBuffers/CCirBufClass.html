<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CCirBuf</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CCirBufBaseClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CCirBufferClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Circular&nbsp;Buffers</a>&nbsp;<span class="separator">&#187;</span>
CCirBuf</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> e32base.h </code>
<br>Link against: <code> euser.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aCCirBuf"></a>

<h1>Class <code>CCirBuf</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>class CCirBuf&lt;class T&gt; : public CCirBufBase;</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>A circular buffer containing objects of a type defined by the
template parameter.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CCirBuf</code></td><td class="Cell">A circular buffer containing objects of a type defined by the template parameter</td>
</tr>
<tr><td class="Cell"><code><a href="CCirBufBaseClass.html#%3a%3aCCirBufBase">CCirBufBase</a></code></td><td class="Cell">Base class for circular buffers</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CCirBuf</code>:
<br><code class="ApiItem"><a href="CCirBufClass.html#%3a%3aCCirBuf%3a%3aAdd%28%29" title="Adds multiple objects to the circular buffer">Add()</a></code>, <code class="ApiItem"><a href="CCirBufClass.html#%3a%3aCCirBuf%3a%3aCCirBuf%28%29" title="Default C++ constructor">CCirBuf()</a></code>, <code class="ApiItem"><a href="CCirBufClass.html#%3a%3aCCirBuf%3a%3aRemove%28%29" title="Removes multiple objects from the circular buffer">Remove()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="CCirBufBaseClass.html#%3a%3aCCirBufBase" title="Base class for circular buffers">CCirBufBase</a></code>:
<br><code class="ApiItem"><a href="CCirBufBaseClass.html#%3a%3aCCirBufBase%3a%3aCount%28%29" title="Gets the current number of objects in this circular buffer">Count()</a></code>,
<code class="ApiItem"><a href="CCirBufBaseClass.html#%3a%3aCCirBufBase%3a%3aLength%28%29" title="Gets the maximum capacity of this circular buffer">Length()</a></code>,
<code class="ApiItem"><a href="CCirBufBaseClass.html#%3a%3aCCirBufBase%3a%3aReset%28%29" title="Empties the buffer">Reset()</a></code>,
<code class="ApiItem"><a href="CCirBufBaseClass.html#%3a%3aCCirBufBase%3a%3aSetLengthL%28%29" title="Sets the maximum capacity of this circular buffer">SetLengthL()</a></code></p>
<a name="circularbuffers%2eCCirBufTemplateTclass%2econstruct"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction</h2>
</div><div class="Bodytext">
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aCCirBuf%3a%3aCCirBuf%28%29"></a>
<hr size="1" noshade>
<h3><code>CCirBuf()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CCirBuf();</code></p><h4 class="subheading">Description</h4>
<p>Default C++ constructor.</p>
<p>The size of each object in the buffer is fixed and is the
length of the class passed as the template parameter. The length of the
template class must be non-zero otherwise the constructor raises an
E32USER-CBase 72 panic.</p>
<a name="circularbuffers%2eCCirBufTemplateTclass%2eadding"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Adding objects to the circular buffer</h2>
</div><div class="Bodytext">
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCCirBuf%3a%3aAdd%28%29"></a>
<hr size="1" noshade>
<h3><code>Add()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Add(const T* aPtr);</code></p><h4 class="subheading">Description</h4>
<p>Adds a single object to the circular buffer. The object is of
type class <code>T</code> and is only added if there is space available.</p>
<p>Notes:</p>
<p>A call to <code>CCirBufBase::SetLengthL()</code> must already
have been made before calling this function, otherwise an E32USER-CBase 74
panic is raised.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const T* aPtr </code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to the object of type class <code>T</code> to be
added to the circular buffer </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> 1 if the object is successfully added. 0 if the object cannot
be added because the circular buffer is full. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aCCirBuf%3a%3aAdd%28%29"></a>
<hr size="1" noshade>
<h3><code>Add()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Add(const T* aPtr,TInt aCount);</code></p><h4 class="subheading">Description</h4>
<p>Adds multiple objects to the circular buffer. The function
attempts to add <code>aCount</code> objects of type class <code>T</code>. The
objects are only added if there is space available.</p>
<p>Note:</p>
<p>A call to <code>CCirBufBase::SetLengthL()</code> must already
have been made before calling <code>Add()</code>, otherwise an E32USER-CBase 74
panic is raised</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const T* aPtr </code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to a set of contiguous objects of type class
<code>T</code> to be added to the circular buffer. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aCount </code></td>
<td class="Cell"><p class="ValueDesc"> The number of objects to be added to the circular buffer. This
must be a positive value otherwise the function raises a E32USER-CBase 75
panic. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> The number of objects successfully added to the buffer. This
value may be less than the number requested and can range from 0 to
<code>aCount</code>. </p></td>
</tr>
</table></td></tr></table>
<a name="circularbuffers%2eCCirBufTemplateTclass%2eremoving"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Removing objects from the circular buffer</h2>
</div><div class="Bodytext">
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCCirBuf%3a%3aRemove%28%29"></a>
<hr size="1" noshade>
<h3><code>Remove()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Remove(T* aPtr);</code></p><h4 class="subheading">Description</h4>
<p>Removes a single object from the circular buffer. The object is of
type class <code>T</code> and can only be removed if there are objects in the
buffer.</p>
<p>A binary copy of the object is made to <code>aPtr</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> T* aPtr </code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to an object of type class <code>T</code> supplied by
the caller. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> 1 if an object is successfully removed. 0 if an object cannot be
removed because the circular buffer is empty. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aCCirBuf%3a%3aRemove%28%29"></a>
<hr size="1" noshade>
<h3><code>Remove()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Remove(T* aPtr,TInt aCount);</code></p><h4 class="subheading">Description</h4>
<p>Removes multiple objects from the circular buffer. The function
attempts to remove <code>aCount</code> objects of type class <code>T</code>.
Objects can only be removed if there are objects in the buffer</p>
<p>A binary copy of the objects is made to <code>aPtr</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> T* aPtr </code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to contiguous memory able to hold <code>aCount</code>
class <code>T</code> objects, supplied by the caller. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aCount </code></td>
<td class="Cell"><p class="ValueDesc"> The number of objects to be removed from the circular buffer. This
must be a positive value otherwise an E32USER-CBase 76 panic is raised. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> The number of objects successfully removed from the buffer. This
value may be less than the number requested and can range from 0 to
<code>aCount</code>. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
