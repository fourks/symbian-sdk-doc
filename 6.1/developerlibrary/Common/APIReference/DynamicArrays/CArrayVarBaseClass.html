<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CArrayVarBase</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CArrayPtrSegClass.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CArrayVarClass.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Dynamic&nbsp;Arrays</a>&nbsp;<span class="separator">&#187;</span>
CArrayVarBase</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> e32base.h </code>
<br>Link against: <code> euser.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aCArrayVarBase"></a>

<h1>Class <code>CArrayVarBase</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CArrayVarBase</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>An implementation base class for variable length arrays. It
provides implementation and public functions which are common to all variable
length type arrays.</p>
<p>The class is always derived from and is never instantiated
explicitly.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code>CArrayVarBase</code></td><td class="Cell">An implementation base class for variable length arrays</td>
</tr>
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CArrayVarBase</code>:
<br><code class="ApiItem"><a href="CArrayVarBaseClass.html#%3a%3aCArrayVarBase%3a%3aCompress%28%29" title="Removes excess space from the array buffer">Compress()</a></code>, <code class="ApiItem"><a href="CArrayVarBaseClass.html#%3a%3aCArrayVarBase%3a%3aCount%28%29" title="Returns the number of elements held in the array">Count()</a></code>, <code class="ApiItem"><a href="CArrayVarBaseClass.html#%3a%3aCArrayVarBase%3a%3aDelete%28%29" title="Removes one or more contiguous elements from the array, starting at a specific position">Delete()</a></code>, <code class="ApiItem"><a href="CArrayVarBaseClass.html#%3a%3aCArrayVarBase%3a%3aLength%28%29" title="Returns the length of a specific element">Length()</a></code>, <code class="ApiItem"><a href="CArrayVarBaseClass.html#%3a%3aCArrayVarBase%3a%3aReset%28%29" title="Deletes all elements from the array and frees the memory allocated to the array buffer">Reset()</a></code>, <code class="ApiItem"><a href="CArrayVarBaseClass.html#%3a%3aCArrayVarBase%3a%3aSort%28%29" title="Sorts the elements of the array into key sequence">Sort()</a></code>, <code class="ApiItem"><a href="CArrayVarBaseClass.html#%3a%3aCArrayVarBase%3a%3a%7eCArrayVarBase%28%29" title="Frees all resources owned by the object, prior to its destruction">~CArrayVarBase()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aCArrayVarBase%3a%3a%7eCArrayVarBase%28%29"></a>
<hr size="1" noshade>
<h3><code>~CArrayVarBase()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>~CArrayVarBase();</code></p><h4 class="subheading">Description</h4>
<p>Frees all resources owned by the object, prior to its
destruction.</p>
<a name="dynamicarrays%2eCArrayVarBase%2ebasic%2dinformation"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Basic information</h2>
</div><div class="Bodytext">
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCArrayVarBase%3a%3aCount%28%29"></a>
<hr size="1" noshade>
<h3><code>Count()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Count() const;</code></p><h4 class="subheading">Description</h4>
<p>Returns the number of elements held in the array.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> The number of array elements </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aCArrayVarBase%3a%3aLength%28%29"></a>
<hr size="1" noshade>
<h3><code>Length()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Length(TInt anIndex) const;</code></p><h4 class="subheading">Description</h4>
<p>Returns the length of a specific element.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt anIndex </code></td>
<td class="Cell"><p class="ValueDesc"> The position of the element within the array. The position is
relative to zero, (i.e. the first element in the array is at position 0). This
value must not be negative and must not be greater than the number of elements
currently in the array, otherwise the function raises an E32USER-CBase 21
panic. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> The length of the element at position <code>anIndex</code>.
</p></td>
</tr>
</table></td></tr></table>
<a name="dynamicarrays%2eCArrayVarBase%2earray%2dhousekeeping"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Array housekeeping</h2>
</div><div class="Bodytext">
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCArrayVarBase%3a%3aReset%28%29"></a>
<hr size="1" noshade>
<h3><code>Reset()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Reset();</code></p><h4 class="subheading">Description</h4>
<p>Deletes all elements from the array and frees the memory allocated
to the array buffer.</p>
<p>As each element of a variable array is contained within its own
heap cell, this function has the effect of freeing all such cells.</p>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aCArrayVarBase%3a%3aCompress%28%29"></a>
<hr size="1" noshade>
<h3><code>Compress()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Compress();</code></p><h4 class="subheading">Description</h4>
<p>Removes excess space from the array buffer. The effect is to reduce
the memory allocated to the array buffer so that it is just sufficient to
represent the array. This applies to both flat and segmented array
buffers.</p>
<p>If the array is empty, then the memory allocated to the array buffer
is freed.</p>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aCArrayVarBase%3a%3aSort%28%29"></a>
<hr size="1" noshade>
<h3><code>Sort()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Sort(TKeyArrayVar &amp;aKey);</code></p><h4 class="subheading">Description</h4>
<p>Sorts the elements of the array into key sequence.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TKeyArrayVar&amp; aKey </code></td>
<td class="Cell"><p class="ValueDesc"> The key object defining the properties of the key. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code>, if the sort completes successfully
<code>KErrGeneral</code>, if the stack overflows </p></td>
</tr>
</table></td></tr></table>
<a name="dynamicarrays%2eCArrayVarBase%2edelete"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Delete elements</h2>
</div><div class="Bodytext">
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aCArrayVarBase%3a%3aDelete%28%29"></a>
<hr size="1" noshade>
<h3><code>Delete()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Delete(TInt anIndex);<br>void Delete(TInt anIndexPos,TInt aCount);</code></p><h4 class="subheading">Description</h4>
<p>Removes one or more contiguous elements from the array, starting at a
specific position.</p>
<p>Deleting elements from the array does not cause the array buffer to be
automatically compressed. Call <code>CArrayVarBase::Compress()</code> to return
excess space to the heap.</p>
<p>Notes</p>
<p>The sum of <code>anIndex</code> and <code>aCount</code> must not be
greater than the number of elements currently in the array, otherwise the
functions raise an E32USER-CBase 29 panic.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt anIndex </code></td>
<td class="Cell"><p class="ValueDesc"> The position within the array from where deletion of elements is to
start. The position is relative to zero, i.e. zero implies that elements,
starting with the first, are deleted from the array. This value must not be
negative and must not be greater than the number of elements currently in the
array, otherwise the function raises an E32USER-CBase 21 panic. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aCount </code></td>
<td class="Cell"><p class="ValueDesc"> If specified, the number of elements to be deleted from the array. If
this argument is not specified, a value of one is assumed. If specified, the
value must not be negative otherwise the function raises an E32USER-CBase 25
panic. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
