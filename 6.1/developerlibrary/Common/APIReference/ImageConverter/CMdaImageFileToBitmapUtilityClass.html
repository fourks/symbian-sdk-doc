<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CMdaImageFileToBitmapUtility</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CMdaImageDescToBitmapUtilityClass.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CMdaImageUtilityClass.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Image&nbsp;Converter</a>&nbsp;<span class="separator">&#187;</span>
CMdaImageFileToBitmapUtility</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> MdaImageConverter.h </code>
<br>Link against: <code> MediaClientImage.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aCMdaImageFileToBitmapUtility"></a>

<h1>Class <code>CMdaImageFileToBitmapUtility</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CMdaImageFileToBitmapUtility</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Implements format conversion of a file based image to a
bitmap.</p>
<p>The class provides functions to create an instance of this
conversion utility and to open an existing image file.</p>
<p>Conversion is performed using the image conversion utility
interface.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive">CActive</a></code></td><td class="Cell">The core class of the active object abstraction</td>
</tr>
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code><a href="CMdaImageDataReadUtilityClass.html#%3a%3aCMdaImageDataReadUtility">CMdaImageDataReadUtility</a></code></td><td class="Cell">Base class used in the derivation of CMdaImageDescToBitmapUtility and CMdaImageFileToBitmapUtility</td>
</tr>
<tr><td class="Cell"><code>CMdaImageFileToBitmapUtility</code></td><td class="Cell">Implements format conversion of a file based image to a bitmap</td>
</tr>
<tr><td class="Cell"><code><a href="CMdaImageUtilityClass.html#%3a%3aCMdaImageUtility">CMdaImageUtility</a></code></td><td class="Cell">The abstract base class for the image conversion utilities</td>
</tr>
<tr><td class="Cell"><code><a href="CMdaResourceClass.html#%3a%3aCMdaResource">CMdaResource</a></code></td><td class="Cell">Base class used in the derivation of CMdaImageUtility</td>
</tr>
<tr><td class="Cell"><code><a href="../AudioSampleEditor/MMdaObjectStateChangeObserverClass.html#%3a%3aMMdaObjectStateChangeObserver">MMdaObjectStateChangeObserver</a></code></td><td class="Cell">An interface class for handling the change of state of an audio data sample object</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CMdaImageFileToBitmapUtility</code>:
<br><code class="ApiItem"><a href="CMdaImageFileToBitmapUtilityClass.html#%3a%3aCMdaImageFileToBitmapUtility%3a%3aNewL%28%29" title="Constructs a new instance of the file based image to bitmap conversion utility object">NewL()</a></code>, <code class="ApiItem"><a href="CMdaImageFileToBitmapUtilityClass.html#%3a%3aCMdaImageFileToBitmapUtility%3a%3aOpenL%28%29" title="Opens the existing file based image">OpenL()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive" title="The core class of the active object abstraction">CActive</a></code>:
<br><code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aCancel%28%29" title="Cancels the wait for completion of an outstanding request">Cancel()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aDeque%28%29" title="Removes the active object from the active scheduler's list of active objects">Deque()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aDoCancel%28%29" title="Implements cancellation of an outstanding request">DoCancel()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityHigh" title="A priority higher than EPriorityUserInput">EPriorityHigh</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityIdle" title="A low priority, useful for active objects representing background processing">EPriorityIdle</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityLow" title="A priority higher than EPriorityIdle but lower thanEPriorityStandard">EPriorityLow</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityStandard" title="Most active objects will have this priority">EPriorityStandard</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityUserInput" title="A priority higher than EPriorityStandard; useful for active objects handling user input">EPriorityUserInput</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aIsActive%28%29" title="Determines whether the active object has a request outstanding">IsActive()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aIsAdded%28%29" title="Determines whether the active object has been added to the active scheduler's list of active objects">IsAdded()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aPriority%28%29" title="Returns the priority of the active object">Priority()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aRunError%28%29" title="Handles a leave occurring in the request completion event handlerRunL()">RunError()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aRunL%28%29" title="Handles an active object's request completion event">RunL()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aSetActive%28%29" title="Indicates that the active object has issued a request and that it is now outstanding">SetActive()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aSetPriority%28%29" title="Sets the priority of the active object">SetPriority()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aTPriority" title="Defines standard priorities for active objects">TPriority</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aiStatus" title="The request status associated with an asynchronous request">iStatus</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="CMdaImageUtilityClass.html#%3a%3aCMdaImageUtility" title="The abstract base class for the image conversion utilities">CMdaImageUtility</a></code>:
<br><code class="ApiItem"><a href="CMdaImageUtilityClass.html#%3a%3aCMdaImageUtility%3a%3aCancelConvertL%28%29" title="Cancels the conversion operation">CancelConvertL()</a></code>,
<code class="ApiItem"><a href="CMdaImageUtilityClass.html#%3a%3aCMdaImageUtility%3a%3aClose%28%29" title="Closes the open file-based or descriptor-based image">Close()</a></code>,
<code class="ApiItem"><a href="CMdaImageUtilityClass.html#%3a%3aCMdaImageUtility%3a%3aConvertL%28%29" title="Begins the image conversion operation for the specified frame -- overloaded function">ConvertL()</a></code>,
<code class="ApiItem"><a href="CMdaImageUtilityClass.html#%3a%3aCMdaImageUtility%3a%3aFrameCount%28%29" title="Returns the number of frames, counting from the first frame in the image, to the next frame to be decoded">FrameCount()</a></code>,
<code class="ApiItem"><a href="CMdaImageUtilityClass.html#%3a%3aCMdaImageUtility%3a%3aFrameInfo%28%29" title="Retrieves information about the specified frame">FrameInfo()</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="../AudioSampleEditor/MMdaObjectStateChangeObserverClass.html#%3a%3aMMdaObjectStateChangeObserver" title="An interface class for handling the change of state of an audio data sample object">MMdaObjectStateChangeObserver</a></code>:
<br><code class="ApiItem"><a href="../AudioSampleEditor/MMdaObjectStateChangeObserverClass.html#%3a%3aMMdaObjectStateChangeObserver%3a%3aMoscoStateChangeEvent%28%29" title="Defines required client behaviour when the observed audio data sample object changes state">MoscoStateChangeEvent()</a></code></p>
<a name="imageconverter%2eCMdaImageFileToBitmapUtility%2econstruction"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction</h2>
</div><div class="Bodytext">
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aCMdaImageFileToBitmapUtility%3a%3aNewL%28%29"></a>
<hr size="1" noshade>
<h3><code>NewL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CMdaImageFileToBitmapUtility* NewL(MMdaImageUtilObserver&amp; aObserver,CMdaServer* aServer = NULL);</code></p><h4 class="subheading">Description</h4>
<p>Constructs a new instance of the file based image to bitmap
conversion utility object.</p>
<p>The function leaves if this object cannot be created.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> MMdaImageUtilObserver&amp; aObserver </code></td>
<td class="Cell"><p class="ValueDesc"> The image utility observer interface </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> CMdaServer* aServer = NULL </code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to a server object. The default is NULL which
means that one is automatically constructed and owned by this conversion
utility object. If not NULL, the client must construct, and be responsible for,
the server object. This option may be more efficient if a number of conversion
utility objects are to be created. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CMdaImageFileToBitmapUtility* </code></td>
<td class="Cell"><p class="ValueDesc"> Pointer to the new instance of the file based image to
bitmap conversion utility. </p></td>
</tr>
</table></td></tr></table>
<a name="imageconverter%2eCMdaImageFileToBitmapUtility%2eopening"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Opening</h2>
</div><div class="Bodytext">
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCMdaImageFileToBitmapUtility%3a%3aOpenL%28%29"></a>
<hr size="1" noshade>
<h3><code>OpenL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void OpenL(const TDesC&amp; aFileName,TMdaClipFormat* aFormat = NULL,TMdaPackage* aCodec = NULL,TMdaPackage* aExtra = NULL);</code></p><h4 class="subheading">Description</h4>
<p>Opens the existing file based image.</p>
<p>The function is asynchronous. When the operation is complete,
successfully or otherwise, the callback function
<code>MMdaImageUtilObserver::MiuoOpenComplete()</code> is called.</p>
<p>Open must complete successfully before starting any conversion
operation. The function can complete with <code>KErrUnderflow</code>, if there
is insufficient information in the file. Typically, this occurs when using the
file as a cache. In this situation, open should be performed repeatedly until
the file has accumulated enough information for the operation to complete with
<code>KErrNone</code>.</p>
<p>Notes</p>
<p>The optional parameters can be used to force the Media Server
to interpret the file as being of a specific type. This is necessary for
formats such as WAP wireless bitmap where the supplied file does not contain a
uniquely recognisable signature.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aFileName </code></td>
<td class="Cell"><p class="ValueDesc"> The full path name of the file. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TMdaClipFormat* aFormat = NULL </code></td>
<td class="Cell"><p class="ValueDesc"> The data format. This is optional. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TMdaPackage* aCodec = NULL </code></td>
<td class="Cell"><p class="ValueDesc"> The codec to use. This is optional. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TMdaPackage* aExtra = NULL </code></td>
<td class="Cell"><p class="ValueDesc"> Additional information which the Media Server may need to
recognise the data format. This is optional. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
