<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>RThread</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="RProcessClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="TCommandTypedef.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Threads&nbsp;and&nbsp;Processes</a>&nbsp;<span class="separator">&#187;</span>
RThread</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>e32std.h</code>
<br>Link against: <code>euser.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aRThread"></a>

<h1>Class <code>RThread</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>RThread</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>A handle to a thread.</p>
<p>The thread itself is a Kernel object.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase">RHandleBase</a></code></td><td class="Cell">Handle to an object</td>
</tr>
<tr><td class="Cell"><code>RThread</code></td><td class="Cell">A handle to a thread</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>RThread</code>:
<br><code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aContext%28%29" title="Gets the register contents of this (sleeping) thread">Context()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aCreate%28%29" title="Creates a thread where the thread function belongs to a DLL, and opens this handle to that thread">Create()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aExceptionHandler%28%29" title="Gets a pointer to this thread's exception handler">ExceptionHandler()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aExitCategory%28%29" title="Gets the name of the category associated with the end of the thread">ExitCategory()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aExitReason%28%29" title="Gets the specific reason associated with the end of this thread">ExitReason()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aExitType%28%29" title="Has the thread ended and, if it has ended, return how it ended">ExitType()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aGetCpuTime%28%29" title="Gets the CPU usage for this thread">GetCpuTime()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aGetDesLength%28%29" title="Gets the length of a specified descriptor within the address space in which the thread represented by this handle runs">GetDesLength()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aGetDesMaxLength%28%29" title="Gets the maximum length of a specified modifiable descriptor within the address space in which the thread represented by this thread handle runs">GetDesMaxLength()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aGetRamSizes%28%29" title="Gets the size of the heap and the stack for this thread">GetRamSizes()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aHandleCount%28%29" title="Gets the number of handles open in this thread and the number of handles open in the process which owns this thread">HandleCount()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aHeap%28%29" title="Gets a pointer to the handle to this thread's heap">Heap()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aId%28%29" title="Gets the Id of this thread">Id()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aIsExceptionHandled%28%29" title="Tests whether a specified exception type can be handled by this thread">IsExceptionHandled()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aKill%28%29" title="Ends this thread specifying a reason code">Kill()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aLogon%28%29" title="Requests notification when this thread dies, normally or otherwise">Logon()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aLogonCancel%28%29" title="Cancels an outstanding request for notification of the death of this thread">LogonCancel()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aModifyExceptionMask%28%29" title="Changes the set of exceptions which this thread's exception handler can deal with">ModifyExceptionMask()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aOpen%28%29" title="Opens a handle to the thread with a specific thread Id">Open()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aPanic%28%29" title="Panics this thread, specifying the panic category name and reason">Panic()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aPriority%28%29" title="Gets the priority of this thread">Priority()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aProcess%28%29" title="Opens a process-relative handle to the process which owns this thread">Process()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aProcessPriority%28%29" title="Gets the priority of the process which owns this thread">ProcessPriority()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aProtected%28%29" title="Tests whether this thread is protected">Protected()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aRThread%28%29" title="Constructs this object">RThread()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aRaiseException%28%29" title="Raises an exception of a specified type on this thread">RaiseException()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aReadL%28%29" title="Copies data from a specified descriptor -- within the address space in which the thread represented by this RThread handle runs -- to a specified descriptor in the current thread">ReadL()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aRename%28%29" title="Assigns a new name to this thread, replacing any existing name which may have been set by Create() or by an earlier call to Rename()">Rename()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aRequestComplete%28%29" title="Signals to this thread that an asynchronous request originating from this thread, is complete">RequestComplete()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aRequestCount%28%29" title="Gets this thread's request semaphore count">RequestCount()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aResume%28%29" title="Makes the thread eligible for execution">Resume()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetExceptionHandler%28%29" title="Sets the thread's current exception handler">SetExceptionHandler()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetInitialParameter%28%29" title="Sets the initial parameter for this thread's thread-function">SetInitialParameter()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetPriority%28%29" title="Sets the priority of the thread to one of the values defined by the TThreadPriority enumeration">SetPriority()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetProcessPriority%28%29" title="Sets the priority of the process which owns this thread to one of the values defined by the TProcessPriority enumeration">SetProcessPriority()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetProtected%28%29" title="Sets the thread into a protected state">SetProtected()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aSuspend%28%29" title="Suspends execution of this thread">Suspend()</a></code>, <code class="ApiItem"><a href="RThreadClass.html#%3a%3aRThread%3a%3aWriteL%28%29" title="Copies data to a specified modifiable descriptor -- within the address space in which the thread represented by this RThread handle runs -- from a specified descriptor in the current thread">WriteL()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase" title="Handle to an object">RHandleBase</a></code>:
<br><code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aClose%28%29" title="Closes the handle">Close()</a></code>,
<code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aDuplicate%28%29" title="Creates a valid handle to the Kernel object to which the specified thread already has a handle">Duplicate()</a></code>,
<code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aHandle%28%29" title="Retrieves the handle-number of the object associated with this handle">Handle()</a></code>,
<code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aSetHandle%28%29" title="Use this function to set the handle-number of this handle to the specified value">SetHandle()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aRThread%28%29"></a>
<hr size="1" noshade>
<h3><code>RThread()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>RThread();</code></p><h4 class="subheading">Description</h4>
<p>Constructs this object.</p>
<p>The constructor exists to initialise private data within this
handle; it does not create the thread object.</p>
<p>Specifically, it sets the handle-number to the value
<code>KCurrentThreadHandle</code>, defined in e32std.h. In effect, construction
of <code>RThread</code> creates a default thread handle.</p>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Create a new thread</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aCreate%28%29"></a>
<hr size="1" noshade>
<h3><code>Create()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Create(const TDesC&amp; aName,TThreadFunction aFunction,TInt aStackSize,TInt aHeapMinSize,TInt aHeapMaxSize,TAny *aPtr,TOwnerType aType=EOwnerProcess);</code></p><h4 class="subheading">Description</h4>
<p>Creates a thread belonging to the current process and opens
this handle to that thread.</p>
<p>A new heap is created for this thread.</p>
<p>By default, ownership of this thread handle is vested in the
current process, but can be vested in the current thread by passing
<code>EOwnerThread</code> as the second parameter to this function.</p>
<p>Note:</p>
<p>A pointer to data can be passed to the thread function after
the thread has been created by calling the
<code>RThread::SetInitialParameter()</code> function.</p>
<p>The heap for this new thread shares the chunk with the program
stack and has type <code>EChunkStack</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">The name to be assigned to this thread</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TThreadFunction
aFunction</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a function.. Control passes to this function when
the thread is first resumed, i.e. when the thread is initially scheduled to
run.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aStackSize</code></td>
<td class="Cell"><p class="ValueDesc">The size of the new thread's stack; this must not be negative,
otherwise the function raises a USER 109 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to data to be passed as a parameter to the thread
function when the thread is initially scheduled to run. If the thread function
does not need any data then this pointer can be <code>NULL</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aHeapMinSize</code></td>
<td class="Cell"><p class="ValueDesc">The minimum size for the new thread's heap; this value must be
greater than or equal to <code>KMinHeapSize</code>, defined in e32std.h,
otherwise the function raises a USER 110 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aHeapMaxSize</code></td>
<td class="Cell"><p class="ValueDesc">The maximum size for the new thread's heap; this value must be
greater than or equal to <code>aHeapMinSize</code>, otherwise the function
raises a USER 111 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TOwnerType
aType</code></td>
<td class="Cell"><p class="ValueDesc">An enumeration whose enumerators define the ownership of this
thread handle. If not explicitly specified, <code>EOwnerProcess</code> is taken
as default.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetInitialParameter%28%29" title="Sets the initial parameter for this thread's thread-function"><code class="ApiItem">RThread::SetInitialParameter()</code></a></li>
</ul>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aCreate%28%29"></a>
<hr size="1" noshade>
<h3><code>Create()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Create(const TDesC&amp; aName,TThreadFunction aFunction,TInt aStackSize,RHeap* aHeap,TAny* aPtr,TOwnerType aType=EOwnerProcess);</code></p><h4 class="subheading">Description</h4>
<p>Creates a thread belonging to the current process and to open
this handle to that thread.</p>
<p>This thread uses the heap whose handle, an <code>RHeap</code>
object, is pointed to by <code>aHeap</code>. If this is <code>NULL</code>, then
the thread uses the heap of the creating thread.</p>
<p>By default, ownership of this thread handle is vested in the
current process, but can be vested in the current thread by passing
<code>EOwnerThread</code> as the second parameter to this function.</p>
<p>Note that a pointer to data can be passed to the thread
function after the thread has been created by calling the
<code>RThread::SetInitialParameter()</code> function.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">The name to be assigned to this thread</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TThreadFunction
aFunction</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a function. Control passes to this function when
the thread is first resumed, i.e. when the thread is initially scheduled to
run</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aStackSize</code></td>
<td class="Cell"><p class="ValueDesc">The size of the new thread's stack; this must not be negative,
otherwise the function raises a USER 109 panic</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RHeap* aHeap</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the handle of the heap belonging to another thread
which this thread is to use.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to data to be passed as a parameter to the thread
function when the thread is initially scheduled to run. If the thread function
does not need any data then this pointer can be <code>NULL</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TOwnerType
aType</code></td>
<td class="Cell"><p class="ValueDesc">An enumeration whose enumerators define the ownership of this
thread handle. If not explicitly specified, <code>EOwnerProcess</code> is taken
as default</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetInitialParameter%28%29" title="Sets the initial parameter for this thread's thread-function"><code class="ApiItem">RThread::SetInitialParameter()</code></a></li>
</ul>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aCreate%28%29"></a>
<hr size="1" noshade>
<h3><code>Create()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Create(const RProcess&amp; aProcess,const TDesC&amp; aName,TThreadFunction aFunction,TInt aStackSize,TInt aHeapMinSize,TInt aHeapMaxSize,TAny* aPtr,TOwnerType aType=EOwnerProcess);</code></p><h4 class="subheading">Support</h4>
<p>Withdrawn in 6.0
</p><h4 class="subheading">Description</h4>
<p>Creates a thread belonging to the process identified by a
process handle, and opens this handle to that thread.</p>
<p>A new heap is created for this thread.</p>
<p>By default, ownership of this thread handle is vested in the
current process, but can be vested in the current thread by passing
<code>EOwnerThread</code> as the second parameter to this function.</p>
<p>Note that a pointer to data can be passed to the thread
function after the thread has been created by calling the
<code>RThread::SetInitialParameter()</code> function.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RProcess* aProcess</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the handle of the process in which the new
thread belongs.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">The name to be assigned to this thread.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TThreadFunction
aFunction</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a function. Control passes to this function when
the thread is first resumed, i.e. when the thread is initially scheduled to
run.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aStackSize</code></td>
<td class="Cell"><p class="ValueDesc">The size of the new thread's stack; this must not be negative,
otherwise the function raises a USER 109 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aHeapMinSize</code></td>
<td class="Cell"><p class="ValueDesc">The minimum size for the new thread's heap; this value must be
greater than or equal to <code>KMinHeapSize</code>, defined in e32std.h,
otherwise the function raises a USER 110 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aHeapMaxSize</code></td>
<td class="Cell"><p class="ValueDesc">The maximum size for the new thread's heap; this value must be
greater than or equal to <code>aHeapMinSize</code>, otherwise the function
raises a USER 111 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to data to be passed as a parameter to the thread
function when the thread is initially scheduled to run. If the thread function
does not need any data then this pointer can be <code>NULL</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TOwnerType
aType</code></td>
<td class="Cell"><p class="ValueDesc">An enumeration whose enumerators define the ownership of this
thread handle. If not explicitly specified, <code>EOwnerProcess</code> is taken
as default.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetInitialParameter%28%29" title="Sets the initial parameter for this thread's thread-function"><code class="ApiItem">RThread::SetInitialParameter()</code></a></li>
</ul>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aCreate%28%29"></a>
<hr size="1" noshade>
<h3><code>Create()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Create(const TDesC&amp; aName,TThreadFunction aFunction,TInt aStackSize,TAny* aPtr,RLibrary* aLibrary,RProcess* aProcess,RHeap* aHeap, TInt aHeapMinSize,TInt aHeapMaxSize,TOwnerType aType);</code></p><h4 class="subheading">Support</h4>
<p>Withdrawn in 6.0
</p><h4 class="subheading">Description</h4>
<p>Creates a thread where the thread function belongs to a DLL,
and opens this handle to that thread.</p>
<p>This thread belongs to the process identified by the handle
<code>aProcess</code>, if <code>aProcess</code> is not <code>NULL</code>,
otherwise the thread belongs to the current process.</p>
<p>If the handle <code>aHeap</code> is <code>NULL</code>, a new
heap is created for this thread, otherwise this thread uses the heap associated
with that handle.</p>
<p>By default, ownership of this thread handle is vested in the
current process, but can be vested in the current thread by passing
<code>EOwnerThread</code> as the second parameter to this function.</p>
<p>Note that a pointer to data can be passed to the thread
function after the thread has been created by calling the
<code>RThread::SetInitialParameter()</code> function.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">The name to be assigned to this thread.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TThreadFunction
aFunction</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a function. Control passes to this function when
the thread is first resumed, i.e. when the thread is initially scheduled to
run</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aStackSize</code></td>
<td class="Cell"><p class="ValueDesc">The size of the new thread's stack; this must not be negative,
otherwise the function raises a USER 109 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to data to be passed as a parameter to the thread
function when the thread is initially scheduled to run. If the thread function
does not need any data then this pointer can be <code>NULL</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RLibrary* aLibrary</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a handle to a library (DLL) in which the thread
function, <code>aFunction</code>, resides. The function accepts a NULL
pointer.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RProcess* aProcess</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the handle of the process in which the new
thread belongs. If <code>NULL</code>, the new thread belongs to the current
process.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RHeap* aHeap</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the handle of an existing heap which the new
thread is to use. The heap must also be of type
<code>RHeap::EChunkNormal</code> or <code>RHeap::EChunkStack</code>, otherwise
the function raises a USER 108 panic. If <code>NULL</code>, a new heap is
created.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aHeapMinSize</code></td>
<td class="Cell"><p class="ValueDesc">The minimum size for the new thread's heap; this value must be
greater than or equal to <code>KMinHeapSize</code>, defined in e32std.h,
otherwise the function raises a USER 110 panic. This value is only used if
<code>aHeap</code> is <code>NULL</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aHeapMaxSize</code></td>
<td class="Cell"><p class="ValueDesc">The maximum size for the new thread's heap; this value must be
greater than or equal to <code>aHeapMinSize</code>, otherwise the function
raises a USER 111 panic. This value is only used if <code>aHeap</code> is
<code>NULL</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TOwnerType
aType</code></td>
<td class="Cell"><p class="ValueDesc">An enumeration whose enumerators define the ownership of this
thread handle. If not explicitly specified, <code>EOwnerProcess</code> is taken
as default.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetInitialParameter%28%29" title="Sets the initial parameter for this thread's thread-function"><code class="ApiItem">RThread::SetInitialParameter()</code></a></li>
</ul>
<a name="2.7.6"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aCreate%28%29"></a>
<hr size="1" noshade>
<h3><code>Create()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Create(const TDesC&amp; aName,TThreadFunction aFunction,TInt aStackSize,TAny* aPtr,RLibrary* aLibrary,RHeap* aHeap, TInt aHeapMinSize,TInt aHeapMaxSize,TOwnerType aType);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Creates a thread where the thread function belongs to a DLL,
and opens this handle to that thread.</p>
<p>This thread belongs to the current process.</p>
<p>If the handle <code>aHeap</code> is <code>NULL</code>, a new
heap is created for this thread, otherwise this thread uses the heap associated
with that handle.</p>
<p>By default, ownership of this thread handle is vested in the
current process, but can be vested in the current thread by passing
<code>EOwnerThread</code> as the second parameter to this function.</p>
<p>Note that a pointer to data can be passed to the thread
function after the thread has been created by calling the
<code>RThread::SetInitialParameter()</code> function.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">The name to be assigned to this thread.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TThreadFunction
aFunction</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a function. Control passes to this function when
the thread is first resumed, i.e. when the thread is initially scheduled to
run</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aStackSize</code></td>
<td class="Cell"><p class="ValueDesc">The size of the new thread's stack; this must not be negative,
otherwise the function raises a USER 109 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to data to be passed as a parameter to the thread
function when the thread is initially scheduled to run. If the thread function
does not need any data then this pointer can be <code>NULL</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RLibrary* aLibrary</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a handle to a library (DLL) in which the thread
function, <code>aFunction</code>, resides. The function accepts a NULL
pointer.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RHeap* aHeap</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the handle of an existing heap which the new
thread is to use. The heap must also be of type
<code>RHeap::EChunkNormal</code> or <code>RHeap::EChunkStack</code>, otherwise
the function raises a USER 108 panic. If <code>NULL</code>, a new heap is
created.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aHeapMinSize</code></td>
<td class="Cell"><p class="ValueDesc">The minimum size for the new thread's heap; this value must be
greater than or equal to <code>KMinHeapSize</code>, defined in e32std.h,
otherwise the function raises a USER 110 panic. This value is only used if
<code>aHeap</code> is <code>NULL</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aHeapMaxSize</code></td>
<td class="Cell"><p class="ValueDesc">The maximum size for the new thread's heap; this value must be
greater than or equal to <code>aHeapMinSize</code>, otherwise the function
raises a USER 111 panic. This value is only used if <code>aHeap</code> is
<code>NULL</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TOwnerType
aType</code></td>
<td class="Cell"><p class="ValueDesc">An enumeration whose enumerators define the ownership of this
thread handle. If not explicitly specified, <code>EOwnerProcess</code> is taken
as default.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="RThreadClass.html#%3a%3aRThread%3a%3aSetInitialParameter%28%29" title="Sets the initial parameter for this thread's thread-function"><code class="ApiItem">RThread::SetInitialParameter()</code></a></li>
</ul>
<a name="2.7.7"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aSetInitialParameter%28%29"></a>
<hr size="1" noshade>
<h3><code>SetInitialParameter()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt SetInitialParameter(TAny* aPtr);</code></p><h4 class="subheading">Description</h4>
<p>Sets the initial parameter for this thread's
thread-function.</p>
<p>The thread must currently be in a suspended state, otherwise
<code>SetInitialParameter()</code> returns <code>KErrGeneral</code>.</p>
<p>The pointer to the data to be passed to the thread-function is
normally passed on creation of this thread handle (i.e. the
<code>RThread)</code> using one of the <code>Create()</code> member functions
of <code>RThread</code>.</p>
<p>The <code>SetInitialParameter()</code> function allows the
initial parameter to point to a cell within this thread's own heap. The
thread-function can then call <code>User::Free()</code> on that cell.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to data; this pointer is passed as the argument to
the thread-function. The meaning of the data depends on the thread
function.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful or <code>KErrGeneral</code>
if function is called when the thread is not suspended.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Open a handle to an existing thread</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aOpen%28%29"></a>
<hr size="1" noshade>
<h3><code>Open()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Open(const TDesC&amp; aFullName,TOwnerType aType=EOwnerProcess);</code></p><h4 class="subheading">Description</h4>
<p>Opens a handle to specifically named thread.</p>
<p>By default, ownership of this thread handle is vested in the
current process, but can be vested in the current thread by passing
<code>EOwnerThread</code> as the second parameter to this function.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aFullName</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the descriptor containing the full name of the
thread to be opened.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TOwnerType
aType</code></td>
<td class="Cell"><p class="ValueDesc">An enumeration whose enumerators define the ownership of this
thread handle. If not explicitly specified, <code>EOwnerProcess</code> is taken
as default.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aOpen%28%29"></a>
<hr size="1" noshade>
<h3><code>Open()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Open(const TFindThread&amp; aFind,TOwnerType aType=EOwnerProcess);</code></p><h4 class="subheading">Description</h4>
<p>Opens a handle to the thread found by pattern matching a
name.</p>
<p>A <code>TFindThread</code> object is used to find all threads
whose full names match a specified pattern. </p>
<p>By default, ownership of this thread handle is vested in the
current process, but can be vested in the current thread by passing
<code>EOwnerThread</code> as the second parameter to this function.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TFindThread&amp; aFind</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the <code>TFindThread</code> object used to find
the thread.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TOwnerType
aType</code></td>
<td class="Cell"><p class="ValueDesc">An enumeration whose enumerators define the ownership of this
thread handle. If not explicitly specified, <code>EOwnerProcess</code> is taken
as default.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aOpen%28%29"></a>
<hr size="1" noshade>
<h3><code>Open()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Open(TThreadId aID,TOwnerType aType=EOwnerProcess);</code></p><h4 class="subheading">Description</h4>
<p>Opens a handle to the thread with a specific thread Id.</p>
<p>By default, ownership of this thread handle is vested in the
current process, but can be vested in the current thread by passing
<code>EOwnerThread</code> as the second parameter to this function.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TThreadId
aId</code></td>
<td class="Cell"><p class="ValueDesc">The thread Id used to find the thread.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TOwnerType
aType</code></td>
<td class="Cell"><p class="ValueDesc">An enumeration whose enumerators define the ownership of this
thread handle. If not explicitly specified, <code>EOwnerProcess</code> is taken
as default.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Open a handle to the owning process</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aProcess%28%29"></a>
<hr size="1" noshade>
<h3><code>Process()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Process(RProcess&amp; aProcess) const;</code></p><h4 class="subheading">Description</h4>
<p>Opens a process-relative handle to the process which owns this
thread.</p>
<p>The caller must construct a default <code>RProcess</code>
object and pass this to the function. On return, <code>aProcess</code> is the
open process-relative handle to the process owning this thread.</p>
<p>The return value indicates the success or failure of this
function.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RProcess&amp; aProcess</code></td>
<td class="Cell"><p class="ValueDesc">A reference to a default <code>RProcess</code> handle; on
successful return from this function, this is the process-relative handle to
the process which owns this thread.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Renaming a thread</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aRename%28%29"></a>
<hr size="1" noshade>
<h3><code>Rename()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Rename(const TDesC&amp; aName) const;</code></p><h4 class="subheading">Description</h4>
<p>Assigns a new name to this thread, replacing any existing name
which may have been set by <code>Create()</code> or by an earlier call to
<code>Rename()</code>.</p>
<p>Any attempt to rename a thread which is protected and is
different from the thread invoking this function, causes the rename operation
to fail. A thread can call <code>Rename()</code> on itself whether it is
protected or not.</p>
<p>The new name must be a valid name and it must also be such that
the thread's new fullname remains unique amongst threads. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the descriptor containing the new name of the
thread.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. Specifically:<code>KErrBadName</code>, if
<code>aName</code> is an invalid<code>KErrAlreadyExists</code>, if a thread
with the same fullname as that generated from <code>aName</code> already
exists.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Get or set the thread priority</h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aPriority%28%29"></a>
<hr size="1" noshade>
<h3><code>Priority()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TThreadPriority Priority() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the priority of this thread.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TThreadPriority</code></td>
<td class="Cell"><p class="ValueDesc">The priority. Note that this is not necessarily the absolute
priority of the thread.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aSetPriority%28%29"></a>
<hr size="1" noshade>
<h3><code>SetPriority()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetPriority(TThreadPriority aPriority) const;</code></p><h4 class="subheading">Description</h4>
<p>Sets the priority of the thread to one of the values defined by
the <code>TThreadPriority</code> enumeration. </p>
<p>The resulting absolute priority of the thread depends on the
value of <code>aPriority</code> and the priority of the owning process.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TThreadPriority
aPriority</code></td>
<td class="Cell"><p class="ValueDesc">The priority value. The enumeration is defined in
<code>e32std.h</code>.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>Use of the priority value
<code>EPriorityNull</code> is restricted to Symbian OS, and any attempt to
explicitly set this value causes a KERN-EXEC 14 panic to be
raised.</note></li>
</ul>
<a name="2.12"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Retrieving and setting the priority of the owning
process</h2>
</div><div class="Bodytext">
<a name="2.12.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aProcessPriority%28%29"></a>
<hr size="1" noshade>
<h3><code>ProcessPriority()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TProcessPriority ProcessPriority() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the priority of the process which owns this thread.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TProcessPriority</code></td>
<td class="Cell"><p class="ValueDesc">The process priority.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aSetProcessPriority%28%29"></a>
<hr size="1" noshade>
<h3><code>SetProcessPriority()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetProcessPriority(TProcessPriority aPriority) const;</code></p><h4 class="subheading">Description</h4>
<p>Sets the priority of the process which owns this thread to one
of the values defined by the <code>TProcessPriority</code> enumeration.</p>
<p>The priority can be set to one of the four values:</p>
<ul>
<li>
<p><code>EPriorityLow</code></p>
</li>
<li>
<p><code>EPriorityBackground</code></p>
</li>
<li>
<p><code>EPriorityForeground</code></p>
</li>
<li>
<p><code>EPriorityHigh</code></p>
</li>
</ul>
<p>The absolute priority of all threads owned by the process (and
all threads owned by those threads etc.) are re-calculated.</p>
<p>Note:</p>
<ul>
<li>
<p>The use of the priority values
<code>EPriorityWindowServer</code>, <code>EPriorityFileServer</code>,
<code>EPriorityRealTimeServer</code> and <code>EPrioritySupervisor</code> is
restricted to Symbian OS, and any attempt to explicitly set any of these
priority values raises a KERN-EXEC 14 panic.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TProcessPriority
aPriority</code></td>
<td class="Cell"><p class="ValueDesc">The priority value; the enumeration is defined in
e32std.h.</p></td>
</tr>
</table></td></tr></table>
<a name="2.13"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Controlling execution of the thread</h2>
</div><div class="Bodytext">
<a name="2.13.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aResume%28%29"></a>
<hr size="1" noshade>
<h3><code>Resume()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Resume() const;</code></p><h4 class="subheading">Description</h4>
<p>Makes the thread eligible for execution.</p>
<p>After a thread is created, it is put into a suspended state;
the thread is not eligible to run until <code>Resume()</code> is called.</p>
<p>This function must also be called to resume execution of this
thread after it has been explicitly suspended by a call to
<code>Suspend()</code>.</p>
<p>Note that when a thread is created, it is given the priority
<code>EPriorityNormal</code> by default. The fact that a thread is initially
put into a suspended state means that the thread priority can be changed by
calling the thread&#8217;s <code>SetPriority()</code> member function before
the thread is started by a call to <code>Resume()</code>.</p>
<a name="2.13.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aSuspend%28%29"></a>
<hr size="1" noshade>
<h3><code>Suspend()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Suspend() const;</code></p><h4 class="subheading">Description</h4>
<p>Suspends execution of this thread. The thread is not scheduled
to run until a subsequent call to <code>Resume()</code> is made.</p>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>Any attempt to suspend a thread which is
protected and is different from the thread invoking this function, causes a
KERN-EXEC 1 panic to be raised.</note></li>
<li><note>A thread can call
<code>Suspend()</code> on itself whether it is protected or not.</note></li>
</ul>
<a name="2.13.4"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aKill%28%29"></a>
<hr size="1" noshade>
<h3><code>Kill()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Kill(TInt aReason);</code></p><h4 class="subheading">Description</h4>
<p>Ends this thread specifying a reason code.</p>
<p>If the thread is waiting on a semaphore or mutex, the wait is
cancelled. If the thread is ready to run, it is removed from the list of
threads eligible to run. Any mutexes owned by the thread are freed and any
remaining resources are freed or cleaned up.</p>
<p>If this is the main thread of a process, then the process is
ended.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aReason</code></td>
<td class="Cell"><p class="ValueDesc">The reason to be associated with the ending of this
thread.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>Any attempt to end a thread which is
protected and is different from the thread invoking this function, causes a
KERN-EXEC 1 panic to be raised.</note></li>
<li><note>A thread can call
<code>Kill()</code> on itself whether it is protected or not. </note></li>
<li><note>A
thread can also end itself by calling <code>User::Exit()</code></note></li>
</ul>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../SystemStaticFunctions/UserClass.html#%3a%3aUser%3a%3aExit%28%29" title="Terminates the current thread, specifying a reason"><code class="ApiItem">User::Exit()</code></a></li>
</ul>
<a name="2.13.5"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aPanic%28%29"></a>
<hr size="1" noshade>
<h3><code>Panic()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Panic(const TDesC&amp; aCategory,TInt aReason);</code></p><h4 class="subheading">Description</h4>
<p>Panics this thread, specifying the panic category name and
reason.</p>
<p>The length of the category name should be no greater than 16;
any name with a length greater than 16 is truncated to 16.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC&amp; aCategory</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the descriptor containing the text which defines
the category name for this panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aReason</code></td>
<td class="Cell"><p class="ValueDesc">The panic number.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>Any attempt to panic a thread which is
protected and is different from the thread invoking this function, causes a
KERN-EXEC 1 panic to be raised.</note></li>
<li><note>A thread can call
<code>Panic()</code> on itself whether it is protected or not. </note></li>
<li><note>A
thread can also panic itself by calling
<code>User::Panic()</code>.</note></li>
</ul>
<a name="2.14"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Information about thread termination</h2>
</div><div class="Bodytext">
<a name="2.14.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aExitType%28%29"></a>
<hr size="1" noshade>
<h3><code>ExitType()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TExitType ExitType() const;</code></p><h4 class="subheading">Description</h4>
<p>Has the thread ended and, if it has ended, return how it
ended.</p>
<p>This information allows the caller to distinguish between
normal termination and a panic.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TExitType</code></td>
<td class="Cell"><p class="ValueDesc">An enumeration whose enumerators describe how the thread has
ended.</p></td>
</tr>
</table></td></tr></table>
<a name="2.14.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aExitReason%28%29"></a>
<hr size="1" noshade>
<h3><code>ExitReason()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt ExitReason() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the specific reason associated with the end of this
thread.</p>
<p>The reason number together with the category name is a way of
distinguishing between different causes of thread termination.</p>
<p>If the thread has panicked, this value is the panic number. If
the thread has ended as a result of a call to <code>Kill()</code>, then the
value is the one supplied by <code>Kill()</code>.</p>
<p>If the thread is still alive, then the returned value is
zero.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">The reason associated with the end of the thread.</p></td>
</tr>
</table></td></tr></table>
<a name="2.14.4"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aExitCategory%28%29"></a>
<hr size="1" noshade>
<h3><code>ExitCategory()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TExitCategoryName ExitCategory() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the name of the category associated with the end of the
thread. The category name together with the reason number is a way of
distinguishing between different causes of thread termination.</p>
<p>If the thread has panicked, the category name is the panic
category name; for example, <code>E32USER-CBase</code> or
<code>KERN-EXEC</code>. If the thread has ended as a result of call to
<code>Kill()</code>, then the category name is <code>Kill</code>.</p>
<p>If the thread has not ended, then the category name is empty,
i.e. the length of the category name is zero.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TExitCategoryName</code></td>
<td class="Cell"><p class="ValueDesc">A <code>TBuf</code> descriptor with a defined maximum length
containing the name of the category associated with the end of the
thread.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../Descriptors/TBufClass.html#%3a%3aTBuf" title="Build-independent modifiable buffer descriptor"><code class="ApiItem">TBuf</code></a></li>
</ul>
<a name="2.15"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Notification of death of this thread</h2>
</div><div class="Bodytext">
<a name="2.15.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aLogon%28%29"></a>
<hr size="1" noshade>
<h3><code>Logon()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Logon(TRequestStatus&amp; aStatus) const;</code></p><h4 class="subheading">Description</h4>
<p>Requests notification when this thread dies, normally or
otherwise.</p>
<p>A request for notification is an asynchronous request.</p>
<p>The request completes when the thread terminates or,  if an outstanding notification request is
cancelled by a call to this thread's <code>LogonCancel()</code> member
function.</p>
<p>A request for notification requires memory to be allocated; if
this is unavailable, the call to <code>Logon()</code> returns but the
asynchronous request completes immediately with the value
<code>KErrNoMemory</code>.</p><p>Call <a href="RThreadClass.html#%3a%3aRThread%3a%3aExitType%28%29" title="Has the thread ended and, if it has ended, return how it ended"><code class="ApiItem">RThread::ExitType()</code></a> to find out how the thread died.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRequestStatus&amp; aStatus</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the request status object. This contains the return value from the function passed into the thread. Alternatively, this is set to:<code>KErrCancel</code>, if an outstanding
request is cancelled.<code>KErrNoMemory</code>, if there is insufficient
memory.</p></td>
</tr>
</table></td></tr></table>
<a name="2.15.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aLogonCancel%28%29"></a>
<hr size="1" noshade>
<h3><code>LogonCancel()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt LogonCancel(TRequestStatus&amp; aStatus) const;</code></p><h4 class="subheading">Description</h4>
<p>Cancels an outstanding request for notification of the death of
this thread.</p>
<p>A request for notification must previously have been made,
otherwise the function returns <code>KErrGeneral</code>.</p>
<p>The caller passes a reference to the same request status object
as was passed in the original call to <code>Logon()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRequestStatus&amp; aStatus</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the same request status object used in the
original call to <code>Logon()</code>.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrGeneral</code> if there is no outstanding request,
<code>KErrNone</code> otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.16"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Information about this thread</h2>
</div><div class="Bodytext">
<a name="2.16.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aRequestCount%28%29"></a>
<hr size="1" noshade>
<h3><code>RequestCount()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt RequestCount() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets this thread's request semaphore count.</p>
<p>The request semaphore is created when a thread is created, and
is used to support asynchronous requests.</p>
<p>A negative value implies that this thread is waiting for at
least one asynchronous request to complete.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">This thread's request semaphore count.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../Semaphores/index.html#Semaphores%2etoc">Semaphores</a></li>
<li><a href="../AsynchronousServices/index.html#AsynchronousServices%2etoc">Asynchronous services</a></li>
</ul>
<a name="2.16.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aHandleCount%28%29"></a>
<hr size="1" noshade>
<h3><code>HandleCount()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void HandleCount(TInt&amp; aProcessHandleCount, TInt&amp; aThreadHandleCount) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the number of handles open in this thread and the number
of handles open in the process which owns this thread.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt&amp; aProcessHandleCount</code></td>
<td class="Cell"><p class="ValueDesc">On return from this function, contains the number of handles
open in the process which owns this thread on return from this function.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt&amp; aThreadHandleCount</code></td>
<td class="Cell"><p class="ValueDesc">On return from this function, contains the number of handles
open in this thread.</p></td>
</tr>
</table></td></tr></table>
<a name="2.16.4"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aId%28%29"></a>
<hr size="1" noshade>
<h3><code>Id()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TThreadId Id() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the Id of this thread.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TThreadId</code></td>
<td class="Cell"><p class="ValueDesc">The Id of this thread</p></td>
</tr>
</table></td></tr></table>
<a name="2.16.5"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aGetRamSizes%28%29"></a>
<hr size="1" noshade>
<h3><code>GetRamSizes()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GetRamSizes(TInt&amp; aHeapSize,TInt&amp; aStackSize);</code></p><h4 class="subheading">Description</h4>
<p>Gets the size of the heap and the stack for this thread.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt&amp; aHeapSize</code></td>
<td class="Cell"><p class="ValueDesc">A reference to a signed integer supplied by the caller. On
return from this function, contains the size of this thread's heap.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt&amp; aStackSize</code></td>
<td class="Cell"><p class="ValueDesc">A reference to a signed integer supplied by the caller. On
return from this function, contains the size of this thread's stack.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.16.6"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aGetCpuTime%28%29"></a>
<hr size="1" noshade>
<h3><code>GetCpuTime()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GetCpuTime(TTimeIntervalMicroSeconds&amp; aCpuTime) const;</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.1
</p><h4 class="subheading">Description</h4>
<p>Gets the CPU usage for this thread.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TTimeIntervalMicroSeconds&amp;
aCpuTime</code></td>
<td class="Cell"><p class="ValueDesc">A reference to a time interval object supplied by the caller.
On return from this function, contains the CPU usage for this thread.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.16.7"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aProtected%28%29"></a>
<hr size="1" noshade>
<h3><code>Protected()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool Protected() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests whether this thread is protected.</p>
<p>The protected state prevents any other thread from setting the
priority, suspending, ending or panicking this thread.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True, if the thread is protected; false, otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.17"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Setting thread attributes</h2>
</div><div class="Bodytext">
<a name="2.17.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aSetProtected%28%29"></a>
<hr size="1" noshade>
<h3><code>SetProtected()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetProtected(TBool aState) const;</code></p><h4 class="subheading">Description</h4>
<p>Sets the thread into a protected state.</p>
<p>The protected state prevents any other thread from setting the
priority, suspending, ending or panicking this thread.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool
aState</code></td>
<td class="Cell"><p class="ValueDesc">True, if the thread is to be protected; false,
otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Signal request completion</h2>
</div><div class="Bodytext">
<a name="2.18.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aRequestComplete%28%29"></a>
<hr size="1" noshade>
<h3><code>RequestComplete()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RequestComplete(TRequestStatus*&amp; aStatus,TInt aReason) const;</code></p><h4 class="subheading">Description</h4>
<p>Signals to this thread that an asynchronous request originating
from this thread, is complete.</p>
<p> The request is associated with the specified request status
object supplied by this thread.</p>
<p>Typically, the caller of this function is the service provider
responsible for satisfying the request made by this thread.</p>
<p>The request is completed with the completion code passed in
<code>aReason</code>. This value is copied into this thread&#8217;s request
status, <code>*aStatus</code>, before signalling this thread&#8217;s request
semaphore.</p>
<p>The meaning of the completion code is a matter of convention to
be decided between the service provider and this thread.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRequestStatus*&amp; aStatus</code></td>
<td class="Cell"><p class="ValueDesc">A reference to a pointer to the request status originally
supplied by this thread. This is a pointer into this thread's address space,
which may be different to the thread currently executing (this code). On
return, the pointer to the request status is set to NULL.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
aReason</code></td>
<td class="Cell"><p class="ValueDesc">The completion code of this request.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>In a client-server situation, completion of
a request takes place in the context of the server thread, but the pointer is
interpreted in the address space of the client.</note></li>
<li><note>It is often the
case in client-server situations that the client and the server are in the same
address space (i.e. the same process).</note></li>
<li><note>Setting the pointer to the
request status to NULL is a convenience, not all servers need
it.</note></li>
</ul>
<a name="2.19"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Inter-thread communication functions</h2>
</div><div class="Bodytext">
<a name="2.19.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aGetDesLength%28%29"></a>
<hr size="1" noshade>
<h3><code>GetDesLength()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GetDesLength(const TAny* aPtr) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the length of a specified descriptor within the address
space in which the thread represented by this handle runs.</p>
<p>Although <code>aPtr</code> is of type <code>TAny*</code>, it is
assumed to point to a valid descriptor, i.e. a <code>TDesC</code> derived
object. If the object at <code>aPtr</code> is not recognised as a valid
descriptor, then the function returns with
<code>KErrBadDescriptor</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a location within this thread's address space. The
location is expected to contain a <code>TDesC</code> derived object.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">If non-negative, the length of the descriptor at location
<code>aPtr</code> within this thread's address space. If negative, one of the
system-wide error codes.Specifically:<code>KErrArgument</code>, if
<code>aPtr</code> does not point to a valid location within this thread's
address space.<code>KErrBadDescriptor</code> if <code>aPtr</code> does not
point to a valid descriptor.</p></td>
</tr>
</table></td></tr></table>
<a name="2.19.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aGetDesMaxLength%28%29"></a>
<hr size="1" noshade>
<h3><code>GetDesMaxLength()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GetDesMaxLength(const TAny* aPtr) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the maximum length of a specified modifiable descriptor
within the address space in which the thread represented by this thread handle
runs.</p>
<p>Although <code>aPtr</code> is of type <code>TAny*</code>, it is
assumed to point to be a modifiable descriptor, i.e. a <code>TDes</code>
derived object (for example a <code>TPtr</code> or a
<code>TBuf&lt;TInt&gt;</code>). If the object at <code>aPtr</code> is not
recognized as a valid descriptor, then the function returns with
<code>KErrBadDescriptor</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a location within this thread's address space. The
location is expected to contain a <code>TDes</code> derived object.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">If non-negative, the maximum length of the descriptor at
location <code>aPtr</code> within this thread's address space. If negative, one
of the system-wide error codes. Specifically:<code>KErrArgument</code>, if
<code>aPtr</code> does not point to a valid location within this thread's
address space.<code>KErrBadDescriptor</code> if <code>aPtr</code> does not
point to a valid descriptor.</p></td>
</tr>
</table></td></tr></table>
<a name="2.19.4"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aReadL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadL(const TAny* aPtr,TDes8&amp; aDes,TInt anOffset) const;<br>void ReadL(const TAny* aPtr,TDes16 &amp;aDes,TInt anOffset) const;</code></p><h4 class="subheading">Description</h4>
<p>Copies data from a specified descriptor&nbsp;&#8212; within
the address space in which the thread represented by this <code>RThread</code>
handle runs&nbsp;&#8212; to a specified descriptor in the current
thread.</p>
<p>Although the source of this copy operation, <code>aPtr</code>,
is of type <code>TAny*</code>, it is assumed to point to a valid descriptor,
i.e. a <code>TDesC8</code> or <code>TDesC16</code> derived object. If the
object at <code>aPtr</code> is not recognised as a valid descriptor, then the
function leaves.</p>
<p>Data is copied from position <code>anOffset</code> within the
source descriptor data area. The length of data copied is the length of the
source descriptor minus the value of <code>anOffset</code>.</p>
<p>If the value of <code>anOffset</code> is greater than the
length of the source descriptor, then no data is copied and the length of
<code>aDes</code>, the target descriptor, is set to zero.</p>
<p>The length of data to be copied cannot be greater than the
maximum length of <code>aDes</code>, the target descriptor. If this is the
case, then the length of data copied is limited to the maximum length of
<code>aDes</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the source for this copy operation. It is assumed
to point to a valid descriptor within this thread's address space.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TDes8&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the target descriptor (8 bit) for this copy
operation belonging to the caller's address space.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TDes16&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the target descriptor (16 bit) for this copy
operation belonging to the caller's address space.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
anOffset</code></td>
<td class="Cell"><p class="ValueDesc">The offset from the start of the source descriptor data area
from where copying is to begin. This value must be greater than or equal to
zero.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function leaves for a number of reasons which are
summarised here. This <code>RThread</code> handle must be a valid handle,
otherwise the function leaves with <code>KErrBadHandle</code> .
<code>anOffset</code> must be greater than or equal to zero, otherwise the
function leaves with <code>KErrArgument</code> . <code>aPtr</code> must point
to a valid location within this thread's address space, otherwise the function
leaves with <code>KErrArgument</code> . <code>aPtr</code> must also point to a
valid descriptor, otherwise the function leaves with
<code>KErrBadDescriptor</code> . </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>The thread represented by this
<code>RThread</code> handle and the current thread can belong to the same or to
different processes.</note></li>
</ul>
<a name="2.19.5"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aWriteL%28%29"></a>
<hr size="1" noshade>
<h3><code>WriteL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void WriteL(const TAny* aPtr,const TDesC8&amp; aDes,TInt anOffset) const;<br>void WriteL(const TAny* aPtr,const TDesC16&amp; aDes,TInt anOffset) const;</code></p><h4 class="subheading">Description</h4>
<p>Copies data to a specified modifiable
descriptor&nbsp;&#8212; within the address space in which the thread
represented by this <code>RThread</code> handle runs&nbsp;&#8212; from a
specified descriptor in the current thread.</p>
<p>Although the target of this copy operation, <code>aPtr</code>,
is of type <code>TAny*</code>, it is assumed to point to a valid modifiable
type descriptor, i.e. a <code>TDes</code> type. If the object at
<code>aPtr</code> is not recognised as a valid descriptor, then the function
leaves.</p>
<p>Data is copied from the source descriptor, <code>aDes</code>,
to position <code>anOffset</code> within the target descriptor data area. The
length of data copied is the length of the source descriptor,
<code>aDes</code>. The length of the target descriptor is set to the length of
the source descriptor plus the value of <code>anOffset</code> (i.e.
<code>aDes.Length()</code> + <code>anOffset</code>).</p>
<p>The target descriptor data area must be big enough to contain
the data; specifically, the maximum length of the target descriptor must be
sufficient to contain data of length (<code>aDes.Length()</code> plus
<code>anOffset</code>), otherwise the function leaves.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
TAny* aPtr</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the target for this copy operation. It is assumed
to point to a valid modifiable descriptor within this thread's address
space.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC8&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the source descriptor (8 bit) for this copy
operation belonging to the caller's address space.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TDesC16&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the source descriptor (16 bit) for this copy
operation belonging to the caller's address space.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt
anOffset</code></td>
<td class="Cell"><p class="ValueDesc">The offset from the start of the target descriptor data where
copying is to begin. This value must be greater than or equal to zero.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function leaves for a number of reasons which are
summarised here. This <code>RThread</code> handle must be a valid handle,
otherwise the function leaves with <code>KErrBadHandle</code> .
<code>anOffset</code> must be greater than or equal to zero, otherwise the
function leaves with <code>KErrArgument</code> . <code>aPtr</code> must point
to a valid location within this thread's address space, otherwise the function
leaves with <code>KErrArgument</code> . <code>aPtr</code> must also point to a
valid descriptor, otherwise the function leaves with
<code>KErrBadDescriptor</code> . There must be sufficient space available
within the target chunk for the copy operation to complete; specifically, if
there is insufficient space for a target descriptor object or the target
descriptor's length is less than the space really available in the chunk, then
the function leaves with either <code>KErrArgument</code> or
<code>KErrBadDescriptor</code> . The length of the target descriptor must be
sufficient to contain the newly copied data, otherwise the function leaves with
<code>KErrOverflow</code> . </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>The thread represented by this
<code>RThread</code> handle and the current thread can belong to the same or to
different processes.</note></li>
</ul>
<a name="2.20"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Accessing the thread&#8217;s heap</h2>
</div><div class="Bodytext">
<a name="2.20.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aHeap%28%29"></a>
<hr size="1" noshade>
<h3><code>Heap()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>RHeap* Heap();</code></p><h4 class="subheading">Description</h4>
<p>Gets a pointer to the handle to this thread's heap.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RHeap*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the handle to this thread's heap.</p></td>
</tr>
</table></td></tr></table>
<a name="2.21"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Exception handling</h2>
</div><div class="Bodytext">
<a name="2.21.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aExceptionHandler%28%29"></a>
<hr size="1" noshade>
<h3><code>ExceptionHandler()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TExceptionHandler* ExceptionHandler() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets a pointer to this thread's exception handler.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TExceptionHandler*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the exception handler.</p></td>
</tr>
</table></td></tr></table>
<a name="2.21.3"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aSetExceptionHandler%28%29"></a>
<hr size="1" noshade>
<h3><code>SetExceptionHandler()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt SetExceptionHandler(TExceptionHandler* aHandler,TUint32 aMask);</code></p><h4 class="subheading">Description</h4>
<p>Sets the thread's current exception handler.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TExceptionHandler* aHandler</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the new exception handler.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TUint32
aMask</code></td>
<td class="Cell"><p class="ValueDesc">One or more flags defining the exception categories which the
handler <code>aHandler</code> can handle.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="ThreadsAndProcessesConstants.html#ThreadsAndProcesses%2econstants" title="Thread and process global constants">Exceptions</a></li>
</ul>
<a name="2.21.4"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aModifyExceptionMask%28%29"></a>
<hr size="1" noshade>
<h3><code>ModifyExceptionMask()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ModifyExceptionMask(TUint32 aClearMask, TUint32 aSetMask);</code></p><h4 class="subheading">Description</h4>
<p>Changes the set of exceptions which this thread's exception
handler can deal with.</p>
<p><code>aClearMask</code> is the set of flags defining the set of
exceptions which the exception handler no longer deals with while
<code>aSetMask</code> is the set of flags defining the new set of exceptions to
be set.</p>
<p>Flag clearing is done before flag setting.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TUint32
aClearMask</code></td>
<td class="Cell"><p class="ValueDesc">One or more flags defining the exceptions which the current
exception handler no longer deals with.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TUint32
aSetMask</code></td>
<td class="Cell"><p class="ValueDesc">One or more flags defining the new set of exceptions which the
current exception handler is to deal with.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="ThreadsAndProcessesConstants.html#ThreadsAndProcesses%2econstants" title="Thread and process global constants">Exceptions</a></li>
</ul>
<a name="2.21.5"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aRaiseException%28%29"></a>
<hr size="1" noshade>
<h3><code>RaiseException()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt RaiseException(TExcType aType);</code></p><h4 class="subheading">Description</h4>
<p>Raises an exception of a specified type on this thread.</p>
<p>If this thread has an exception handler to handle this type of
exception, then it is called.</p>
<p>If this thread has no exception handler to handle this type of
exception, then the result depends on whether this thread is the same as the
current thread or not:</p>
<ul>
<li>
<p>if this thread is the current thread, i.e. the current
thread is raising an exception on itself, then the function raises a KERN-EXEC
3 panic.</p>
</li>
<li>
<p>if this thread is not the current thread, i.e. the current
thread is raising an exception on another thread, then that other thread ends
with reason code <code>KErrDied</code>.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TExcType
aType</code></td>
<td class="Cell"><p class="ValueDesc">The type of exception.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>Exception handlers are executed in the context
of the thread on which the exception is raised; control returns to the point of
the exception.</note></li>
</ul>
<a name="2.21.6"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aIsExceptionHandled%28%29"></a>
<hr size="1" noshade>
<h3><code>IsExceptionHandled()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsExceptionHandled(TExcType aType);</code></p><h4 class="subheading">Description</h4>
<p>Tests whether a specified exception type can be handled by this
thread.</p>
<p>If the thread has no exception handler, then this function
returns false.</p>
<p>If the thread has an exception handler which cannot handle the
type of exception defined by <code>aType</code>, then the function returns
false.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TExcType
aType</code></td>
<td class="Cell"><p class="ValueDesc">The type of exception.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True, if the thread has an exception handler which can handle
an exception of type <code>aType</code>; false, otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.22"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Register contents of sleeping thread</h2>
</div><div class="Bodytext">
<a name="2.22.2"></a></div><div class="Head3">
<a name="%3a%3aRThread%3a%3aContext%28%29"></a>
<hr size="1" noshade>
<h3><code>Context()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Context(TDes8&amp; aDes) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the register contents of this (sleeping) thread.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDes8&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the register contents, starting with
R0.</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
