<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>RAlarmServer</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="AboutAlarmServer.guide.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="TAlarmClockRepeatEnum.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Alarm&nbsp;Server</a>&nbsp;<span class="separator">&#187;</span>
RAlarmServer</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>t32alm.h</code>
<br>Link against: <code>ealwl.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aRAlarmServer"></a>

<h1>Class <code>RAlarmServer</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>RAlarmServer</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Defines the alarm server&#8217;s client side API.</p>
<p>Clients can use this API to connect to the alarm server, add, count
and delete alarms, retrieve alarm information, orphan session alarms, and set
the alarm sound state.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code>RAlarmServer</code></td><td class="Cell">Defines the alarm server's client side API</td>
</tr>
<tr><td class="Cell"><code><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase">RHandleBase</a></code></td><td class="Cell">Handle to an object</td>
</tr>
<tr><td class="Cell"><code><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase">RSessionBase</a></code></td><td class="Cell">Client-side handle to a session with a server</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>RAlarmServer</code>:
<br><code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aAlarmArrayPopulateL%28%29" title="Populates an array with the alarm IDs of a specified type">AlarmArrayPopulateL()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aAlarmCount%28%29" title="Gets the number of alarms in a particular category">AlarmCount()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aAlarmDelete%28%29" title="Deletes an alarm from the alarm server">AlarmDelete()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aAlarmEnable%28%29" title="Enables or disables alarms">AlarmEnable()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aAlarmInfo%28%29" title="Gets alarm information from the alarm server">AlarmInfo()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aAlarmOwner%28%29" title="Gets the owner's name for an alarm">AlarmOwner()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aAlarmSoundState%28%29" title="Gets the alarm sound state">AlarmSoundState()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aAlarmState%28%29" title="Determines whether a given alarm is set, not set, or disabled">AlarmState()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aAlarmType%28%29" title="Gets the type of the specified alarm">AlarmType()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aCancelSessionAlarm%28%29" title="Cancels the outstanding session alarm, placed using the SetSessionAlarm() function">CancelSessionAlarm()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aConnect%28%29" title="Connects a client process to the alarm server">Connect()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aDeleteAllOrphanAlarms%28%29" title="Deletes all orphan alarms from the alarm server">DeleteAllOrphanAlarms()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aEArrayNext" title="The array is to contain pending alarms, including clock alarms, session alarms, orphaned alarms and snoozed alarms">EArrayNext</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aEArrayOrphan" title="The array is to contain orphaned alarms">EArrayOrphan</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aEArrayReview" title="The array is to contain review alarms">EArrayReview</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aEArraySnooze" title="The array is to contain snoozed alarms">EArraySnooze</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aECountNext" title="Count the number of pending alarms">ECountNext</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aECountOrphan" title="Count the number of orphaned alarms">ECountOrphan</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aECountReview" title="Count the number of review alarms">ECountReview</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aECountSnooze" title="Count the number of snoozed alarms">ECountSnooze</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aECountUnacknowledged" title="Count the number of unacknowledged alarms">ECountUnacknowledged</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aEInfoById" title="Get information for the alarm with the specified ID -- irrespective of type">EInfoById</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aEInfoClock" title="Get information for one of the 8 clock alarms">EInfoClock</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aEInfoNext" title="Get information for the next alarm which is due -- irrespective of type">EInfoNext</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aEInfoSession" title="Get information for a session alarm">EInfoSession</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aESessionTypeDay" title="The alarm is an untimed event">ESessionTypeDay</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aESessionTypeTimed" title="The alarm is a timed event">ESessionTypeTimed</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aGetAlarmPlayIntervalsL%28%29" title="Gets the list of alarm intervals">GetAlarmPlayIntervalsL()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aNotifyOnChange%28%29" title="Provides sessions with notification when the alarm settings change, and when the next alarm time should be calculated">NotifyOnChange()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aNotifyOnChangeCancel%28%29" title="Cancels an "Any change" notification request, placed using the NotifyOnChange() function">NotifyOnChangeCancel()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aOrphanSessionAlarm%28%29" title="Orphans the session alarm">OrphanSessionAlarm()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aQuietPeriodCancel%28%29" title="Cancels the alarm quiet period, set using the QuietPeriodSet() function">QuietPeriodCancel()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aQuietPeriodSet%28%29" title="Defers all alarm sounds for a given interval">QuietPeriodSet()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aQuietPeriodUntil%28%29" title="Gets the time at which the alarm quiet period will end">QuietPeriodUntil()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aSetAgendaAlarm%28%29" title="Sets an agenda alarm">SetAgendaAlarm()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aSetAlarmPlayIntervals%28%29" title="Sets the list of alarm intervals">SetAlarmPlayIntervals()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aSetAlarmSoundOn%28%29" title="Turns the sound for all alarms on or off">SetAlarmSoundOn()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aSetClockAlarm%28%29" title="Sets a new clock alarm">SetClockAlarm()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aSetSessionAlarm%28%29" title="Sets the session alarm">SetSessionAlarm()</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aTArrayCategory" title="Defines the type of alarms to be put into an array">TArrayCategory</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aTCountCategory" title="Defines the category of the alarms to be counted using the RAlarmServer::AlarmCount() function">TCountCategory</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aTInfoCategory" title="Defines the category of alarms for which information is required">TInfoCategory</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aTSessionType" title="Specifies whether a session alarm is for a timed or an untimed event">TSessionType</a></code>, <code class="ApiItem"><a href="RAlarmServerClass.html#%3a%3aRAlarmServer%3a%3aVersion%28%29" title="Gets the version number of the DLL">Version()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase" title="Handle to an object">RHandleBase</a></code>:
<br><code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aClose%28%29" title="Closes the handle">Close()</a></code>,
<code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aDuplicate%28%29" title="Creates a valid handle to the Kernel object to which the specified thread already has a handle">Duplicate()</a></code>,
<code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aHandle%28%29" title="Retrieves the handle-number of the object associated with this handle">Handle()</a></code>,
<code class="ApiItem"><a href="../Handles/RHandleBaseClass.html#%3a%3aRHandleBase%3a%3aSetHandle%28%29" title="Use this function to set the handle-number of this handle to the specified value">SetHandle()</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase" title="Client-side handle to a session with a server">RSessionBase</a></code>:
<br><code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aAttach%28%29" title="Explicitly attaches a thread to the session">Attach()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aCreateSession%28%29" title="Creates a session with a server">CreateSession()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aEAutoAttach" title="Client threads are auto-attached to the session">EAutoAttach</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aEExplicitAttach" title="Client threads explicitly attach to the session">EExplicitAttach</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aSend%28%29" title="Sends a blind message to the server -- no reply is expected">Send()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aSendReceive%28%29" title="Sends a message to the server and waits synchronously for the reply">SendReceive()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aSetRetry%28%29" title="Changes the retry parameters used to resend a message if the server is busy">SetRetry()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aShare%28%29" title="Makes the session shared among all threads in the process">Share()</a></code>,
<code class="ApiItem"><a href="../ClientServer/RSessionBaseClass.html#%3a%3aRSessionBase%3a%3aTAttachMode" title="Indicates whether threads in the process are automatically attached to the session when passed as a parameter to the Share() function">TAttachMode</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Connecting to the alarm server</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aConnect%28%29"></a>
<hr size="1" noshade>
<h3><code>Connect()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Connect();</code></p><h4 class="subheading">Description</h4>
<p>Connects a client process to the alarm server.</p>
<p>Note:</p>
<ul>
<li>
<p>As with any server, the connection should be closed after
use. <code>RHandleBase</code> provides the necessary <code>Close()</code>
function, which should be called when the server session is no longer
required.</p>
</li>
</ul>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aVersion%28%29"></a>
<hr size="1" noshade>
<h3><code>Version()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TVersion Version() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the version number of the DLL.</p>
<p>The version number may be incremented in future releases of the
alarm server. If extra features are added in such releases, the version number
may be used by application programs as a basis for assessing the capabilities
of the alarm server. Version-specific functions will be marked as such in the
API documentation.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TVersion</code></td>
<td class="Cell"><p class="ValueDesc">The version number.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Alarm information</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aAlarmCount%28%29"></a>
<hr size="1" noshade>
<h3><code>AlarmCount()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt AlarmCount(TCountCategory aCategory) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the number of alarms in a particular category.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TCountCategory aCategory</code></td>
<td class="Cell"><p class="ValueDesc">The category of alarm being counted.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aAlarmState%28%29"></a>
<hr size="1" noshade>
<h3><code>AlarmState()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TAlarmSetState AlarmState(TInt aAlarmId) const;</code></p><h4 class="subheading">Description</h4>
<p>Determines whether a given alarm is set, not set, or
disabled.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aAlarmId</code></td>
<td class="Cell"><p class="ValueDesc">The ID of the alarm for which the state is to be found.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TAlarmSetState</code></td>
<td class="Cell"><p class="ValueDesc">The current state of the alarm.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aAlarmInfo%28%29"></a>
<hr size="1" noshade>
<h3><code>AlarmInfo()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt AlarmInfo(TAlarmInfo&amp; anAlarm,TInfoCategory aCategory,TInt aAlarmId=KNullAlarmID) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets alarm information from the alarm server.</p>
<p>The information is retrieved by category and alarm ID. The
alarms in each category are indexed from 0&#0160;&#8212;  if no ID is specified then
the first alarm in the specified category is retrieved
(<code>KNullAlarmID</code>).</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TAlarmInfo&amp; anAlarm</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the alarm information.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInfoCategory aCategory</code></td>
<td class="Cell"><p class="ValueDesc">The category of alarm for which information is to be
obtained.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aAlarmId=KNullAlarmID&#0160;&#0160;</code></td>
<td class="Cell"><p class="ValueDesc">The alarm ID, which must be greater than or equal to zero. The
ID defaults to the first alarm in the specified category.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aAlarmSoundState%28%29"></a>
<hr size="1" noshade>
<h3><code>AlarmSoundState()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TAlarmSoundState AlarmSoundState() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the alarm sound state. This state, which applies to all
alarms, determines whether the sound for active alarms is on, off, or suspended
for a predefined period.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TAlarmSoundState</code></td>
<td class="Cell"><p class="ValueDesc">The alarm sound status.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.6"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aAlarmType%28%29"></a>
<hr size="1" noshade>
<h3><code>AlarmType()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt AlarmType(TAlarmType&amp; aType,TInt aAlarmId) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the type of the specified alarm.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TAlarmType&amp; aType</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the alarm type.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aAlarmId</code></td>
<td class="Cell"><p class="ValueDesc">The ID of the alarm.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.7"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aAlarmOwner%28%29"></a>
<hr size="1" noshade>
<h3><code>AlarmOwner()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt AlarmOwner(TFullName&amp; aName,TInt aAlarmId) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the owner&#8217;s name for an alarm.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TFullName&amp; aName</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the owner&#8217;s name for the
alarm.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aAlarmId</code></td>
<td class="Cell"><p class="ValueDesc">The ID of the alarm.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.8"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aAlarmArrayPopulateL%28%29"></a>
<hr size="1" noshade>
<h3><code>AlarmArrayPopulateL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void AlarmArrayPopulateL(CAlarmIdArray&amp; aArray,TArrayCategory aCategory,TInt aMaxNumber=64) const;</code></p><h4 class="subheading">Description</h4>
<p>Populates an array with the alarm IDs of a specified type. The
array of IDs can then be used for finding information about each of the
alarms.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CAlarmIdArray&amp; aArray</code></td>
<td class="Cell"><p class="ValueDesc">The array which is to be populated.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TArrayCategory aCategory</code></td>
<td class="Cell"><p class="ValueDesc">The type of alarms with which to populate the array.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMaxNumber</code></td>
<td class="Cell"><p class="ValueDesc">The maximum number of alarms in the array. The default is
64.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Enable/delete alarms</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aAlarmEnable%28%29"></a>
<hr size="1" noshade>
<h3><code>AlarmEnable()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt AlarmEnable(TBool aShouldEnable,TInt aAlarmId);</code></p><h4 class="subheading">Description</h4>
<p>Enables or disables alarms. </p>
<p>Notes:</p>
<ul>
<li>
<p>An enabled alarm is one which will activate at a specified
time. </p>
</li>
<li>
<p>A disabled alarm is one which exists in the array but is
not active. This corresponds to an alarm with a strike-through in the Time
application.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aShouldEnable</code></td>
<td class="Cell"><p class="ValueDesc"><code>ETrue</code>&#0160;&#8212; enable the alarm.
<code>EFalse</code>&#0160;&#8212; disable the alarm.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aAlarmId</code></td>
<td class="Cell"><p class="ValueDesc">The ID of the alarm to be enabled or disabled.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aAlarmDelete%28%29"></a>
<hr size="1" noshade>
<h3><code>AlarmDelete()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt AlarmDelete(TInt aAlarmId);</code></p><h4 class="subheading">Description</h4>
<p>Deletes an alarm from the alarm server.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aAlarmId</code></td>
<td class="Cell"><p class="ValueDesc">The ID of the alarm to be deleted.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aDeleteAllOrphanAlarms%28%29"></a>
<hr size="1" noshade>
<h3><code>DeleteAllOrphanAlarms()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt DeleteAllOrphanAlarms();</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Deletes all orphan alarms from the alarm server.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Setting/Orphaning alarms</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aSetAgendaAlarm%28%29"></a>
<hr size="1" noshade>
<h3><code>SetAgendaAlarm()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetAgendaAlarm(const TTime&amp; aAlarmTime,const TAlarmMessage&amp; aMessage,const TAlarmSoundName&amp; aSound,const TTime&amp; aDueDateTime,TSessionType aType);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Sets an agenda alarm. Agenda alarms are
persistent&nbsp;&#8212; maintained by the server even when the session that
created them has shut down. They supersede, but do not replace session
alarms.</p>
<p>Notes:</p>
<ul>
<li>
<p>Agenda alarms can be set by any application. </p>
</li>
<li>
<p>Agenda uses this function as part of its shut-down process
to write a number of pending alarms to the alarm server. When Agenda is
re-started it again uses this function&nbsp;&#8212; to set the next alarm.
If this alarm is still outstanding the function call has no effect.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TTime&amp; aAlarmTime</code></td>
<td class="Cell"><p class="ValueDesc">The alarm activation time.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TAlarmMessage&amp; aMessage</code></td>
<td class="Cell"><p class="ValueDesc">The text message associated with the alarm.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TAlarmSoundName&amp; aSound</code></td>
<td class="Cell"><p class="ValueDesc">The name of the sound file to be played when the alarm
activates.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TTime&amp; aDueDateTime</code></td>
<td class="Cell"><p class="ValueDesc">The alarm due date and time. This is the time that the alarm
was/is due. When setting the alarm this should be the same as
<code>aAlarmTime</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TSessionType aType</code></td>
<td class="Cell"><p class="ValueDesc">The type of agenda alarm.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aSetClockAlarm%28%29"></a>
<hr size="1" noshade>
<h3><code>SetClockAlarm()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetClockAlarm(TInt aClockAlarmIndex,const TTime&amp; aAlarmTime,const TAlarmMessage&amp; aMessage,const TAlarmSoundName&amp; aSound,TAlarmClockRepeat aRepeat);</code></p><h4 class="subheading">Description</h4>
<p>Sets a new clock alarm.</p>
<p>Note:</p>
<ul>
<li>
<p>There are 8 clock alarms. To change a clock alarm clients
should over-write the alarm&#8217;s index with the new information.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aClockAlarmIndex</code></td>
<td class="Cell"><p class="ValueDesc">The index of the clock alarm&#0160;&#8212; range 0 -
7.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TTime&amp; aAlarmTime</code></td>
<td class="Cell"><p class="ValueDesc">The alarm activation time.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TAlarmMessage&amp; aMessage</code></td>
<td class="Cell"><p class="ValueDesc">The text message associated with the alarm.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TAlarmSoundName&amp; aSound</code></td>
<td class="Cell"><p class="ValueDesc">The name of the sound file to be played when the alarm
activates.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TAlarmClockRepeat aRepeat</code></td>
<td class="Cell"><p class="ValueDesc">The alarm repetition rate.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aSetSessionAlarm%28%29"></a>
<hr size="1" noshade>
<h3><code>SetSessionAlarm()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetSessionAlarm(TRequestStatus&amp; aStatus,const TTime&amp; aAlarmTime,const TAlarmMessage&amp; aMessage,const TAlarmSoundName&amp; aSound,const TTime&amp; aDueDateTime,TSessionType aType);</code></p><h4 class="subheading">Description</h4>
<p>Sets the session alarm.</p>
<p>Notes:</p>
<ul>
<li>
<p>Each session can only have one session alarm.</p>
</li>
<li>
<p>To update the alarm settings, the session alarm must be
cancelled and this function re-posted with the new information.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRequestStatus&amp; aStatus</code></td>
<td class="Cell"><p class="ValueDesc">A variable that indicates the completion status of the
request.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TTime&amp; aAlarmTime</code></td>
<td class="Cell"><p class="ValueDesc">The alarm date and time. This is the time that the alarm is
next expected to activate. This is initially the same as the due time.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TAlarmMessage&amp; aMessage</code></td>
<td class="Cell"><p class="ValueDesc">The alarm message.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TAlarmSoundName&amp; aSound</code></td>
<td class="Cell"><p class="ValueDesc">The name of the sound file to play when the alarm
activates.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TTime&amp; aDueDateTime</code></td>
<td class="Cell"><p class="ValueDesc">The alarm due date and time. This is the time that the alarm
was/is due. When setting the alarm this should be the same as
<code>aAlarmTime</code>.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TSessionType aType</code></td>
<td class="Cell"><p class="ValueDesc">The type of session alarm.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.5"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aCancelSessionAlarm%28%29"></a>
<hr size="1" noshade>
<h3><code>CancelSessionAlarm()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void CancelSessionAlarm();</code></p><h4 class="subheading">Description</h4>
<p>Cancels the outstanding session alarm, placed using the
<code>SetSessionAlarm()</code> function.</p>
<a name="2.9.6"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aOrphanSessionAlarm%28%29"></a>
<hr size="1" noshade>
<h3><code>OrphanSessionAlarm()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt OrphanSessionAlarm();</code></p><h4 class="subheading">Description</h4>
<p>Orphans the session alarm. This allows the alarm to be serviced
after the session is closed&nbsp;&#8212; for example, say, when Agenda is
shut down.</p>
<p>Note:</p>
<ul>
<li>
<p>Each session can only have one session alarm, so it is not
necessary to specify an alarm ID.</p>
</li>
</ul>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Notification functions</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aNotifyOnChange%28%29"></a>
<hr size="1" noshade>
<h3><code>NotifyOnChange()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void NotifyOnChange(TRequestStatus&amp; aStatus);</code></p><h4 class="subheading">Description</h4>
<p>Provides sessions with notification when the alarm settings
change, and when the next alarm time should be calculated.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRequestStatus&amp; aStatus</code></td>
<td class="Cell"><p class="ValueDesc">A flag that indicates the completion status of the
request.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10.3"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aNotifyOnChangeCancel%28%29"></a>
<hr size="1" noshade>
<h3><code>NotifyOnChangeCancel()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void NotifyOnChangeCancel();</code></p><h4 class="subheading">Description</h4>
<p>Cancels an &quot;Any change&quot; notification request, placed using the
<code>NotifyOnChange()</code> function.</p>
<a name="2.11"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Alarm quiet periods </h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aQuietPeriodSet%28%29"></a>
<hr size="1" noshade>
<h3><code>QuietPeriodSet()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt QuietPeriodSet(TTimeIntervalMinutes aQuietInterval);</code></p><h4 class="subheading">Description</h4>
<p>Defers all alarm sounds for a given interval.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TTimeIntervalMinutes aQuietInterval</code></td>
<td class="Cell"><p class="ValueDesc">The time interval for which all alarm sounds are to be
deferred.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise another of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.3"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aQuietPeriodCancel%28%29"></a>
<hr size="1" noshade>
<h3><code>QuietPeriodCancel()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void QuietPeriodCancel();</code></p><h4 class="subheading">Description</h4>
<p>Cancels the alarm quiet period, set using the
<code>QuietPeriodSet()</code> function.</p>
<a name="2.11.4"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aQuietPeriodUntil%28%29"></a>
<hr size="1" noshade>
<h3><code>QuietPeriodUntil()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TTime QuietPeriodUntil() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the time at which the alarm quiet period will end. </p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TTime</code></td>
<td class="Cell"><p class="ValueDesc">The time at which the alarm is no longer quiet.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.5"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aSetAlarmSoundOn%28%29"></a>
<hr size="1" noshade>
<h3><code>SetAlarmSoundOn()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetAlarmSoundOn(TBool aSetSoundOn);</code></p><h4 class="subheading">Description</h4>
<p>Turns the sound for all alarms on or off.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aSetSoundOn</code></td>
<td class="Cell"><p class="ValueDesc"><code>ETrue</code> = sounds on, <code>EFalse</code> = sounds
off.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Alarm play intervals</h2>
</div><div class="Bodytext">
<a name="2.12.2"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aSetAlarmPlayIntervals%28%29"></a>
<hr size="1" noshade>
<h3><code>SetAlarmPlayIntervals()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt SetAlarmPlayIntervals(const CArrayFix&lt;TAlmSoundPlay&gt;&amp; aIntervals);</code></p><h4 class="subheading">Description</h4>
<p>Sets the list of alarm intervals.</p>
<p>Alarm intervals consist of a duration and an offset. The
duration is the number of seconds the alarm sound plays. The offset is the
number of minutes between the alarm being activated and the alarm sound
beginning to play. The offset of the first interval must be zero, so that the
alarm sound will play as soon as the alarm activates. The alarm server sorts
the list of intervals in ascending order of offset. So, there must be one item
in the list whose offset value is zero, but this does not have to be the first
item in the list. </p>
<p>For example, if the sound array contains intervals of {0, 1, 2,
4, 10, 20} and durations of {30, 30, 30, 30, 30, 30}, then assuming the alarm
expires at 9:00, then the sound will play at the following times:</p>
<ul>
<li>
<p>9:00.00 -&gt; 9:00.30 </p>
</li>
<li>
<p>9:01.00 -&gt; 9:01.30 </p>
</li>
<li>
<p>9:02.00 -&gt; 9:02.30 </p>
</li>
<li>
<p>9:04.00 -&gt; 9:04.30 </p>
</li>
<li>
<p>9:10.00 -&gt; 9:10.30 </p>
</li>
<li>
<p>9:20.00 -&gt; 9:20.30</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
CArrayFix&lt;TAlmSoundPlay&gt;&amp;
aIntervals</code></td>
<td class="Cell"><p class="ValueDesc">An array that contains one or more alarm intervals. There must
be one interval in the array with an offset of zero.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">An error code. <code>KErrNone</code> if successful, otherwise
one of the standard error codes. <code>KErrArgument</code> is returned if
<code>aIntervals</code> is empty, or if it does not contain an element with an
offset of zero.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>The alarm server defines a default alarm play
interval list, so that this function only needs to be called in order to change
the default behaviour.</note></li>
</ul>
<a name="2.12.3"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aGetAlarmPlayIntervalsL%28%29"></a>
<hr size="1" noshade>
<h3><code>GetAlarmPlayIntervalsL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GetAlarmPlayIntervalsL(CArrayFix&lt;TAlmSoundPlay&gt;&amp; aIntervals);</code></p><h4 class="subheading">Description</h4>
<p>Gets the list of alarm intervals.</p>
<p>The list of alarm intervals is managed by the alarm server.
They are stored in ascending order of offset.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CArrayFix&lt;TAlmSoundPlay&gt;&amp;
aIntervals</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the list of alarm intervals.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> if successful, otherwise one of the
standard error codes.</p></td>
</tr>
</table></td></tr></table>
<a name="2.13"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Enumerations</h2>
</div><div class="Bodytext">
<a name="2.13.2"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aTSessionType"></a>
<hr size="1" noshade>
<h3>Enum <code>TSessionType</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TSessionType</code></p><h4 class="subheading">Description</h4>
<p>Specifies whether a session alarm is for a timed or an untimed
event. The alarm type is set using the
<code>RAlarmServer::SetSessionAlarm()</code> function.</p>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aESessionTypeDay"><code class="Value">ESessionTypeDay</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>The alarm is an untimed event. In Agenda, this corresponds to
an untimed day entry.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aESessionTypeTimed"><code class="Value">ESessionTypeTimed</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>The alarm is a timed event. In Agenda, this is associated
with a timed entry, and remains linked to it.</para>
</p></td>
</tr>
</table></td></tr></table>
<a name="2.13.3"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aTArrayCategory"></a>
<hr size="1" noshade>
<h3>Enum <code>TArrayCategory</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TArrayCategory</code></p><h4 class="subheading">Description</h4>
<p>Defines the type of alarms to be put into an array. This
enumeration is used by the <code>AlarmArrayPopulateL()</code> function.</p>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aEArrayNext"><code class="Value">EArrayNext</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>The array is to contain pending alarms, including clock
alarms, session alarms, orphaned alarms and snoozed alarms.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aEArrayReview"><code class="Value">EArrayReview</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>The array is to contain review alarms.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aEArrayOrphan"><code class="Value">EArrayOrphan</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>The array is to contain orphaned alarms. This will also
include all snoozed alarms.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aEArraySnooze"><code class="Value">EArraySnooze</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>The array is to contain snoozed alarms.</para>
</p></td>
</tr>
</table></td></tr></table>
<a name="2.13.4"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aTInfoCategory"></a>
<hr size="1" noshade>
<h3>Enum <code>TInfoCategory</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInfoCategory</code></p><h4 class="subheading">Description</h4>
<p>Defines the category of alarms for which information is
required. This enumeration is used by the
<code>RAlarmServer::AlarmInfo()</code> function. </p>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aEInfoById"><code class="Value">EInfoById</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Get information for the alarm with the specified
ID&#0160;&#8212; irrespective of type.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aEInfoClock"><code class="Value">EInfoClock</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Get information for one of the 8 clock alarms.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aEInfoNext"><code class="Value">EInfoNext</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Get information for the next alarm which is
due&#0160;&#8212; irrespective of type.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aEInfoSession"><code class="Value">EInfoSession</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Get information for a session alarm.</para>
</p></td>
</tr>
</table></td></tr></table>
<a name="2.13.5"></a></div><div class="Head3">
<a name="%3a%3aRAlarmServer%3a%3aTCountCategory"></a>
<hr size="1" noshade>
<h3>Enum <code>TCountCategory</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TCountCategory</code></p><h4 class="subheading">Description</h4>
<p>Defines the category of the alarms to be counted using the
<code>RAlarmServer::AlarmCount()</code> function.</p>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aECountNext"><code class="Value">ECountNext</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Count the number of pending alarms.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aECountReview"><code class="Value">ECountReview</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Count the number of review alarms.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aECountOrphan"><code class="Value">ECountOrphan</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Count the number of orphaned alarms.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aECountSnooze"><code class="Value">ECountSnooze</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Count the number of snoozed alarms.</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aRAlarmServer%3a%3aECountUnacknowledged"><code class="Value">ECountUnacknowledged</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Count the number of unacknowledged alarms.</para>
</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
