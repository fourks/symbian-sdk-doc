<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>HBufC16</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="AboutDescriptors.guide.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="HBufC8Class.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Descriptors</a>&nbsp;<span class="separator">&#187;</span>
HBufC16</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>e32des16.h</code>
<br>Link against: <code>euser.lib</code>
<br>Link against: <code>estor.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aHBufC16"></a>

<h1>Class <code>HBufC16</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC16</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>16 bit heap descriptor. This is a descriptor class which provides a
buffer of fixed length, allocated on the heap, for containing and accessing
data.</p>
<p>The class intended for instantiation. The 16 bit data that the
descriptor represents is part of the descriptor object itself.</p>
<p>Heap descriptors have the important property that they can be made
larger or smaller, changing the size of the data area. This is achieved by
reallocating the descriptor. Unlike the behaviour of dynamic buffers,
reallocation is not done automatically.</p>
<p>Data is intended to be accessed, but not modified; however, it can
be completely replaced using the assignment operators of this class. The base
class provides the functions through which the data is
accessed.</p><h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code>HBufC16</code></td><td class="Cell">16 bit heap descriptor</td>
</tr>
<tr><td class="Cell"><code><a href="TBufCBase16Class.html#%3a%3aTBufCBase16">TBufCBase16</a></code></td><td class="Cell">Base class used in the derivation of TBufC16, TBufC and HBufC16</td>
</tr>
<tr><td class="Cell"><code><a href="TDesC16Class.html#%3a%3aTDesC16">TDesC16</a></code></td><td class="Cell">Abstract base class for 16 bit descriptors</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>HBufC16</code>:
<br><code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aDes%28%29" title="Creates and returns a 16 bit modifiable pointer descriptor for the data represented by this 16 bit heap descriptor">Des()</a></code>, <code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aNew%28%29" title="Create heap descriptor">New()</a></code>, <code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aNewL%28%29" title="Constructs, and returns a pointer to, a new 16 bit heap descriptor that has the specified maximum length; leaves on failure">NewL()</a></code>, <code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aNewLC%28%29" title="Constructs, adds the pointer onto the cleanup stack and returns a pointer to, a new 16 bit heap descriptor that has the specified maximum length; leaves on failure">NewLC()</a></code>, <code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aNewMax%28%29" title="Constructs, and returns a pointer to, a new 16 bit heap descriptor that has the specified maximum length">NewMax()</a></code>, <code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aNewMaxL%28%29" title="Constructs, and returns a pointer to, a new 16 bit heap descriptor that has the specified maximum length; leaves on failure">NewMaxL()</a></code>, <code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aNewMaxLC%28%29" title="Create heap descriptor; leave on failure; add to cleanupstack">NewMaxLC()</a></code>, <code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aReAlloc%28%29" title="Expands or contracts this 16 bit heap descriptor">ReAlloc()</a></code>, <code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aReAllocL%28%29" title="Expands or contracts this 16 bit heap descriptor; leaves on failure">ReAllocL()</a></code>, <code class="ApiItem"><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aoperator%3d%28%29" title="Copy and replace data">operator=()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16" title="Abstract base class for 16 bit descriptors">TDesC16</a></code>:
<br><code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aAlloc%28%29" title="Creates an HBufC initialised with this descriptor data">Alloc()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aAllocL%28%29" title="Creates an HBufC initialised with this descriptor data; leaves on failure">AllocL()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aAllocLC%28%29" title="Creates an HBufC initialised with this descriptor data; leaves on failure; uses the cleanupstack">AllocLC()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aCompare%28%29" title="Compares this descriptor's data with the specified descriptor's data">Compare()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aCompareC%28%29" title="Compares data using collation rule set identified by a UID">CompareC()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aCompareF%28%29" title="Compares folded data">CompareF()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aFind%28%29" title="Finds data">Find()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aFindC%28%29" title="Finds data; collated">FindC()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aFindF%28%29" title="Finds data; folded">FindF()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aLeft%28%29" title="Extracts the leftmost part of the data">Left()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aLength%28%29" title="Returns the length of the data">Length()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aLocate%28%29" title="Searches for a character in forwards direction">Locate()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aLocateF%28%29" title="Searches for a character in forwards direction; folded">LocateF()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aLocateReverse%28%29" title="Searches for a character in backwards direction">LocateReverse()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aLocateReverseF%28%29" title="Searches for a character in backwards direction; folded">LocateReverseF()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aMatch%28%29" title="Pattern-matches data">Match()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aMatchC%28%29" title="Pattern-matches data; collated">MatchC()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aMatchF%28%29" title="Pattern-matches data; folded">MatchF()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aMid%28%29" title="Extracts a portion of the data">Mid()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aPtr%28%29" title="Returns a pointer to the data represented by the descriptor">Ptr()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aRight%28%29" title="Extracts the rightmost part of the data">Right()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aSize%28%29" title="Returns the size of the data">Size()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aoperator%21%3d%28%29" title="Determines whether this descriptor's data is not equal to the specified descriptor's data">operator!=()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aoperator%3c%28%29" title="Determines whether this descriptor's data is less than the specified descriptor's data">operator&lt;()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aoperator%3c%3d%28%29" title="Determines whether this descriptor's data is less than or equal to the specified descriptor's data">operator&lt;=()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aoperator%3d%3d%28%29" title="Determines whether this descriptor's data is equal to the specified descriptor's data">operator==()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aoperator%3e%28%29" title="Determines whether this descriptor's data is greater than the specified descriptor's data">operator&gt;()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aoperator%3e%3d%28%29" title="Determines whether this descriptor's data is greater than or equal to the specified descriptor's data">operator&gt;=()</a></code>,
<code class="ApiItem"><a href="TDesC16Class.html#%3a%3aTDesC16%3a%3aoperator%5b%5d%28%29" title="Subscript operator">operator[]()</a></code></p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="TPtr16Class.html#%3a%3aTPtr16" title="16 bit modifiable pointer descriptor"><code class="ApiItem">TPtr16</code></a></li>
<li><a href="TDesC16Class.html#%3a%3aTDesC16" title="Abstract base class for 16 bit descriptors"><code class="ApiItem">TDesC16</code></a></li>
</ul>
<a name="2.7"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aNew%28%29"></a>
<hr size="1" noshade>
<h3><code>New()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static HBufC16* New(TInt aMaxLength);</code></p><h4 class="subheading">Description</h4>
<p>Create heap descriptor. Constructs, and returns a pointer to, a
new 16 bit heap descriptor that has the specified maximum length.</p>
<p>The heap descriptor is empty and its length is zero.</p>
<p>Data can, subsequently, be assigned into it using the
assignment operators.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMaxLength</code></td>
<td class="Cell"><p class="ValueDesc">The maximum length of data that the descriptor can represent.
This value must be non-negative otherwise the function raises a USER 18
panic.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the new 16 bit heap descriptor.<code>NULL</code>,
if the 16 bit heap descriptor cannot be created.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aoperator%3d%28%29" title="Copy and replace data"><code class="ApiItem">HBufC16::operator=()</code></a></li>
</ul>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aNewL%28%29"></a>
<hr size="1" noshade>
<h3><code>NewL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static HBufC16* NewL(TInt aMaxLength);<br>static HBufC16* NewL(RReadStream&amp; aStream,TInt aMaxLength);</code></p><h4 class="subheading">Description</h4>
<p>Constructs, and returns a pointer to, a new 16 bit heap
descriptor that has the specified maximum length; leaves on failure.</p>
<p>Data can be assigned to the new descriptor from the specified
stream. This variant assumes that the stream contains both the length of the
data followed by the data itself.</p>
<p>The heap descriptor is empty when the non-streamed variant
function is used and its length is zero. Data can, subsequently, be assigned
into it using the assignment operators.</p>
<p>To use the streamed variant, project files must also link against
estor.lib.</p><p>Note that the resulting length of the descriptor's data area may be larger than specified, depending on the way memory allocation is implemented, but is guaranteed to be not less than that requested.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMaxLength</code></td>
<td class="Cell"><p class="ValueDesc">The maximum length of data that the descriptor can represent.
This value must be non-negative otherwise the function raises a USER 18
panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RReadStream&amp; aStream</code></td>
<td class="Cell"><p class="ValueDesc">The stream from which the length of the new descriptor and the
data to be assigned to the new descriptor, are taken.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the new 16 bit heap descriptor. The function leaves,
if the new 16 bit heap descriptor cannot be created. The streamed variant
leaves with <code>KErrOverflow</code> if the length of the new descriptor is
greater than the maximum length.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aoperator%3d%28%29" title="Copy and replace data"><code class="ApiItem">HBufC16::operator=()</code></a></li>
</ul>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aNewLC%28%29"></a>
<hr size="1" noshade>
<h3><code>NewLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static HBufC16* NewLC(TInt aMaxLength);<br>static HBufC16* NewLC(RReadStream &amp;aStream,TInt aMaxLength);</code></p><h4 class="subheading">Description</h4>
<p>Constructs, adds the pointer onto the cleanup stack and returns a
pointer to, a new 16 bit heap descriptor that has the specified maximum length;
leaves on failure.</p>
<p>Data can be assigned to the new descriptor from the specified
stream. This variant assumes that the stream contains both the length of the
data followed by the data itself.</p>
<p>The heap descriptor is empty when the non-streamed variant function
is used and its length is zero. Data can, subsequently, be assigned into it
using the assignment operators.</p>
<p>To use the streamed variant, project files must also link against
estor.lib.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMaxLength</code></td>
<td class="Cell"><p class="ValueDesc">The maximum length of data that the descriptor can represent. This
value must be non-negative otherwise the function raises a USER 18
panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RReadStream&amp; aStream</code></td>
<td class="Cell"><p class="ValueDesc">The stream from which the length of the new descriptor and the data
to be assigned to the new descriptor, are taken.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the new 16 bit heap descriptor. This is also put onto
the cleanup stack. The function leaves, if the new 16 bit heap descriptor
cannot be created. The streamed variant leaves with <code>KErrOverflow</code>
if the length of the new descriptor is greater than the maximum length.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aoperator%3d%28%29" title="Copy and replace data"><code class="ApiItem">HBufC16::operator=()</code></a></li>
</ul>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aNewMax%28%29"></a>
<hr size="1" noshade>
<h3><code>NewMax()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static HBufC16* NewMax(TInt aMaxLength);</code></p><h4 class="subheading">Description</h4>
<p>Constructs, and returns a pointer to, a new 16 bit heap descriptor
that has the specified maximum length.</p>
<p>No data is assigned into the new descriptor but its length is set to
the same value as the specified maximum length.</p>
<p>Data can, subsequently, be assigned into it using the assignment
operators.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMaxLength</code></td>
<td class="Cell"><p class="ValueDesc">The maximum length of data that the descriptor can represent. This
value must be non-negative otherwise the function raises a USER 18
panic.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the new 16 bit heap descriptor.<code>NULL</code>, if the
new 16 bit heap descriptor cannot be created.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aoperator%3d%28%29" title="Copy and replace data"><code class="ApiItem">HBufC16::operator=()</code></a></li>
</ul>
<a name="2.7.6"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aNewMaxL%28%29"></a>
<hr size="1" noshade>
<h3><code>NewMaxL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static HBufC16* NewMaxL(TInt aMaxLength);</code></p><h4 class="subheading">Description</h4>
<p>Constructs, and returns a pointer to, a new 16 bit heap descriptor that
has the specified maximum length; leaves on failure.</p>
<p>No data is assigned into the new descriptor but its length is set to
the same value as the specified maximum length.</p>
<p>Data can, subsequently, be assigned into it using the assignment
operators.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMaxLength</code></td>
<td class="Cell"><p class="ValueDesc">The maximum length of data that the descriptor can represent. This
value must be non-negative otherwise the function raises a USER 18
panic.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the new 16 bit heap descriptor. The function leaves, if
the new 16 bit heap descriptor cannot be created.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aoperator%3d%28%29" title="Copy and replace data"><code class="ApiItem">HBufC16::operator=()</code></a></li>
</ul>
<a name="2.7.7"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aNewMaxLC%28%29"></a>
<hr size="1" noshade>
<h3><code>NewMaxLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static HBufC16* NewMaxLC(TInt aMaxLength);</code></p><h4 class="subheading">Description</h4>
<p>Create heap descriptor; leave on failure; add to cleanupstack.
Constructs, adds the pointer onto the cleanup stack and returns a pointer to, a
new 16 bit heap descriptor that has the specified maximum length; leaves on
failure.</p>
<p>No data is assigned into the new descriptor but its length is set to the
same value as the specified maximum length.</p>
<p>Data can, subsequently, be assigned into it using the assignment
operators.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMaxLength</code></td>
<td class="Cell"><p class="ValueDesc">The maximum length of data that the descriptor can represent. This value
must be non-negative otherwise the function raises a USER 18 panic.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the new 16 bit heap descriptor. This is also put onto the
cleanup stack. The function leaves, if the new 16 bit heap descriptor cannot be
created.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="HBufC16Class.html#%3a%3aHBufC16%3a%3aoperator%3d%28%29" title="Copy and replace data"><code class="ApiItem">HBufC16::operator=()</code></a></li>
</ul>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Expansion and contraction</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aReAlloc%28%29"></a>
<hr size="1" noshade>
<h3><code>ReAlloc()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC16* ReAlloc(TInt aMaxLength);</code></p><h4 class="subheading">Description</h4>
<p>Expands or contracts this 16 bit heap descriptor.</p>
<p>This is done by:</p>
<ul>
<li>
<p>creating a new heap descriptor.</p>
</li>
<li>
<p>copying the original data into the new descriptor.</p>
</li>
<li>
<p>deleting the original descriptor.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMaxLength</code></td>
<td class="Cell"><p class="ValueDesc">The maximum length of data that the new descriptor is to represent. This
value must be non-negative otherwise the function raises a USER 18 panic. This
value must not be less than the length of the data otherwise the function
raises a USER 14 panic.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the new expanded or contracted 16 bit heap descriptor. The
original descriptor is deleted.<code>NULL</code>, if the new 16 bit heap
descriptor cannot be created. The original descriptor remains unchanged.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aReAllocL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReAllocL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC16* ReAllocL(TInt aMaxLength);</code></p><h4 class="subheading">Description</h4>
<p>Expands or contracts this 16 bit heap descriptor; leaves on
failure.</p>
<p>This is done by:</p>
<ul>
<li>
<p>creating a new heap descriptor.</p>
</li>
<li>
<p>copying the original data into the new descriptor.</p>
</li>
<li>
<p>deleting the original descriptor.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aMaxLength</code></td>
<td class="Cell"><p class="ValueDesc">The maximum length of data that the new descriptor is to represent. This
value must be non-negative otherwise the function raises a USER 18 panic. This
value must not be less than the length of the data otherwise the function
raises a USER 14 panic.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the new expanded or contracted 16 bit heap descriptor. The
original descriptor is deleted. The function leaves, if the new 16 bit heap
descriptor cannot be created. The original descriptor remains unchanged.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Copying data, replacing existing data</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aoperator%3d%28%29"></a>
<hr size="1" noshade>
<h3><code>operator=()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC16&amp; operator=(const HBufC16&amp; aLcb);<br>HBufC16&amp; operator=(const TDesC16&amp; aDes);<br>HBufC16&amp; operator=(const TUint16* aString);</code></p><h4 class="subheading">Description</h4>
<p>Copy and replace data. Copies data into this 16 bit heap descriptor
replacing any existing data. The length of this descriptor is set to reflect
the new data.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const HBufC16&amp; aLcb</code></td>
<td class="Cell"><p class="ValueDesc">The source 16 bit heap descriptor. The length of the data must not be
greater than the length of the target descriptor otherwise the operator raises
a USER 11 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC16&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">An 16 bit non-modifiable descriptor. The length of the data cannot be
greater than the maximum length of the target descriptor otherwise the function
raises a USER 11 panic.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TUint16* aString</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a zero-terminated string. The length of the string,
excluding the zero terminator, must not be greater than the maximum length of
the target descriptor, otherwise the function raises a USER 11 panic.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16&amp;</code></td>
<td class="Cell"><p class="ValueDesc">A reference to this 16 bit heap descriptor.</p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Create a modifiable pointer descriptor for the data</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aHBufC16%3a%3aDes%28%29"></a>
<hr size="1" noshade>
<h3><code>Des()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TPtr16 Des();</code></p><h4 class="subheading">Description</h4>
<p>Creates and returns a 16 bit modifiable pointer descriptor for the data
represented by this 16 bit heap descriptor.</p>
<p>The content of a heap descriptor normally cannot be altered, other than
by complete replacement of the data. Creating a modifiable pointer descriptor
provides a way of changing the data.</p>
<p>The modifiable pointer descriptor is set to point to this heap
descriptor's data.</p>
<p>The length of the modifiable pointer descriptor is set to the length of
this heap descriptor.</p>
<p>The maximum length of the modifiable pointer descriptor is set to the
length of the heap descriptor's data area.</p>
<p>When data is modified through this new pointer descriptor, the lengths of
both it and this heap descriptor are changed.</p><p>Note that it is a common mistake to use <code>Des()</code>  to create a  <code>TDesC16&amp;</code> reference. While not incorrect, it is simpler and much more efficient to simply dereference the heap descriptor.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TPtr16</code></td>
<td class="Cell"><p class="ValueDesc">A 16 bit modifiable pointer descriptor representing the data in this 16
bit heap descriptor.</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
