<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CCoeEnv</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CCoeControlClass.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CCoeStaticClass.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">UI&nbsp;Control&nbsp;Framework</a>&nbsp;<span class="separator">&#187;</span>
CCoeEnv</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>coemain.h</code>
<br>Link against: <code>cone.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aCCoeEnv"></a>

<h1>Class <code>CCoeEnv</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CCoeEnv</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Control environment.</p>
<p><code>CCoeEnv</code> provides an active environment for creating
controls. It implements active objects and an active scheduler, which provide
access to the window server, simplifying the API for application programs. It
also provides utility functions that are useful to many applications.</p>
<p>When a standard event occurs, the active scheduler calls
<code>CCoeEnv::RunL()</code>. When a redraw event occurs, it calls
<code>CCoeRedrawer::RunL()</code>. Priority key events must be accessed using
the Window Server API directly.</p>
<p>Note:</p>
<ul>
<li>
<p>Standard events are all events except redraw events and
priority key events.</p>
</li>
</ul>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive">CActive</a></code></td><td class="Cell">The core class of the active object abstraction</td>
</tr>
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CCoeEnv</code></td><td class="Cell">Control environment</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CCoeEnv</code>:
<br><code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddFepObserverL%28%29" title="Adds the specified MCoeFepObserver to the FEP observer list">AddFepObserverL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddFocusObserverL%28%29" title="Adds the specified MCoeFocusObserver to the focus observer list">AddFocusObserverL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddForegroundObserverL%28%29" title="Adds the specified MCoeForegroundObserver to the foreground observer list">AddForegroundObserverL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddMessageObserverL%28%29" title="Adds the specified MCoeMessageObserver to the message observer list">AddMessageObserverL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddObserverOfLoadedFepL%28%29" title="Adds the specified MCoeObserverOfLoadedFep to the loaded FEP list">AddObserverOfLoadedFepL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddResourceFileL%28%29" title="Adds the specified resource file to the list maintained by CCoeEnv">AddResourceFileL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAllocReadResourceAsDes16L%28%29" title="Reads a resource into a 16 bit heap buffer — allocating the buffer">AllocReadResourceAsDes16L()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAllocReadResourceAsDes16LC%28%29" title="Reads a resource into a 16 bit heap buffer — allocating the buffer and pushing it onto the cleanup stack">AllocReadResourceAsDes16LC()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAllocReadResourceAsDes8L%28%29" title="Reads a resource into an 8 bit heap buffer — allocating the buffer">AllocReadResourceAsDes8L()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAllocReadResourceAsDes8LC%28%29" title="Reads a resource into an 8 bit heap buffer — allocating the buffer and pushing it onto the cleanup stack">AllocReadResourceAsDes8LC()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAllocReadResourceL%28%29" title="Reads a specified resource into a heap descriptor, allocating memory for the descriptor">AllocReadResourceL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAllocReadResourceLC%28%29" title="Reads a specified resource into a heap descriptor, allocating memory for the descriptor, and pushing the descriptor onto the cleanup stack">AllocReadResourceLC()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAppUi%28%29" title="Gets the application UI owned by this application">AppUi()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aBringOwnerToFront%28%29" title="Brings the application's owning window group to the front of the screen and gives it keyboard focus">BringOwnerToFront()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aCCoeEnv%28%29" title="Default constructor">CCoeEnv()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aConstructL%28%29" title="Completes the construction of the CCoeEnv">ConstructL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aCreateDeviceFontL%28%29" title="Creates a font for the specified graphics device">CreateDeviceFontL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aCreateGcL%28%29" title="Fully constructs a new graphics context">CreateGcL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aCreateResourceReaderLC%28%29" title="Reads a resource from a resource file and sets its resource reader">CreateResourceReaderLC()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aCreateScreenFontL%28%29" title="Creates a font for the default graphics device, based on the specified TFontSpec">CreateScreenFontL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aDeleteResourceFile%28%29" title="Deletes the specified resource file from the list maintained by CCoeEnv">DeleteResourceFile()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aDestroyEnvironment%28%29" title="Deletes several resources owned by the CCoeEnv object">DestroyEnvironment()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aDestroyScreen%28%29" title="Destroys screen device">DestroyScreen()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aDisableExitChecks%28%29" title="Disables exit checks on kernel resources">DisableExitChecks()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aErrorContextText%28%29" title="Gets the current error context text">ErrorContextText()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aErrorText%28%29" title="Gets the current error message text">ErrorText()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aExecuteD%28%29" title="Launches the application">ExecuteD()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aExecuteFepSettingsDialogL%28%29" title="Executes the settings dialog of the specified FEP">ExecuteFepSettingsDialogL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aFep%28%29" title="Gets a pointer the currently loaded FEP">Fep()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aFepUid%28%29" title="Gets the UID of the currently loaded FEP">FepUid()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aFileNamesOfAvailableFepsL%28%29" title="Gets an array of the file-names of all the FEPs that are currently on the machine">FileNamesOfAvailableFepsL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aFlush%28%29" title="Flushes the client-side window server buffer">Flush()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aForEachFepObserverCall%28%29" title="Calls specified function for observers">ForEachFepObserverCall()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aFormat128%28%29" title="Reads a 128 byte resource into a formatted string">Format128()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aFormat256%28%29" title="Reads a 256 byte resource into a formatted string">Format256()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aFsSession%28%29" title="Gets the file server session owned by this CCoeEnv">FsSession()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aHandleError%28%29" title="Handles an application-defined error message">HandleError()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aInitSystemFontsL%28%29" title="Initialises system fonts">InitSystemFontsL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aInputCapabilitiesChanged%28%29" title="Notifies all focus observers (FEPs) that a change has been made to the input capabilities of the focussed control">InputCapabilitiesChanged()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aInstallFepL%28%29" title="Loads the specified FEP into all running applications">InstallFepL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aIsRedrawEventPending%28%29" title="Tests if there is a redraw event waiting to be processed">IsRedrawEventPending()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aIsWservEventPending%28%29" title="Tests if there is a standard event waiting to be processed">IsWservEventPending()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aLastEvent%28%29" title="Gets the most recent standard event that was received by the application">LastEvent()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aLeaveWithErrorText%28%29" title="Displays an error message and context text and then calls User::Leave() with a leave code of KErrExtendedWithText">LeaveWithErrorText()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aNameOfInstalledFepL%28%29" title="Gets the name of the currently loaded FEP">NameOfInstalledFepL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aNormalFont%28%29" title="Gets the normal environment font">NormalFont()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aPrepareToExit%28%29" title="Prepares for the exit of the application">PrepareToExit()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aReadDesC16ArrayResourceL%28%29" title="Reads a resource into a 16 bit descriptor array">ReadDesC16ArrayResourceL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aReadDesC8ArrayResourceL%28%29" title="Reads a resource into an 8 bit descriptor array">ReadDesC8ArrayResourceL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aReadDesCArrayResourceL%28%29" title="Reads a resource into a build-independent descriptor array">ReadDesCArrayResourceL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aReadResource%28%29" title="Reads a resource into a descriptor">ReadResource()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aReadResourceAsDes16%28%29" title="Reads a resource into a 16 bit descriptor">ReadResourceAsDes16()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aReadResourceAsDes8%28%29" title="Reads a resource into an 8 bit descriptor">ReadResourceAsDes8()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aReleaseScreenFont%28%29" title="Frees all resources used by the font">ReleaseScreenFont()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aRemoveFepObserver%28%29" title="Removes the specified FEP observer">RemoveFepObserver()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aRemoveFocusObserver%28%29" title="Removes the specified focus observer">RemoveFocusObserver()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aRemoveForegroundObserver%28%29" title="Removes the specified foreground observer">RemoveForegroundObserver()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aRemoveMessageObserver%28%29" title="Remove the specified MCoeMessageObserver from the message observer list">RemoveMessageObserver()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aRemoveObserverOfLoadedFep%28%29" title="Remove the specified loaded FEP observer">RemoveObserverOfLoadedFep()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aResourceFileVersionNumber%28%29" title="Gets the resource file version number">ResourceFileVersionNumber()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aRootWin%28%29" title="Gets the application's window group">RootWin()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aScreenDevice%28%29" title="Gets the default screen device owned by this CCoeEnv">ScreenDevice()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aSetAppUi%28%29" title="Sets the application's user interface object">SetAppUi()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aSimulateKeyEventL%28%29" title="Simulates a key event">SimulateKeyEventL()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aStatic%28%29" title="Gets a pointer to the specified CCoeStatic derived class">Static()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aSuppressNextFlush%28%29" title="Suppresses the next flush of the active scheduler queue">SuppressNextFlush()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aSwapSystemGc%28%29" title="Sets the new system graphics context">SwapSystemGc()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aSystemGc%28%29" title="Gets the system graphics context">SystemGc()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aVersion%28%29" title="Gets the version number of the UI Control Framework API">Version()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aWsSession%28%29" title="Gets the window server session owned by the application">WsSession()</a></code>, <code class="ApiItem"><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3a%7eCCoeEnv%28%29" title="Destructor">~CCoeEnv()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive" title="The core class of the active object abstraction">CActive</a></code>:
<br><code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aCancel%28%29" title="Cancels the wait for completion of an outstanding request">Cancel()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aDeque%28%29" title="Removes the active object from the active scheduler's list of active objects">Deque()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aDoCancel%28%29" title="Implements cancellation of an outstanding request">DoCancel()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityHigh" title="A priority higher than EPriorityUserInput">EPriorityHigh</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityIdle" title="A low priority, useful for active objects representing background processing">EPriorityIdle</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityLow" title="A priority higher than EPriorityIdle but lower thanEPriorityStandard">EPriorityLow</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityStandard" title="Most active objects will have this priority">EPriorityStandard</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aEPriorityUserInput" title="A priority higher than EPriorityStandard; useful for active objects handling user input">EPriorityUserInput</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aIsActive%28%29" title="Determines whether the active object has a request outstanding">IsActive()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aIsAdded%28%29" title="Determines whether the active object has been added to the active scheduler's list of active objects">IsAdded()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aPriority%28%29" title="Returns the priority of the active object">Priority()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aRunError%28%29" title="Handles a leave occurring in the request completion event handlerRunL()">RunError()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aRunL%28%29" title="Handles an active object's request completion event">RunL()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aSetActive%28%29" title="Indicates that the active object has issued a request and that it is now outstanding">SetActive()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aSetPriority%28%29" title="Sets the priority of the active object">SetPriority()</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aTPriority" title="Defines standard priorities for active objects">TPriority</a></code>,
<code class="ApiItem"><a href="../AsynchronousServices/CActiveClass.html#%3a%3aCActive%3a%3aiStatus" title="The request status associated with an asynchronous request">iStatus</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<h4 class="subheading">Description</h4>
<p>Standard GUI applications do not generally need to use the
functions in this section, as they are encapsulated within
<code>CEikonEnv</code>.</p>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aCCoeEnv%28%29"></a>
<hr size="1" noshade>
<h3><code>CCoeEnv()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CCoeEnv();</code></p><h4 class="subheading">Description</h4>
<p>Default constructor.</p>
<p>Constructs an incomplete <code>CCoeEnv</code>. Construction of
the <code>CCoeEnv</code> is not complete until <code>ConstructL()</code> has
been called.</p>
<p>This function panics with a category name of <code>CONE</code>,
reason number 2 if the application already owns a <code>CCoeEnv</code>.</p>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aConstructL%28%29"></a>
<hr size="1" noshade>
<h3><code>ConstructL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ConstructL();</code></p><h4 class="subheading">Description</h4>
<p>Completes the construction of the <code>CCoeEnv</code>
object.</p>
<p>Until v5.1, the function fully completed the construction of
the <code>CCoeEnv</code>. It creates an active scheduler, and adds active
objects to it for standard and redraw events. The active scheduler is not
started, however, and no events are received, until <code>ExecuteD()</code> is
called. <code>ConstructL()</code> also does the following:</p>
<ul>
<li>
<p>creates a connection to the window server.</p>
</li>
<li>
<p>creates a connection to the file server so that the control
environment can access resource files.</p>
</li>
<li>
<p>calls <code>InitSystemFontsL()</code></p>
</li>
<li>
<p>creates a graphics context (the system GC), a standard
font, a screen device and the application's window group.</p>
</li>
</ul>
<p>After v5.1 this function changed behaviour, and completes the
construction by calling the function overload (below) — specifying
<code>ETrue</code> as the initial focus state.</p>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aConstructL%28%29"></a>
<hr size="1" noshade>
<h3><code>ConstructL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ConstructL(TBool aInitialFocusState);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Completes the construction of the <code>CCoeEnv</code>. </p>
<p>It is called by the previous constructor
<code>CCoeEnv::ConstructL()</code>, with <code>aInitialFocusState</code> set to
<code>ETrue</code>.</p>
<p>This function creates an active scheduler, and adds active
objects to it for standard and redraw events. The active scheduler is not
started, however, and no events are received, until <code>ExecuteD()</code> is
called. It also does the following:</p>
<ul>
<li>
<p>creates a connection to the window server.</p>
</li>
<li>
<p>creates a connection to the file server so that the CONE
environment can access resource files</p>
</li>
<li>
<p>creates a screen device, the application's window group, a
standard font, and a graphics context (the system GC).</p>
</li>
</ul>
<p>The window group is constructed with the initial focus state
<code>aInitialFocusState</code>, which automatically takes keyboard focus when
it is created. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aInitialFocusState</code></td>
<td class="Cell"><p class="ValueDesc">Window group initial focus state. If <code>ETrue</code>,
keyboard focus is enabled, otherwise keyboard focus is disabled.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.6"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3a%7eCCoeEnv%28%29"></a>
<hr size="1" noshade>
<h3><code>~CCoeEnv()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>~CCoeEnv();</code></p><h4 class="subheading">Description</h4>
<p>Destructor. </p>
<p>This function deletes any resources owned by the
<code>CCoeEnv</code> that were not deleted by
<code>DestroyEnvironment()</code>.</p>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Initialisation and termination</h2>
</div><div class="Bodytext">
<h4 class="subheading">Description</h4>
<p>Standard GUI applications do not generally need to use the
functions in this section, as they are encapsulated within
<code>CEikonEnv</code>.</p>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aExecuteD%28%29"></a>
<hr size="1" noshade>
<h3><code>ExecuteD()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ExecuteD();</code></p><h4 class="subheading">Description</h4>
<p>Launches the application. </p>
<p>This function starts the active scheduler owned by the
<code>CCoeEnv</code>, enabling the application to start receiving events from
the window server. It forms the outer loop of all Control Environment
applications. </p>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aSetAppUi%28%29"></a>
<hr size="1" noshade>
<h3><code>SetAppUi()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CCoeAppUiBase* SetAppUi(CCoeAppUiBase* aAppUi);</code></p><h4 class="subheading">Description</h4>
<p>Sets the application's user interface object.</p>
<p>Standard GUI applications do not need to call this function, as
the framework sets the app UI, during start up, to be the
<code>CEikAppUi</code>-derived object created by the application.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CCoeAppUiBase* aAppUi</code></td>
<td class="Cell"><p class="ValueDesc">The app UI for this application.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CCoeAppUiBase*</code></td>
<td class="Cell"><p class="ValueDesc">The app UI previously owned by this application, or NULL if
this is the first time its app UI has been set.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAppUi%28%29"></a>
<hr size="1" noshade>
<h3><code>AppUi()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CCoeAppUiBase* AppUi() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the application UI owned by this application.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CCoeAppUiBase*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to the app UI owned by the application.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.6"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aInitSystemFontsL%28%29"></a>
<hr size="1" noshade>
<h3><code>InitSystemFontsL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>private: virtual void InitSystemFontsL();</code></p><h4 class="subheading">Description</h4>
<p>Initialises system fonts.</p>
<p>This function is called by <code>ConstructL()</code> during the
construction of a <code>CCoeEnv</code>. The default implementation creates only
the notmal control environment font, but this function may be overridden to
create other fonts.</p>
<a name="2.7.7"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aPrepareToExit%28%29"></a>
<hr size="1" noshade>
<h3><code>PrepareToExit()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void PrepareToExit();</code></p><h4 class="subheading">Description</h4>
<p>Prepares for the exit of the application. </p>
<p>The function is called from <code>ExecuteD()</code> after the
active scheduler's wait loop terminates, but before the environment is
destroyed.</p>
<a name="2.7.8"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aDestroyEnvironment%28%29"></a>
<hr size="1" noshade>
<h3><code>DestroyEnvironment()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void DestroyEnvironment();</code></p><h4 class="subheading">Description</h4>
<p>Deletes several resources owned by the <code>CCoeEnv</code>
object.</p>
<p> This includes; the app UI, the system GC, and the active
object which receives redraw events. It also closes the window group, the
connection to the window server, and the connection to the file server.</p>
<p>The function is called from <code>ExecuteD()</code> when the
active scheduler's wait loop terminates.</p>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Accessing the window server</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aWsSession%28%29"></a>
<hr size="1" noshade>
<h3><code>WsSession()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>RWsSession&amp; WsSession() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the window server session owned by the application.
</p>
<p>This provides access to window server functions not directly
accessible via the UI control framework.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RWsSession&amp;</code></td>
<td class="Cell"><p class="ValueDesc">The window server session opened by the application.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aRootWin%28%29"></a>
<hr size="1" noshade>
<h3><code>RootWin()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>RWindowGroup&amp; RootWin() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the application's window group.</p>
<p>Note:</p>
<ul>
<li>
<p>A window group is an invisible window which acts as the
parent window for all other windows in an application. Typically, each
application has one window group. In the window server, window groups are also
the unit of keyboard focus.</p>
</li>
</ul>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RWindowGroup&amp;</code></td>
<td class="Cell"><p class="ValueDesc">The application's window group.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aBringOwnerToFront%28%29"></a>
<hr size="1" noshade>
<h3><code>BringOwnerToFront()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void BringOwnerToFront();</code></p><h4 class="subheading">Description</h4>
<p>Brings the application's owning window group to the front of
the screen and gives it keyboard focus. </p>
<p>This is done by giving the owning window group an ordinal
position of zero. </p>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aFlush%28%29"></a>
<hr size="1" noshade>
<h3><code>Flush()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Flush(TTimeIntervalMicroSeconds32 aDelay=0);</code></p><h4 class="subheading">Description</h4>
<p>Flushes the client-side window server buffer. </p>
<p>The function does this by first calling
<code>RWsSession::Flush()</code>, and then <code>User::After(aDelay)</code> —
which puts the current process in a sleep state for the time interval given by
<code>aDelay</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TTimeIntervalMicroSeconds32 aDelay</code></td>
<td class="Cell"><p class="ValueDesc">Delay for which to sleep the current process after flushing the
window server buffer. By default the delay is zero.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.6"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aSuppressNextFlush%28%29"></a>
<hr size="1" noshade>
<h3><code>SuppressNextFlush()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SuppressNextFlush();</code></p><h4 class="subheading">Description</h4>
<p>Suppresses the next flush of the active scheduler queue.
</p>
<p>It prevents the active scheduler automatically flushing it's
window server session the next time that a non-<code>CCoeEnv</code> object
runs. After the active object has run, the active scheduler reverts back to its
normal behaviour — flushing after each non-<code>CCoeEnv</code>
<code>RunL()</code>.</p>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>System graphics context functions</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aSystemGc%28%29"></a>
<hr size="1" noshade>
<h3><code>SystemGc()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CWindowGc&amp; SystemGc() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the system graphics context. </p>
<p>This is the graphics contexts typically used for drawing
controls, but an alternative graphics context can be created if required using
<code>CreateGcL()</code>.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CWindowGc&amp;</code></td>
<td class="Cell"><p class="ValueDesc">The system graphics context.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aSwapSystemGc%28%29"></a>
<hr size="1" noshade>
<h3><code>SwapSystemGc()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CWindowGc* SwapSystemGc(CWindowGc* aGc);</code></p><h4 class="subheading">Description</h4>
<p>Sets the new system graphics context. </p>
<p>The function returns a pointer to the old system graphics
context.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CWindowGc* aGc</code></td>
<td class="Cell"><p class="ValueDesc">The new graphics context.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CWindowGc*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the old graphics context.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aCreateGcL%28%29"></a>
<hr size="1" noshade>
<h3><code>CreateGcL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CWindowGc* CreateGcL();</code></p><h4 class="subheading">Description</h4>
<p>Fully constructs a new graphics context.</p>
<p><code>CCoeEnv</code> calls this function during construction to
create the system graphics context, which can be accessed using
<code>SystemGc()</code>. Hence the system graphics context is always
available.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CWindowGc*</code></td>
<td class="Cell"><p class="ValueDesc">A new graphics context.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aSystemGc%28%29" title="Gets the system graphics context"><code class="ApiItem">SystemGc()</code></a></li>
</ul>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Accessing the file server</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aFsSession%28%29"></a>
<hr size="1" noshade>
<h3><code>FsSession()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>RFs&amp; FsSession() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the file server session owned by this
<code>CCoeEnv</code>. </p>
<p>This session is normally only used for accessing the
application's resource file.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp;</code></td>
<td class="Cell"><p class="ValueDesc">The file server session owned by this
<code>CCoeEnv</code>.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Accessing the screen device</h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aScreenDevice%28%29"></a>
<hr size="1" noshade>
<h3><code>ScreenDevice()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CWsScreenDevice* ScreenDevice() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the default screen device owned by this
<code>CCoeEnv</code>. </p>
<p>This is typically used as the standard screen device for the
<code>CCoeEnv</code>'s application.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CWsScreenDevice*</code></td>
<td class="Cell"><p class="ValueDesc">The default screen device owned by this
<code>CCoeEnv</code>.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aDestroyScreen%28%29"></a>
<hr size="1" noshade>
<h3><code>DestroyScreen()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>protected: virtual void DestroyScreen();</code></p><h4 class="subheading">Description</h4>
<p>Destroys screen device.</p>
<p>By default this function simply deletes the screen device owned
by this <code>CCoeEnv</code>. However, this function may also be overridden by
subclasses.</p>
<p>This function is called by
<code>DestroyEnvironment()</code>.</p>
<a name="2.12"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Font utilities</h2>
</div><div class="Bodytext">
<h4 class="subheading">Description</h4>
<p>In addition to the font utilities provided by
<code>CCoeEnv</code>, GUI applications can access many others which are
provided by <code>CEikEnv</code>.</p>
<a name="2.12.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aNormalFont%28%29"></a>
<hr size="1" noshade>
<h3><code>NormalFont()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>const CFont* NormalFont() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the normal environment font. </p>
<p>This is the font created during construction of the control
environment.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CFont*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to the normal environment font.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aInitSystemFontsL%28%29" title="Initialises system fonts"><code class="ApiItem">InitSystemFontsL()</code></a></li>
</ul>
<a name="2.12.4"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aCreateDeviceFontL%28%29"></a>
<hr size="1" noshade>
<h3><code>CreateDeviceFontL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CFbsFont* CreateDeviceFontL(CGraphicsDevice* aDevice,const TFontSpec&amp; aFontSpec);</code></p><h4 class="subheading">Description</h4>
<p>Creates a font for the specified graphics device. </p>
<p>If you wish to use the default screen device as the graphics
device, use <code>CreateScreenFontL()</code> instead of this function.</p>
<p>This function calls <code>GetNearestFontInTwips()</code> on the
graphics device given by <code>aDevice</code>, passing it the font defined by
<code>aFontSpec</code>.</p>
<p>All fonts should be released, using
<code>MGraphicsDeviceMap::ReleaseFont()</code>, when they are no longer
required.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CGraphicsDevice* aDevice</code></td>
<td class="Cell"><p class="ValueDesc">The graphics device for which to create the font.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TFontSpec&amp; aFontSpec</code></td>
<td class="Cell"><p class="ValueDesc">The font specification.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CFbsFont*</code></td>
<td class="Cell"><p class="ValueDesc">The new font.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12.5"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aCreateScreenFontL%28%29"></a>
<hr size="1" noshade>
<h3><code>CreateScreenFontL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CFbsFont* CreateScreenFontL(const TFontSpec&amp; aFontSpec);</code></p><h4 class="subheading">Description</h4>
<p>Creates a font for the default graphics device, based on the
specified <code>TFontSpec</code>. </p>
<p>This function calls <code>CreateDeviceFontL()</code> passing
the default screen device, owned by this <code>CCoeEnv</code>, as the value for
the graphics device for which to create the font. All fonts created using this
function should be released using <code>ReleaseScreenFont()</code> when they
are no longer required.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TFontSpec&amp; aFontSpec</code></td>
<td class="Cell"><p class="ValueDesc">The font specification.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CFbsFont*</code></td>
<td class="Cell"><p class="ValueDesc">The font.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12.6"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aReleaseScreenFont%28%29"></a>
<hr size="1" noshade>
<h3><code>ReleaseScreenFont()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReleaseScreenFont(CFont* aFont) const;</code></p><h4 class="subheading">Description</h4>
<p>Frees all resources used by the font. </p>
<p>This function should be used to release a font when the font is
no longer required. Fonts are created using
<code>CreateScreenFontL()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CFont* aFont</code></td>
<td class="Cell"><p class="ValueDesc">The font to be released.</p></td>
</tr>
</table></td></tr></table>
<a name="2.13"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Resource readers and resource files</h2>
</div><div class="Bodytext">
<h4 class="subheading">Description</h4>
<p>This section describes <code>CCoeEnv</code>'s utility functions
for reading resource data from resource files.</p>
<a name="2.13.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAddResourceFileL%28%29"></a>
<hr size="1" noshade>
<h3><code>AddResourceFileL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt AddResourceFileL(const TDesC&amp; aFileName);</code></p><h4 class="subheading">Description</h4>
<p>Adds the specified resource file to the list maintained by
<code>CCoeEnv</code>. </p>
<p>Note:</p>
<ul>
<li>
<p>Resource files are access counted so
<code>AddResourceFileL()</code> can be called several times for the same
resource file. However, care should be taken to call
<code>DeleteResourceFile</code> for each resource file added to the
list.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC&amp; aFileName</code></td>
<td class="Cell"><p class="ValueDesc">The resource file name.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">Contains the offset value defined for this resource
file.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Panic codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CONE 15</code></td>
<td class="Cell"><p class="ValueDesc">The resource file has no NAME statement (i.e. has no offset)
.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/RResourceFileClass.html#%3a%3aRResourceFile%3a%3aOffset%28%29" title="Returns the offset value defined for this resource file"><code class="ApiItem">RResourceFile::Offset()</code></a></li>
<li><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aResourceFileVersionNumber%28%29" title="Gets the resource file version number"><code class="ApiItem">ResourceFileVersionNumber()</code></a></li>
</ul>
<a name="2.13.4"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aDeleteResourceFile%28%29"></a>
<hr size="1" noshade>
<h3><code>DeleteResourceFile()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void DeleteResourceFile(TInt aOffset);</code></p><h4 class="subheading">Description</h4>
<p>Deletes the specified resource file from the list maintained by
<code>CCoeEnv</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aOffset</code></td>
<td class="Cell"><p class="ValueDesc">The offset value defined for the resource file to delete</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Panic codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CONE 13</code></td>
<td class="Cell"><p class="ValueDesc">The specified resource file does not exist in the list.</p></td>
</tr>
</table></td></tr></table>
<a name="2.13.5"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aReadResource%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadResource()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadResource(TDes&amp; aDes,TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into a descriptor. </p>
<p>The descriptor must be long enough to contain the entire
resource. No memory is allocated by this function.</p>
<p>If the read fails the function sets an error condition and
performs any cleanup required. The error condition causes the GUI to launch an
alert window.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDes&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the resource.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/RResourceFileClass.html#%3a%3aRResourceFile%3a%3aReadL%28%29" title="Reads a resource specified by resource id into the specified descriptor"><code class="ApiItem">RResourceFile::ReadL()</code></a></li>
<li><a href="ErrorEnum.html#%3a%3aKErrCoeFailedToReadFromProgDisk" title="Read fail"><code class="ApiItem">KErrCoeFailedToReadFromProgDisk</code></a></li>
</ul>
<a name="2.13.6"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aReadResourceAsDes16%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadResourceAsDes16()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadResourceAsDes16(TDes16&amp; aDes,TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into a 16 bit descriptor. </p>
<p>The descriptor must be long enough to contain the entire
resource. No memory is allocated by this function.</p>
<p>If the read fails the function sets an error condition and
performs any cleanup required. The error condition causes the GUI to launch an
alert window.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDes16&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the read resource.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/RResourceFileClass.html#%3a%3aRResourceFile%3a%3aReadL%28%29" title="Reads a resource specified by resource id into the specified descriptor"><code class="ApiItem">RResourceFile::ReadL()</code></a></li>
<li><a href="ErrorEnum.html#%3a%3aKErrCoeFailedToReadFromProgDisk" title="Read fail"><code class="ApiItem">KErrCoeFailedToReadFromProgDisk</code></a></li>
</ul>
<a name="2.13.7"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aReadResourceAsDes8%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadResourceAsDes8()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadResourceAsDes8(TDes8&amp; aDes,TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into an 8 bit descriptor. </p>
<p>The descriptor must be long enough to contain the entire
resource. No memory is allocated by this function.</p>
<p>If the read fails the function sets an error condition and
performs any cleanup required. The error condition causes the GUI to launch an
alert window.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDes8&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the read resource.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/RResourceFileClass.html#%3a%3aRResourceFile%3a%3aReadL%28%29" title="Reads a resource specified by resource id into the specified descriptor"><code class="ApiItem">RResourceFile::ReadL()</code></a></li>
<li><a href="ErrorEnum.html#%3a%3aKErrCoeFailedToReadFromProgDisk" title="Read fail"><code class="ApiItem">KErrCoeFailedToReadFromProgDisk</code></a></li>
</ul>
<a name="2.13.8"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAllocReadResourceL%28%29"></a>
<hr size="1" noshade>
<h3><code>AllocReadResourceL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC* AllocReadResourceL(TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a specified resource into a heap descriptor, allocating
memory for the descriptor. </p>
<p>Note:</p>
<ul>
<li>
<p>The calling program must destroy the heap descriptor when
it is no longer needed.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to a heap descriptor containing the resource.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/RResourceFileClass.html#%3a%3aRResourceFile%3a%3aAllocReadL%28%29" title="Reads a resource into a heap descriptor and returns a pointer to that descriptor"><code class="ApiItem">RResourceFile::AllocReadL()</code></a></li>
</ul>
<a name="2.13.9"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAllocReadResourceLC%28%29"></a>
<hr size="1" noshade>
<h3><code>AllocReadResourceLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC* AllocReadResourceLC(TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a specified resource into a heap descriptor, allocating
memory for the descriptor, and pushing the descriptor onto the cleanup stack.
</p>
<p>The calling program should pop and destroy the heap descriptor
when it is no longer needed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to a heap descriptor containing the resource.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/RResourceFileClass.html#%3a%3aRResourceFile%3a%3aAllocReadLC%28%29" title="Reads a resource into a heap descriptor, returns a pointer to that descriptor and pushes the pointer onto the cleanup stack"><code class="ApiItem">RResourceFile::AllocReadLC()</code></a></li>
</ul>
<a name="2.13.10"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAllocReadResourceAsDes8L%28%29"></a>
<hr size="1" noshade>
<h3><code>AllocReadResourceAsDes8L()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC8* AllocReadResourceAsDes8L(TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into an 8 bit heap buffer — allocating the
buffer. </p>
<p>The calling program must destroy the heap descriptor when it is
no longer needed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC8*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to a heap descriptor containing the resource.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/RResourceFileClass.html#%3a%3aRResourceFile%3a%3aAllocReadL%28%29" title="Reads a resource into a heap descriptor and returns a pointer to that descriptor"><code class="ApiItem">RResourceFile::AllocReadL()</code></a></li>
</ul>
<a name="2.13.11"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAllocReadResourceAsDes16L%28%29"></a>
<hr size="1" noshade>
<h3><code>AllocReadResourceAsDes16L()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC16* AllocReadResourceAsDes16L(TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into a 16 bit heap buffer — allocating the
buffer. </p>
<p>The calling program must destroy the heap descriptor when it is
no longer needed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to a heap descriptor containing the resource.</p></td>
</tr>
</table></td></tr></table>
<a name="2.13.12"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAllocReadResourceAsDes8LC%28%29"></a>
<hr size="1" noshade>
<h3><code>AllocReadResourceAsDes8LC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC8* AllocReadResourceAsDes8LC(TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into an 8 bit heap buffer — allocating the
buffer and pushing it onto the cleanup stack. </p>
<p>The calling program must destroy the heap descriptor when it is
no longer needed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC8*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to a heap descriptor containing the resource.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/RResourceFileClass.html#%3a%3aRResourceFile%3a%3aAllocReadL%28%29" title="Reads a resource into a heap descriptor and returns a pointer to that descriptor"><code class="ApiItem">RResourceFile::AllocReadL()</code></a></li>
</ul>
<a name="2.13.13"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAllocReadResourceAsDes16LC%28%29"></a>
<hr size="1" noshade>
<h3><code>AllocReadResourceAsDes16LC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC16* AllocReadResourceAsDes16LC(TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into a 16 bit heap buffer — allocating the
buffer and pushing it onto the cleanup stack. </p>
<p>The calling program must destroy the heap descriptor when it is
no longer needed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC16*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to a heap descriptor containing the resource.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/RResourceFileClass.html#%3a%3aRResourceFile%3a%3aAllocReadL%28%29" title="Reads a resource into a heap descriptor and returns a pointer to that descriptor"><code class="ApiItem">RResourceFile::AllocReadL()</code></a></li>
</ul>
<a name="2.13.14"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aReadDesCArrayResourceL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadDesCArrayResourceL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CDesCArrayFlat* ReadDesCArrayResourceL(TInt aResourceId);</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into a build-independent descriptor array.
</p>
<p>Note:</p>
<ul>
<li>
<p><code>CDesCArrayFlat</code> is a
<code>CDesC8ArrayFlat</code> for ER5, and <code>CDesC16ArrayFlat</code> for
post ER5 builds. </p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CDesCArrayFlat*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the descriptor array containing the resource
data.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/TResourceReaderClass.html#%3a%3aTResourceReader%3a%3aReadDesCArrayL%28%29" title="Interprets the data at the current buffer position as an array of leading byte count data and constructs a build independent flat array of descriptors"><code class="ApiItem">TResourceReader::ReadDesCArrayL()</code></a></li>
</ul>
<a name="2.13.15"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aReadDesC8ArrayResourceL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadDesC8ArrayResourceL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CDesC8ArrayFlat* ReadDesC8ArrayResourceL(TInt aResourceId);</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into an 8 bit descriptor array.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CDesC8ArrayFlat*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the descriptor array containing the resource
data.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/TResourceReaderClass.html#%3a%3aTResourceReader%3a%3aReadDesC8ArrayL%28%29" title="Interprets the data at the current buffer position as an array of leading byte count data and constructs a flat array of 8 bit descriptors"><code class="ApiItem">TResourceReader::ReadDesC8ArrayL()</code></a></li>
</ul>
<a name="2.13.16"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aReadDesC16ArrayResourceL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadDesC16ArrayResourceL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CDesC16ArrayFlat* ReadDesC16ArrayResourceL(TInt aResourceId);</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource into a 16 bit descriptor array. </p>
<p>Ownership of the array is transferred to the caller.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CDesC16ArrayFlat*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the descriptor array containing the resource
data.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../InterfaceToResourceFiles/TResourceReaderClass.html#%3a%3aTResourceReader%3a%3aReadDesC16ArrayL%28%29" title="Interprets the data at the current buffer position as an array of leading byte count data and constructs a flat array of 16 bit descriptors"><code class="ApiItem">TResourceReader::ReadDesC16ArrayL()</code></a></li>
</ul>
<a name="2.13.17"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aFormat128%28%29"></a>
<hr size="1" noshade>
<h3><code>Format128()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Format128(TDes&amp; aDes,TInt aResourceId,...);</code></p><h4 class="subheading">Description</h4>
<p>Reads a 128 byte resource into a formatted string. </p>
<p>The format of the written string is given by the variable
argument list. The unformatted resource data must not be longer than 128 bytes.
If it is, you should use <code>Format256()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDes&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the formatted resource data.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">...</code></td>
<td class="Cell"><p class="ValueDesc">Formatting information.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../Descriptors/FormatStringSyntax.guide.html#Descriptors%2eFormat%2dstring%2dsyntax">String formatting syntax</a></li>
</ul>
<a name="2.13.18"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aFormat256%28%29"></a>
<hr size="1" noshade>
<h3><code>Format256()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Format256(TDes&amp; aDes,TInt aResourceId,...);</code></p><h4 class="subheading">Description</h4>
<p>Reads a 256 byte resource into a formatted string. </p>
<p>The format of the written string is given by the variable
argument list. The unformatted resource data must not be longer than 265
bytes.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDes&amp; aDes</code></td>
<td class="Cell"><p class="ValueDesc">On return, contains the formatted resource data.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">...</code></td>
<td class="Cell"><p class="ValueDesc">Formatting information.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../Descriptors/FormatStringSyntax.guide.html#Descriptors%2eFormat%2dstring%2dsyntax">String formatting syntax</a></li>
</ul>
<a name="2.13.19"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aCreateResourceReaderLC%28%29"></a>
<hr size="1" noshade>
<h3><code>CreateResourceReaderLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void CreateResourceReaderLC(TResourceReader&amp; aReader,TInt aResourceId) const;</code></p><h4 class="subheading">Description</h4>
<p>Reads a resource from a resource file and sets its resource
reader. </p>
<p>The resource reader can subsequently be used to read resource
data from the resource. The resource reader is also placed on the cleanup
stack.</p>
<p>Note:</p>
<ul>
<li>
<p>The GUI framework passes a resource reader as an argument
to <code>CCoeControl::ConstructFromResourceL()</code>, with the resource
reader's buffer already set to contain the relevant resource for that
control.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TResourceReader&amp; aReader</code></td>
<td class="Cell"><p class="ValueDesc">The resource reader.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aResourceId</code></td>
<td class="Cell"><p class="ValueDesc">The numeric ID of the resource to be read.</p></td>
</tr>
</table></td></tr></table>
<a name="2.13.20"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aResourceFileVersionNumber%28%29"></a>
<hr size="1" noshade>
<h3><code>ResourceFileVersionNumber()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>private: virtual TInt ResourceFileVersionNumber() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the resource file version number.</p>
<p>The function is intended to be replaced in a derived class —
it should return a defined constant which should correspond to the version
number of resource files used by the application. It is implemented by the
standard GUI framework.</p>
<p><code>AddResourceFileL()</code> uses this function to verify
that the application is not using an out-of-date resource file. An out-of-date
resource file causes <code>AddResourceFileL()</code> to leave with error code
<code>KErrBaflWrongResourceFileSignature</code>.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">The resource file version number.</p></td>
</tr>
</table></td></tr></table>
<a name="2.14"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Control environment version</h2>
</div><div class="Bodytext">
<a name="2.14.2"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aVersion%28%29"></a>
<hr size="1" noshade>
<h3><code>Version()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static TVersion Version();</code></p><h4 class="subheading">Description</h4>
<p>Gets the version number of the UI Control Framework API.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TVersion</code></td>
<td class="Cell"><p class="ValueDesc">The version number, comprising major version number, minor
version number, and build version number.</p></td>
</tr>
</table></td></tr></table>
<a name="2.15"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Global access to CCoeEnv functions</h2>
</div><div class="Bodytext">
<a name="2.15.2"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aStatic%28%29"></a>
<hr size="1" noshade>
<h3><code>Static()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CCoeEnv* Static();</code></p><h4 class="subheading">Description</h4>
<p>Gets a pointer to a <code>CCoeEnv</code> which can be used to
access <code>CCoeEnv</code>'s functions.</p>
<p> It allows application code to access <code>CCoeEnv</code>'s
functions even where there is no direct access to a <code>CCoeEnv</code>
object. </p>
<p>Example:</p>
<p class="CodeBlock"><code>CCoeEnv::Static()-&gt;CreateResourceReaderLC(aReader, aResourceId);</code></p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CCoeEnv*</code></td>
<td class="Cell"><p class="ValueDesc">The pointer for accessing <code>CCoeEnv</code>'s
functions.</p></td>
</tr>
</table></td></tr></table>
<a name="2.15.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aStatic%28%29"></a>
<hr size="1" noshade>
<h3><code>Static()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CCoeStatic* Static(TUid aUid);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Gets a pointer to the specified <code>CCoeStatic</code> derived
class. </p>
<p>If no match is found it will simply return a NULL.</p>
<p>This function might be used to allow a <code>CCoeStatic</code>
derived class to get a handle on itself.</p>
<p>Note:</p>
<ul>
<li>
<p>Ownership of the object remains with <code>CCoeEnv</code>
in all cases.</p>
</li>
</ul>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TUid aUid</code></td>
<td class="Cell"><p class="ValueDesc">The UID of the <code>CCoeStatic</code> derived class.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CCoeStatic*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the <code>CCoeStatic</code> derived objects. NULL
&#8212; If no match is found.</p></td>
</tr>
</table></td></tr></table>
<a name="2.16"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Error handling</h2>
</div><div class="Bodytext">
<a name="2.16.2"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aHandleError%28%29"></a>
<hr size="1" noshade>
<h3><code>HandleError()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void HandleError(TInt aError);</code></p><h4 class="subheading">Description</h4>
<p>Handles an application-defined error message.</p>
<p>This function allows application-defined error messages to be
called from functions within the control framework's active scheduler. It has
an empty default implementation.</p>
<p>It is called when a leave occurs in
<code>CCoeEnv::RunL()</code>, and also when <code>ReadResource()</code>
fails.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aError</code></td>
<td class="Cell"><p class="ValueDesc"><code>KErrNone</code> or another error code.</p></td>
</tr>
</table></td></tr></table>
<a name="2.16.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aLeaveWithErrorText%28%29"></a>
<hr size="1" noshade>
<h3><code>LeaveWithErrorText()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void LeaveWithErrorText(const TDesC&amp; aMsg,const TDesC* aContextText=NULL);</code></p><h4 class="subheading">Description</h4>
<p>Displays an error message and context text and then calls
<code>User::Leave()</code> with a leave code of
<code>KErrExtendedWithText</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC&amp; aMsg</code></td>
<td class="Cell"><p class="ValueDesc">The error message.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC* aContextText=NULL</code></td>
<td class="Cell"><p class="ValueDesc">The error context text.</p></td>
</tr>
</table></td></tr></table>
<a name="2.16.4"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aErrorText%28%29"></a>
<hr size="1" noshade>
<h3><code>ErrorText()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>protected: TDes&amp; ErrorText();</code></p><h4 class="subheading">Description</h4>
<p>Gets the current error message text.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDes&amp;</code></td>
<td class="Cell"><p class="ValueDesc">The current error message text.</p></td>
</tr>
</table></td></tr></table>
<a name="2.16.5"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aErrorContextText%28%29"></a>
<hr size="1" noshade>
<h3><code>ErrorContextText()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>protected: TDes&amp; ErrorContextText();</code></p><h4 class="subheading">Description</h4>
<p>Gets the current error context text.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDes&amp;</code></td>
<td class="Cell"><p class="ValueDesc">The current error context text.</p></td>
</tr>
</table></td></tr></table>
<a name="2.17"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Events</h2>
</div><div class="Bodytext">
<a name="2.17.2"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aLastEvent%28%29"></a>
<hr size="1" noshade>
<h3><code>LastEvent()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>const TWsEvent&amp; LastEvent() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the most recent standard event that was received by the
application.</p>
<p>Note:</p>
<ul>
<li>
<p>Standard events are all events except redraw events and
priority key events.</p>
</li>
</ul>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TWsEvent&amp;</code></td>
<td class="Cell"><p class="ValueDesc">The last event.</p></td>
</tr>
</table></td></tr></table>
<a name="2.17.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aSimulateKeyEventL%28%29"></a>
<hr size="1" noshade>
<h3><code>SimulateKeyEventL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SimulateKeyEventL(const TKeyEvent&amp; aKeyEvent,TEventCode aType);</code></p><h4 class="subheading">Description</h4>
<p>Simulates a key event.</p>
<p>This function calls
<code>CCoeAppUiBase::HandleKeyEvent()</code> to process the event
<code>aKeyEvent</code> as if it had arrived from the window server.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TKeyEvent&amp; aKeyEvent</code></td>
<td class="Cell"><p class="ValueDesc">The key event.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TEventCode aType</code></td>
<td class="Cell"><p class="ValueDesc">The event type.</p></td>
</tr>
</table></td></tr></table>
<a name="2.17.4"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aIsWservEventPending%28%29"></a>
<hr size="1" noshade>
<h3><code>IsWservEventPending()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsWservEventPending() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests if there is a standard event waiting to be processed.
</p>
<p>Note:</p>
<ul>
<li>
<p>Standard events are all window server events except redraw
events and priority key events.</p>
</li>
</ul>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc"><code>ETrue</code> if a standard event is pending.
<code>EFalse</code> if no standard event is pending.</p></td>
</tr>
</table></td></tr></table>
<a name="2.17.5"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aIsRedrawEventPending%28%29"></a>
<hr size="1" noshade>
<h3><code>IsRedrawEventPending()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsRedrawEventPending() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests if there is a redraw event waiting to be
processed.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc"><code>ETrue</code> if a redraw event is pending.
<code>EFalse</code> if no redraw event is pending.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>FEP functions</h2>
</div><div class="Bodytext">
<a name="2.18.2"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAddFepObserverL%28%29"></a>
<hr size="1" noshade>
<h3><code>AddFepObserverL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void AddFepObserverL(MCoeFepObserver&amp; aFepObserver);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Adds the specified <code>MCoeFepObserver</code> to the FEP
observer list. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeFepObserver&amp; aFepObserver</code></td>
<td class="Cell"><p class="ValueDesc">The FEP observer to be added to the list.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Panic codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CONE 18</code></td>
<td class="Cell"><p class="ValueDesc">The specified <code>aFepObserver</code> is NULL.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">CONE 21</code></td>
<td class="Cell"><p class="ValueDesc">The specified FEP observer has already been added to the
list.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.3"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAddFocusObserverL%28%29"></a>
<hr size="1" noshade>
<h3><code>AddFocusObserverL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void AddFocusObserverL(MCoeFocusObserver&amp; aFocusObserver);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Adds the specified <code>MCoeFocusObserver</code> to the focus
observer list. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeFocusObserver&amp; aFocusObserver</code></td>
<td class="Cell"><p class="ValueDesc">The focus observer to be added to the list.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Panic codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CONE 18</code></td>
<td class="Cell"><p class="ValueDesc">The specified <code>aFocusObserver</code> is NULL.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">CONE 21</code></td>
<td class="Cell"><p class="ValueDesc">The specified focus observer has already been added to the
list.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.4"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aInputCapabilitiesChanged%28%29"></a>
<hr size="1" noshade>
<h3><code>InputCapabilitiesChanged()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void InputCapabilitiesChanged();</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.1
</p><h4 class="subheading">Description</h4>
<p>Notifies all focus observers (FEPs) that a change has been made
to the input capabilities of the focussed control.</p>
<a name="2.18.5"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAddForegroundObserverL%28%29"></a>
<hr size="1" noshade>
<h3><code>AddForegroundObserverL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void AddForegroundObserverL(MCoeForegroundObserver&amp; aForegroundObserver);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Adds the specified <code>MCoeForegroundObserver</code> to the
foreground observer list.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeForegroundObserver&amp; aForegroundObserver</code></td>
<td class="Cell"><p class="ValueDesc">The foreground observer to be added to the list.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Panic codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CONE 18</code></td>
<td class="Cell"><p class="ValueDesc">The specified <code>aForegroundObserver</code> is NULL.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">CONE 21</code></td>
<td class="Cell"><p class="ValueDesc">The specified foreground observer has already been added to the
list.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.6"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAddMessageObserverL%28%29"></a>
<hr size="1" noshade>
<h3><code>AddMessageObserverL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void AddMessageObserverL(MCoeMessageObserver&amp; aMessageObserver); </code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Adds the specified <code>MCoeMessageObserver</code> to the
message observer list.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeMessageObserver&amp; aMessageObserver</code></td>
<td class="Cell"><p class="ValueDesc">The message observer to be added to the list.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aRemoveMessageObserver%28%29" title="Remove the specified MCoeMessageObserver from the message observer list"><code class="ApiItem">RemoveMessageObserver()</code></a></li>
</ul>
<a name="2.18.7"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aRemoveMessageObserver%28%29"></a>
<hr size="1" noshade>
<h3><code>RemoveMessageObserver()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RemoveMessageObserver(MCoeMessageObserver&amp; aMessageObserver);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Remove the specified <code>MCoeMessageObserver</code> from the
message observer list.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeMessageObserver&amp; aMessageObserver</code></td>
<td class="Cell"><p class="ValueDesc">The message observer to be removed from the list.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddMessageObserverL%28%29" title="Adds the specified MCoeMessageObserver to the message observer list"><code class="ApiItem">AddMessageObserverL()</code></a></li>
</ul>
<a name="2.18.8"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aAddObserverOfLoadedFepL%28%29"></a>
<hr size="1" noshade>
<h3><code>AddObserverOfLoadedFepL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void AddObserverOfLoadedFepL(MCoeObserverOfLoadedFep&amp; aObserverOfLoadedFep);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Adds the specified <code>MCoeObserverOfLoadedFep</code> to the
loaded FEP list. </p>
<p>This enables objects to be notified when a front-end processor
is loaded.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeObserverOfLoadedFep&amp; aObserverOfLoadedFep</code></td>
<td class="Cell"><p class="ValueDesc">The loaded FEP observer to be added to the list.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.9"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aDisableExitChecks%28%29"></a>
<hr size="1" noshade>
<h3><code>DisableExitChecks()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void DisableExitChecks(TBool aDisable);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Disables exit checks on kernel resources.</p>
<p>After v5.1, <code>CCoeEnv</code> checks for kernel resources on
exit (e.g. open file handles). These checks are too strict for some
applications, such as web, so this function is provided to disable them.</p>
<p><code>CCoeEnv</code> also checks on heap allocation and window
server resources on exit.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aDisable</code></td>
<td class="Cell"><p class="ValueDesc">
</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.10"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aExecuteFepSettingsDialogL%28%29"></a>
<hr size="1" noshade>
<h3><code>ExecuteFepSettingsDialogL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ExecuteFepSettingsDialogL(const TDesC&amp; aFileNameOfFepDll);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Executes the settings dialog of the specified FEP. </p>
<p>The specified FEPdoes not need to be the currently loaded
FEP.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC&amp; aFileNameOfFepDll</code></td>
<td class="Cell"><p class="ValueDesc">The file name of the FEP for which the settings dialog is to be
executed.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.11"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aFep%28%29"></a>
<hr size="1" noshade>
<h3><code>Fep()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CCoeFep* Fep() const;</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Gets a pointer the currently loaded FEP.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CCoeFep*</code></td>
<td class="Cell"><p class="ValueDesc">The currently loaded FEP, or NULL if none iscurrently
loaded.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.12"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aFepUid%28%29"></a>
<hr size="1" noshade>
<h3><code>FepUid()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUid FepUid() const;</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Gets the UID of the currently loaded FEP.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TUid</code></td>
<td class="Cell"><p class="ValueDesc">The UID of the currently loaded FEP. Zero if none is currently
loaded.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.13"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aFileNamesOfAvailableFepsL%28%29"></a>
<hr size="1" noshade>
<h3><code>FileNamesOfAvailableFepsL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>MDesCArray* FileNamesOfAvailableFepsL();</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Gets an array of the file-names of all the FEPs that are
currently on the machine. Ownership of this array is passed to the
caller.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MDesCArray*</code></td>
<td class="Cell"><p class="ValueDesc">The array of FEP file names.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.14"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aForEachFepObserverCall%28%29"></a>
<hr size="1" noshade>
<h3><code>ForEachFepObserverCall()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ForEachFepObserverCall(TCoeFepObserverFunction aFepObserverFunction);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Calls specified function for observers.</p>
<p>This function is called for each <code>MCoeFepObserver</code>
object thathas been registered by calling
<code>CCoeEnv::AddFepObserverL()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TCoeFepObserverFunction aFepObserverFunction</code></td>
<td class="Cell"><p class="ValueDesc">The function to be called.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.15"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aInstallFepL%28%29"></a>
<hr size="1" noshade>
<h3><code>InstallFepL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void InstallFepL(const TDesC&amp; aFileNameOfFepDll);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Loads the specified FEP into all running applications. </p>
<p>The currently loaded FEP, if any, will be unloaded.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TDesC&amp; aFileNameOfFepDll</code></td>
<td class="Cell"><p class="ValueDesc">The file name of the FEP to be loaded. If no path is specified,
\system\fep is assumed.</p></td>
</tr>
</table></td></tr></table>
<a name="2.18.16"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aNameOfInstalledFepL%28%29"></a>
<hr size="1" noshade>
<h3><code>NameOfInstalledFepL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC* NameOfInstalledFepL();</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Gets the name of the currently loaded FEP. </p>
<p>Ownership of the named descriptor is passed to the
caller.</p>
<p>Note:</p>
<ul>
<li>
<p>The returned name returns as full a path as was passed to
<code>InstallFepL()</code>. If a directory was not specified, \system\fep is
assumed.</p>
</li>
</ul>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">HBufC*</code></td>
<td class="Cell"><p class="ValueDesc">The name of the currently loaded FEP. </p></td>
</tr>
</table></td></tr></table>
<a name="2.18.17"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aRemoveFepObserver%28%29"></a>
<hr size="1" noshade>
<h3><code>RemoveFepObserver()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RemoveFepObserver(MCoeFepObserver&amp; aFepObserver);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Removes the specified FEP observer.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeFepObserver&amp; aFepObserver</code></td>
<td class="Cell"><p class="ValueDesc">The FEP observer to be removed.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddFepObserverL%28%29" title="Adds the specified MCoeFepObserver to the FEP observer list"><code class="ApiItem">AddFepObserverL()</code></a></li>
</ul>
<a name="2.18.18"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aRemoveFocusObserver%28%29"></a>
<hr size="1" noshade>
<h3><code>RemoveFocusObserver()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RemoveFocusObserver(MCoeFocusObserver&amp; aFocusObserver);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Removes the specified focus observer.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeFocusObserver&amp; aFocusObserver</code></td>
<td class="Cell"><p class="ValueDesc">The focus observer to be removed.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddFocusObserverL%28%29" title="Adds the specified MCoeFocusObserver to the focus observer list"><code class="ApiItem">AddFocusObserverL()</code></a></li>
</ul>
<a name="2.18.19"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aRemoveForegroundObserver%28%29"></a>
<hr size="1" noshade>
<h3><code>RemoveForegroundObserver()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RemoveForegroundObserver(MCoeForegroundObserver&amp; aForegroundObserver);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Removes the specified foreground observer.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeForegroundObserver&amp; aForegroundObserver</code></td>
<td class="Cell"><p class="ValueDesc">The foreground observer to be removed.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CCoeEnvClass.html#%3a%3aCCoeEnv%3a%3aAddForegroundObserverL%28%29" title="Adds the specified MCoeForegroundObserver to the foreground observer list"><code class="ApiItem">AddForegroundObserverL()</code></a></li>
</ul>
<a name="2.18.20"></a></div><div class="Head3">
<a name="%3a%3aCCoeEnv%3a%3aRemoveObserverOfLoadedFep%28%29"></a>
<hr size="1" noshade>
<h3><code>RemoveObserverOfLoadedFep()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RemoveObserverOfLoadedFep(MCoeObserverOfLoadedFep&amp; aObserverOfLoadedFep);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Remove the specified loaded FEP observer.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">MCoeObserverOfLoadedFep&amp; aObserverOfLoadedFep</code></td>
<td class="Cell"><p class="ValueDesc"> The FEP observer to be removed.</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
