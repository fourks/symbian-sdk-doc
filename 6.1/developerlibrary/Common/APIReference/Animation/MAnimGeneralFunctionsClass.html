<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>MAnimGeneralFunctions</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="MAnimFreeTimerWindowFunctionsClass.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="MAnimSpriteFunctionsClass.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Animation</a>&nbsp;<span class="separator">&#187;</span>
MAnimGeneralFunctions</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>w32adll.h</code>
<br>Link against: <code>N/A</code>
</p>
</div><div class="Head1">
<a name="%3a%3aMAnimGeneralFunctions"></a>

<h1>Class <code>MAnimGeneralFunctions</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>MAnimGeneralFunctions</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>General animation utility functions interface. The interface
provides functions to set the animation timing, event functions, and other
general functions.</p>
<p>You do NOT have to create an object of this type. The class is
implemented by the window server, and provides utility functions to all
<code>CAnim</code> derived classes via the <code>CAnim::iFunctions</code>
pointer. </p>
<p>It is not intended for user derivation.</p>
<p>Note:</p>
<ul>
<li>
<p>The classes&#8217; functions are declared as pure virtual in
the header file. However, as stated above, you do not need to derive from this
class, so these have not been marked as pure virtual in this document.</p>
</li>
</ul><p>Defined in <code>MAnimGeneralFunctions</code>:
<br><code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aAnimate%28%29" title="Calls the DLL's Animate() function then deactivates the graphics context">Animate()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aClient%28%29" title="Gets a reference to the calling client's thread">Client()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aCloseFont%28%29" title="Close a duplicate font">CloseFont()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aDuplicateBitmapL%28%29" title="Creates and duplicates a bitmap from a handle">DuplicateBitmapL()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aDuplicateFontL%28%29" title="Creates and duplicates a font from a handle">DuplicateFontL()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aESyncDay" title="Animate() called as soon after midnight every day as system activity allows">ESyncDay</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aESyncFlash" title="Animate() every flash tick">ESyncFlash</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aESyncMinute" title="Animate() called as soon after every minute as system activity allows">ESyncMinute</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aESyncNone" title="Not synchronised">ESyncNone</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aESyncSecond" title="Animate() called as soon after every second as system activity allows">ESyncSecond</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aFlashStateOn%28%29" title="Tests the flash cycle state">FlashStateOn()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aGetRawEvents%28%29" title="Switches animation raw event handling on and off">GetRawEvents()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aPanic%28%29" title="Panics the client">Panic()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aPostKeyEvent%28%29" title="Posts a key event">PostKeyEvent()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aPostRawEvent%28%29" title="Posts a raw event, just as if it had come from the kernel">PostRawEvent()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aScreenDevice%28%29" title="Gets a pointer to the screen device">ScreenDevice()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aSetInterval%28%29" title="Sets the repeat interval">SetInterval()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aSetNextInterval%28%29" title="Sets the next interval">SetNextInterval()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aSetSync%28%29" title="Sets the synchronisation mode">SetSync()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aSync%28%29" title="Gets the current synchronisation mode">Sync()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aSystemTime%28%29" title="Gets the system time as it was when Animate() was last called">SystemTime()</a></code>, <code class="ApiItem"><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aTAnimSync" title="Animation synchronisation flags">TAnimSync</a></code>
</p>
<a name="2.5"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Timing functions</h2>
</div><div class="Bodytext">
<a name="2.5.2"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aAnimate%28%29"></a>
<hr size="1" noshade>
<h3><code>Animate()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Animate(TDateTime *aDateTime);</code></p><h4 class="subheading">Description</h4>
<p>Calls the DLL's <code>Animate()</code> function then
deactivates the graphics context. This allows users to do drawing from their
own active object.</p>
<p>Note:</p>
<ul>
<li>
<p>If the user calls the <code>CAnim</code> derived
classes&#8217; <code>Animate()</code> function directly, or otherwise does
drawing from their own active object, then this will not deactivate the
graphics context. This causes the window server to panic the client.</p>
</li>
<li>
<p>Alternatively use <code>CFreeTimerWindowAnim</code>, which
allows you to deactivate the graphics context yourself.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDateTime *aDateTime</code></td>
<td class="Cell"><p class="ValueDesc">The parameter passed into the animation DLL&#8217;s
<code>Animate()</code> function.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.3"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aSetSync%28%29"></a>
<hr size="1" noshade>
<h3><code>SetSync()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetSync(TAnimSync aSyncMode);</code></p><h4 class="subheading">Description</h4>
<p>Sets the synchronisation mode. This determines the time intervals
between calls to the <code>Animate()</code> function.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TAnimSync aSyncMode</code></td>
<td class="Cell"><p class="ValueDesc">The synchronisation mode.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.4"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aSetInterval%28%29"></a>
<hr size="1" noshade>
<h3><code>SetInterval()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetInterval(TInt aInterval);</code></p><h4 class="subheading">Description</h4>
<p>Sets the repeat interval. </p>
<p>If the synchronisation mode is <code>TAnimSync::ESyncNone</code>,
then the <code>Animate()</code> function is called at intervals defined by some
number of flash ticks. There are two flash ticks a second, with a 7/12
second&nbsp;&#8212; 5/12 second cycle. If the function is called when the
synchronisation mode is not <code>TAnimSync::ESyncNone</code>, then the window
server panics the client.</p>
<p>If the new interval is greater than the current countdown, then the
call does not affect the current countdown. For example, if the countdown has
10 flash ticks remaining, and the interval is set to 20, the new interval does
not apply until the current countdown is complete. </p>
<p>However if the new interval is less the current countdown, then the
new interval applies immediately i.e. the countdown is reset to the interval
value.</p>
<p>If the interval is set to zero the countdown stops, and the
<code>Animate()</code> function is no longer called.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aInterval</code></td>
<td class="Cell"><p class="ValueDesc">The number of flash ticks between calls to the
<code>Animate()</code> function.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.5"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aSetNextInterval%28%29"></a>
<hr size="1" noshade>
<h3><code>SetNextInterval()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetNextInterval(TInt aInterval);</code></p><h4 class="subheading">Description</h4>
<p>Sets the next interval. </p>
<p>This function immediately resets the current countdown to the
specified number of flash ticks, irrespective of its current value. After the
countdown expires the interval returns to its usual rate&nbsp;&#8212; note
that this may be zero (i.e. not at all).</p>
<p>To call this function the synchronisation mode must be
<code>TAnimSync::ESyncNone</code>&nbsp;&#8212; otherwise the window server
panics the client.</p>
<p>Note:</p>
<ul>
<li>
<p>There are two flash ticks a second, with a 7/12
second&nbsp;&#8212; 5/12 second cycle</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aInterval</code></td>
<td class="Cell"><p class="ValueDesc">The interval to the next <code>Animate()</code>. If the value is less
than 1 it automatically gets set to 1.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aSetInterval%28%29" title="Sets the repeat interval"><code class="ApiItem">SetInterval()</code></a></li>
</ul>
<a name="2.5.6"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aSystemTime%28%29"></a>
<hr size="1" noshade>
<h3><code>SystemTime()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TDateTime SystemTime() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the system time as it was when <code>Animate()</code> was last
called.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TDateTime</code></td>
<td class="Cell"><p class="ValueDesc">The system time when <code>Animate()</code> was last called.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.7"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aFlashStateOn%28%29"></a>
<hr size="1" noshade>
<h3><code>FlashStateOn()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool FlashStateOn() const;</code></p><h4 class="subheading">Description</h4>
<p>Tests the flash cycle&nbsp;state. The flash cycle has 2
states&nbsp;&#8212; on (7/12 second) or off (5/12
second).</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc"><code>ETrue</code> if in the on part of the flash cycle, otherwise
<code>EFalse</code>.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.8"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aSync%28%29"></a>
<hr size="1" noshade>
<h3><code>Sync()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TAnimSync Sync() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the current synchronisation mode.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TAnimSync</code></td>
<td class="Cell"><p class="ValueDesc">The current sync mode.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>General functions</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aScreenDevice%28%29"></a>
<hr size="1" noshade>
<h3><code>ScreenDevice()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>const CFbsScreenDevice* ScreenDevice();</code></p><h4 class="subheading">Description</h4>
<p>Gets a pointer to the screen device. This might be used, for example, to
gain access to twix to pixel conversion functions.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CFbsScreenDevice*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the screen device.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aDuplicateBitmapL%28%29"></a>
<hr size="1" noshade>
<h3><code>DuplicateBitmapL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CFbsBitmap* DuplicateBitmapL(TInt aHandle);</code></p><h4 class="subheading">Description</h4>
<p>Creates and duplicates a bitmap from a handle. This function might be
used to duplicate client side bitmaps on the server side&nbsp;&#8212;
actually to provide a handle to the same bitmap in the font and bitmap server
as the client.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aHandle</code></td>
<td class="Cell"><p class="ValueDesc">A handle to the bitmap to be duplicated.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CFbsBitmap*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the duplicate bitmap.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aDuplicateFontL%28%29"></a>
<hr size="1" noshade>
<h3><code>DuplicateFontL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CFbsFont* DuplicateFontL(TInt aHandle);</code></p><h4 class="subheading">Description</h4>
<p>Creates and duplicates a font from a handle. This function might be used
to duplicate client side fonts on the server side&nbsp;&#8212; actually to
provide a handle to the same font in the font and bitmap server as the
client.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aHandle</code></td>
<td class="Cell"><p class="ValueDesc">A handle to the font to be duplicated.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CFbsFont*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the duplicate font.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aCloseFont%28%29"></a>
<hr size="1" noshade>
<h3><code>CloseFont()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void CloseFont(CFbsFont *);</code></p><h4 class="subheading">Description</h4>
<p>Close a duplicate font.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CFbsFont *</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to the duplicate font.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="MAnimGeneralFunctionsClass.html#%3a%3aMAnimGeneralFunctions%3a%3aDuplicateFontL%28%29" title="Creates and duplicates a font from a handle"><code class="ApiItem">DuplicateFontL()</code></a></li>
</ul>
<a name="2.6.6"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aClient%28%29"></a>
<hr size="1" noshade>
<h3><code>Client()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>const RThread&amp; Client();</code></p><h4 class="subheading">Description</h4>
<p>Gets a reference to the calling client's thread.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">RThread&amp;</code></td>
<td class="Cell"><p class="ValueDesc">A reference to the calling client&#8217;s thread.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.7"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aPanic%28%29"></a>
<hr size="1" noshade>
<h3><code>Panic()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Panic();</code></p><h4 class="subheading">Description</h4>
<p>Panics the client. This will result in the client thread being
destroyed.</p>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Event functions</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aGetRawEvents%28%29"></a>
<hr size="1" noshade>
<h3><code>GetRawEvents()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetRawEvents(TBool aGetEvents) const;&nbsp;&nbsp;&nbsp;&nbsp;</code></p><h4 class="subheading">Description</h4>
<p>Switches animation raw event handling on and off. If raw event handling
is switched on, then raw events, e.g. pen events, key presses, power events
etc., are all offered to the animation event handling code&nbsp;&#8212;
<code>MEventHandler::OfferRawEventL()</code>.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aGetEvents</code></td>
<td class="Cell"><p class="ValueDesc">If <code>ETrue</code>, subsequent raw events are passed to the animation
event handling code. If <code>EFalse</code>, events are not passed to the
animation.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aPostRawEvent%28%29"></a>
<hr size="1" noshade>
<h3><code>PostRawEvent()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void PostRawEvent(const TRawEvent &amp;aRawEvent) const;&nbsp;&nbsp;&nbsp;&nbsp;</code></p><h4 class="subheading">Description</h4>
<p>Posts a raw event, just as if it had come from the
kernel.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TRawEvent &amp;aRawEvent</code></td>
<td class="Cell"><p class="ValueDesc">The raw event </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aPostKeyEvent%28%29"></a>
<hr size="1" noshade>
<h3><code>PostKeyEvent()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void PostKeyEvent(const TRawEvent &amp;aRawEvent) const;&nbsp;&nbsp;&nbsp;&nbsp;</code></p><h4 class="subheading">Support</h4>
<p>Withdrawn in 6.0
</p><h4 class="subheading">Description</h4>
<p>Posts a key event. The function is similar to <code>PostRawEvent()</code>
but should be used for posting key events. </p>
<p>The function was superseded by the following function after ER5u. This
was because <code>TRawEvent</code> does not allow the modifier states for the
key event to be specified.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TRawEvent&amp; aRawEvent</code></td>
<td class="Cell"><p class="ValueDesc">The key event.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aPostKeyEvent%28%29"></a>
<hr size="1" noshade>
<h3><code>PostKeyEvent()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void PostKeyEvent(const TKeyEvent&amp; aRawEvent) const;</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Posts a key event. The function is similar to <code>PostRawEvent()</code>
but should be used for posting key events.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TKeyEvent&amp; aRawEvent</code></td>
<td class="Cell"><p class="ValueDesc">The key event.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Enumerations</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aMAnimGeneralFunctions%3a%3aTAnimSync"></a>
<hr size="1" noshade>
<h3>Enum <code>TAnimSync</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TAnimSync</code></p><h4 class="subheading">Description</h4>
<p>Animation synchronisation flags. The animation can be synchronised to any
of the below, the Animate() call will take place at the start of the new unit
(day, hour, etc...).</p><table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aMAnimGeneralFunctions%3a%3aESyncNone"><code class="Value">ESyncNone</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Not synchronised. Animate() is called after some number of flash
cycles&#0160;&#8212; set by SetSync().</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aMAnimGeneralFunctions%3a%3aESyncFlash"><code class="Value">ESyncFlash</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Animate() every flash tick. This occurs twice a second, on the second and
after 7/12ths of a second, e.g. the function is called in a flash-on (7/12
seconds)&#0160;&#8212; flash-off (5/12 seconds) cycle.</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aMAnimGeneralFunctions%3a%3aESyncSecond"><code class="Value">ESyncSecond</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Animate() called as soon after every second as system activity
allows.</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aMAnimGeneralFunctions%3a%3aESyncMinute"><code class="Value">ESyncMinute</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Animate() called as soon after every minute as system activity
allows.</para></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aMAnimGeneralFunctions%3a%3aESyncDay"><code class="Value">ESyncDay</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Animate() called as soon after midnight every day&#0160;as system
activity allows.</para></p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
