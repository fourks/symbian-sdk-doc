<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>MAnimWindowFunctions</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="MAnimSpriteFunctionsClass.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="MEventHandlerClass.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Animation</a>&nbsp;<span class="separator">&#187;</span>
MAnimWindowFunctions</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>w32adll.h</code>
<br>Link against: <code>N/A</code>
</p>
</div><div class="Head1">
<a name="%3a%3aMAnimWindowFunctions"></a>

<h1>Class <code>MAnimWindowFunctions</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>MAnimWindowFunctions</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.1
</p><h4 class="subheading">Description</h4>
<p>Window utility functions interface. The classes&#8217; functions
define the interface for querying and manipulating the window in which the
animation takes place.</p>
<p>You do NOT have to create an object of this type. The class is
implemented by the window server, and provides these utility functions to all
<code>CWindowAnim</code> and <code>CFreeTimerWindowAnim</code> derived classes
via the iWindowFunctions pointer.</p>
<p>It is not intended for user derivation.</p>
<p>Note:</p>
<ul>
<li>
<p>The classes&#8217; functions are declared as pure virtual in
the header file. However, as stated above, you do not need to derive from this
class, so these have not been marked as pure virtual in this document.</p>
</li>
</ul><p>Defined in <code>MAnimWindowFunctions</code>:
<br><code class="ApiItem"><a href="MAnimWindowFunctionsClass.html#%3a%3aMAnimWindowFunctions%3a%3aInvalidate%28%29" title="Forces redraw of a rectangular part of the window">Invalidate()</a></code>, <code class="ApiItem"><a href="MAnimWindowFunctionsClass.html#%3a%3aMAnimWindowFunctions%3a%3aIsHidden%28%29" title="Tests whether to draw the animation">IsHidden()</a></code>, <code class="ApiItem"><a href="MAnimWindowFunctionsClass.html#%3a%3aMAnimWindowFunctions%3a%3aParameters%28%29" title="Gets window information">Parameters()</a></code>, <code class="ApiItem"><a href="MAnimWindowFunctionsClass.html#%3a%3aMAnimWindowFunctions%3a%3aSetRect%28%29" title="Sets the rectangle that this animation is to draw to">SetRect()</a></code>, <code class="ApiItem"><a href="MAnimWindowFunctionsClass.html#%3a%3aMAnimWindowFunctions%3a%3aSetVisible%28%29" title="Sets the visibility of the window the animation is drawing to">SetVisible()</a></code>, <code class="ApiItem"><a href="MAnimWindowFunctionsClass.html#%3a%3aMAnimWindowFunctions%3a%3aVisibleRegion%28%29" title="Gets the visible region">VisibleRegion()</a></code>, <code class="ApiItem"><a href="MAnimWindowFunctionsClass.html#%3a%3aMAnimWindowFunctions%3a%3aWindowSize%28%29" title="Gets the window size">WindowSize()</a></code>, <code class="ApiItem"><a href="MAnimWindowFunctionsClass.html#%3a%3aMAnimWindowFunctions%3a%3avoid%20ActivateGc%28%29" title="Activate graphics context">void ActivateGc()</a></code>
</p>
<a name="2.5"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Member functions</h2>
</div><div class="Bodytext">
<a name="2.5.2"></a></div><div class="Head3">
<a name="%3a%3aMAnimWindowFunctions%3a%3avoid%20ActivateGc%28%29"></a>
<hr size="1" noshade>
<h3><code>void ActivateGc()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ActivateGc();</code></p><h4 class="subheading">Description</h4>
<p>Activate graphics context. This function should be called to
enable drawing in the <code>CAnim</code> derived classes&#8217;
<code>Command()</code>, <code>CommandReplyL()</code>, <code>Animate()</code>,
or <code>FocusChanged()</code> functions. </p>
<p>Note:</p>
<ul>
<li>
<p>The function is called automatically by the animation DLL
framework in the <code>Redraw()</code> function.</p>
</li>
</ul>
<a name="2.5.3"></a></div><div class="Head3">
<a name="%3a%3aMAnimWindowFunctions%3a%3aInvalidate%28%29"></a>
<hr size="1" noshade>
<h3><code>Invalidate()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Invalidate(const TRect&amp; aRect);</code></p><h4 class="subheading">Description</h4>
<p>Forces redraw of a rectangular part of the window. The function
causes a redraw message on the part of the window specified, which provides a
non-immediate way to do drawing.</p>
<p>It can be used to redraw the whole of the window, not just the
part used by the animation.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TRect&amp; aRect</code></td>
<td class="Cell"><p class="ValueDesc">The rectangle to be re-drawn. These co-ordinates are relative to
the origin of the window.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.4"></a></div><div class="Head3">
<a name="%3a%3aMAnimWindowFunctions%3a%3aIsHidden%28%29"></a>
<hr size="1" noshade>
<h3><code>IsHidden()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool IsHidden();</code></p><h4 class="subheading">Description</h4>
<p>Tests whether to draw the animation. </p>
<p>If the window is completely hidden/obscured there is normally no
need to draw the animation. However in some conditions the animation should be
drawn even if it is obscured. The window server is aware of these cases, and
returns <code>ETrue</code> if it is safe to NOT draw the
animation.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if the window is completely hidden AND there is no requirement
to continue drawing the animation, otherwise false.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.5"></a></div><div class="Head3">
<a name="%3a%3aMAnimWindowFunctions%3a%3aSetRect%28%29"></a>
<hr size="1" noshade>
<h3><code>SetRect()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetRect(const TRect&amp; aRect);</code></p><h4 class="subheading">Description</h4>
<p>Sets the rectangle that this animation is to draw to.</p>
<p>This function must be called as part of the
initialisation/construction of the <code>CAnim</code> derived object, i.e. in
<code>CAnim::ConstructL()</code>. This is so that the window server knows which
area the animation is operating in.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TRect&amp; aRect</code></td>
<td class="Cell"><p class="ValueDesc">The rectangle to be drawn to.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.6"></a></div><div class="Head3">
<a name="%3a%3aMAnimWindowFunctions%3a%3aSetVisible%28%29"></a>
<hr size="1" noshade>
<h3><code>SetVisible()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetVisible(TBool aState);</code></p><h4 class="subheading">Description</h4>
<p>Sets the visibility of the window the animation is drawing to. This
does the same as <code>RWindowBase::SetVisible()</code>.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aState</code></td>
<td class="Cell"><p class="ValueDesc">True for visible, false otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.7"></a></div><div class="Head3">
<a name="%3a%3aMAnimWindowFunctions%3a%3aWindowSize%28%29"></a>
<hr size="1" noshade>
<h3><code>WindowSize()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TSize WindowSize() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the window size.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TSize</code></td>
<td class="Cell"><p class="ValueDesc">The window size, in pixels.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.8"></a></div><div class="Head3">
<a name="%3a%3aMAnimWindowFunctions%3a%3aParameters%28%29"></a>
<hr size="1" noshade>
<h3><code>Parameters()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Parameters(TWindowInfo &amp;aData);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Gets window information.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TWindowInfo &amp;aData</code></td>
<td class="Cell"><p class="ValueDesc">The window information.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.9"></a></div><div class="Head3">
<a name="%3a%3aMAnimWindowFunctions%3a%3aVisibleRegion%28%29"></a>
<hr size="1" noshade>
<h3><code>VisibleRegion()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void VisibleRegion(TRegion&amp; aRegion);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Gets the visible region. This region is the area of the visible window
which is currently unshadowed. If there is not enough memory to calculate this
region then <code>aRegion</code>&#8217;s error flag is set on
return.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRegion&amp; aRegion</code></td>
<td class="Cell"><p class="ValueDesc">The visible region.</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
