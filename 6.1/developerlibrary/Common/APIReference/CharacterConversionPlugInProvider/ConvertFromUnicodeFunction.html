<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>ConvertFromUnicode()</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CnvUtilitiesClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="ConvertToUnicodeFunction.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Character&nbsp;Conversion&nbsp;Plug-In&nbsp;Provider</a>&nbsp;<span class="separator">&#187;</span>
ConvertFromUnicode()</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> convplug.h </code>
</p>
</div><div class="Head1">
<a name="%3a%3aConvertFromUnicode%28%29"></a>

<h1><code>ConvertFromUnicode()</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>TInt ConvertFromUnicode(CCnvCharacterSetConverter::TEndianness aDefaultEndiannessOfForeignCharacters, const TDesC8&amp; aReplacementForUnconvertibleUnicodeCharacters, TDes8&amp; aForeign, const TDesC16&amp; aUnicode, CCnvCharacterSetConverter::TArrayOfAscendingIndices&amp; aIndicesOfUnconvertibleCharacters);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>A function prototype which must be implemented by a character
conversion plug-in DLL to convert from Unicode into a foreign character set.
This function is exported at ordinal position 2 in the plug-in DLL.
It is called by
<code>CCnvCharacterSetConverter::ConvertFromUnicode()</code>.</p>
<p>For many non-complex character sets, the implementation of this
function is trivial. Include convgeneratedcpp.h in the .cpp file to get access
to the <code>SCnvConversionData</code> object called
<code>conversionData</code>. Then call
<code>CCnvCharacterSetConverter::DoConvertFromUnicode()</code> specifying
<code>conversionData</code> as the first argument and passing in all parameters
unchanged.</p>
<p>For complex character sets, you need to create an array of
character conversion data objects (<code>CnvUtilities::SCharacterSet</code>s),
then call <code>CnvUtilities::ConvertFromUnicode()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CCnvCharacterSetConverter::TEndianness
aDefaultEndiannessOfForeignCharacters </code></td>
<td class="Cell"><p class="ValueDesc"> The default endian-ness to use when writing the characters in the
foreign character set. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC8&amp; aReplacementForUnconvertibleUnicodeCharacters
</code></td>
<td class="Cell"><p class="ValueDesc"> The single character which is used to replace unconvertible
characters. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes8&amp; aForeign </code></td>
<td class="Cell"><p class="ValueDesc"> On return, contains the converted text in the target non-Unicode
character set. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC16&amp; aUnicode </code></td>
<td class="Cell"><p class="ValueDesc"> The source Unicode text to be converted. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> CCnvCharacterSetConverter::TArrayOfAscendingIndices&amp;
aIndicesOfUnconvertibleCharacters </code></td>
<td class="Cell"><p class="ValueDesc"> A buffer which on return holds the indices of each Unicode
character in the source text which could not be converted (because the target
character set does not have an equivalent character). </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> The number of unconverted characters left at the end of the input
descriptor (e.g. because <code>aForeign</code> was not long enough to hold all
the text), or a negative error value, as defined in <code>TError</code>.
</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
