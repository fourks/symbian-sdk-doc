<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>ConvertToUnicode()</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="ConvertFromUnicodeFunction.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="Globals.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Character&nbsp;Conversion&nbsp;Plug-In&nbsp;Provider</a>&nbsp;<span class="separator">&#187;</span>
ConvertToUnicode()</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> convplug.h </code>
</p>
</div><div class="Head1">
<a name="%3a%3aConvertToUnicode%28%29"></a>

<h1><code>ConvertToUnicode()</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>TInt ConvertToUnicode(CCnvCharacterSetConverter::TEndianness aDefaultEndiannessOfForeignCharacters, TDes16&amp; aUnicode, const TDesC8&amp; aForeign, TInt&amp; aState, TInt&amp; aNumberOfUnconvertibleCharacters, TInt&amp; aIndexOfFirstByteOfFirstUnconvertibleCharacter);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>A function prototype which must be implemented by a character
conversion plug-in DLL to convert from a foreign character set into Unicode. This function is exported at ordinal position 3 in the plug-in DLL. It is
called by <code>CCnvCharacterSetConverter::ConvertToUnicode()</code>.</p>
<p>For many non-complex character sets, the implementation of this
function is trivial. Include convgeneratedcpp.h in the .cpp file to get access
to the <code>SCnvConversionData</code> object called
<code>conversionData</code>. Then call
<code>CCnvCharacterSetConverter::DoConvertToUnicode()</code> specifying
<code>conversionData</code> as the first argument and passing in all other
parameters unchanged.</p>
<p>For complex character sets, you need to create an array of
character conversion methods (<code>CnvUtilities::SMethod</code>s or
<code>CnvUtilities::SState</code>s, depending on whether the complex character
set encoding is modal or not), then call
<code>CnvUtilities::ConvertToUnicodeFromHeterogeneousForeign()</code> or
<code>CnvUtilities::ConvertToUnicodeFromModalForeign()</code>.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CCnvCharacterSetConverter::TEndianness
aDefaultEndiannessOfForeignCharacters </code></td>
<td class="Cell"><p class="ValueDesc"> The default endian-ness to use when reading characters in the
foreign character set. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes16&amp; aUnicode </code></td>
<td class="Cell"><p class="ValueDesc"> On return, contains the text converted into Unicode. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC8&amp; aForeign </code></td>
<td class="Cell"><p class="ValueDesc"> The non-Unicode source text to be converted. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt&amp; aState </code></td>
<td class="Cell"><p class="ValueDesc"> Used to save state information across multiple calls to
<code>ConvertToUnicode()</code>. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt&amp; aNumberOfUnconvertibleCharacters </code></td>
<td class="Cell"><p class="ValueDesc"> On return, contains the number of bytes which were not converted.
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt&amp; aIndexOfFirstByteOfFirstUnconvertibleCharacter </code></td>
<td class="Cell"><p class="ValueDesc"> On return, contains the index of the first byte&#0160;in the
input text that could not be converted. A negative value indicates that all the
characters were converted. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> The number of unconverted bytes left at the end of the input
descriptor (e.g. because the output descriptor is not long enough to hold all
the text), or one of the error values defined in <code>TError</code>. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
