<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CCommsDbConnectionPrefTableView</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CCommsDatabaseClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CCommsDbTableViewclass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">CommDb</a>&nbsp;<span class="separator">&#187;</span>
CCommsDbConnectionPrefTableView</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>commdb.lib</code>
<br>Link against: <code>cdbpreftable.h</code>
</p>
</div><div class="Head1">
<a name="%3a%3aCCommsDbConnectionPrefTableView"></a>

<h1>Class <code>CCommsDbConnectionPrefTableView</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CCommsDbConnectionPrefTableView</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.1
</p><h4 class="subheading">Description</h4>
<p>Provides access to the Connection preferences table, to allow clients to set the preferred order in which connections are attempted.</p><p>The class is similiar to <code>CCommsDbTableView</code>, but only allows access to connection preferences as a set and not to individual fields in the table. This prevents inappropriate updates of the records.  Like <code>CCommsDbTableView</code>, the class has a group of functions for navigating through the records in the view, and  another group for setting  fields in the current record.</p><p>Clients do not create this type of object, but get an instance through  <code>CCommsDatabase::OpenConnectionPrefTableLC()</code>, <code>CCommsDatabase::OpenConnectionPrefTableInRankOrderLC()</code>, or <code>CCommsDatabase::OpenConnectionPrefTableViewOnRankLC()</code>.</p><p>In addition to the leave codes documented, all leaving functions can leave with any error returned by DBMS during database manipulation.</p><h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CCommsDbConnectionPrefTableView</code></td><td class="Cell">Provides access to the Connection preferences table, to allow clients to set the preferred order in which connections are attempted</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CCommsDbConnectionPrefTableView</code>:
<br><code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aChangeConnectionPreferenceRankL%28%29" title="Sets the rank field (CONNECT_PREF_RANKING) in the current record in the view">ChangeConnectionPreferenceRankL()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aDeleteConnectionPreferenceL%28%29" title="Deletes the current record in the view">DeleteConnectionPreferenceL()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aGotoFirstRecord%28%29" title="Sets the first record in the view as the current record">GotoFirstRecord()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aGotoNextRecord%28%29" title="Sets the next record in the view as the current record">GotoNextRecord()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aGotoPreviousRecord%28%29" title="Sets the previous record in the view as the current record">GotoPreviousRecord()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aInsertConnectionPreferenceL%28%29" title="Sets a new connection preference">InsertConnectionPreferenceL()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aReadConnectionPreferenceL%28%29" title="Gets the connection preferences from the current record in the view">ReadConnectionPreferenceL()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aSwapConnectionPreferencesL%28%29" title="Swaps the bearer (CONNECT_PREF_BEARER_SET) and the IAP (CONNECT_PREF_IAP) fields between two connection preferences records">SwapConnectionPreferencesL()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapBearer" title="Encapsulates the bearer set (CONNECT_PREF_BEARER_SET) and IAP (CONNECT_PREF_IAP) fields">TCommDbIapBearer</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref" title="Encapsulates the rank (CONNECT_PREF_RANKING), direction (CONNECTION_PREF_DIRECTION), and dialog preference (CONNECT_PREF_DIALOG_PREF) fields, plus a TCommDbIapBearer object">TCommDbIapConnectionPref</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aUpdateBearerL%28%29" title="Updates the connection preference record that is current in the view">UpdateBearerL()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aUpdateDialogPrefL%28%29" title="Updates the dialog preference field (CONNECT_PREF_DIALOG_PREF) in the current record in the view">UpdateDialogPrefL()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3a%7eCCommsDbConnectionPrefTableView%28%29" title="Destructor">~CCommsDbConnectionPrefTableView()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="ConnPreferencesTable.html#commdb%2econnprefs%2dtable">Connection preferences table</a></li>
<li><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView" title="The view on a specific table"><code class="ApiItem">CCommsDbTableView</code></a></li>
<li><a href="CCommsDatabaseClass.html#%3a%3aCCommsDatabase%3a%3aOpenConnectionPrefTableLC%28%29" title="Opens a view on the records in the Connection Preferences table with a specified direction"><code class="ApiItem">CCommsDatabase::OpenConnectionPrefTableLC()</code></a></li>
<li><a href="CCommsDatabaseClass.html#%3a%3aCCommsDatabase%3a%3aOpenConnectionPrefTableInRankOrderLC%28%29" title="Opens a view on the records in the Connection Preferences table with a specified direction, and with records sorted into ranking order"><code class="ApiItem">CCommsDatabase::OpenConnectionPrefTableInRankOrderLC()</code></a></li>
<li><a href="CCommsDatabaseClass.html#%3a%3aCCommsDatabase%3a%3aOpenConnectionPrefTableViewOnRankLC%28%29" title="Opens a view on the records in the Connection Preferences table with a specified direction and ranking"><code class="ApiItem">CCommsDatabase::OpenConnectionPrefTableViewOnRankLC()</code></a></li>
<li><a href="CCommDbOverrideSettingsClass.html#%3a%3aCCommDbOverrideSettings%3a%3aGetConnectionPreferenceOverride%28%29" title="Gets the overrides for a record in the Connection preferences table"><code class="ApiItem">CCommDbOverrideSettings::GetConnectionPreferenceOverride()</code></a></li>
<li><a href="CCommDbOverrideSettingsClass.html#%3a%3aCCommDbOverrideSettings%3a%3aSetConnectionPreferenceOverride%28%29" title="Sets overrides for a record in the Connection preferences table"><code class="ApiItem">CCommDbOverrideSettings::SetConnectionPreferenceOverride()</code></a></li>
</ul>
<a name="2.7"></a></div><div class="Head2">
<hr size="2" noshade>
<h2>Destructor</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3a%7eCCommsDbConnectionPrefTableView%28%29"></a>
<hr size="1" noshade>
<h3><code>~CCommsDbConnectionPrefTableView()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>~CCommsDbConnectionPrefTableView();</code></p><h4 class="subheading">Description</h4>
<p>Destructor.</p>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Navigating records in the view</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aGotoFirstRecord%28%29"></a>
<hr size="1" noshade>
<h3><code>GotoFirstRecord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GotoFirstRecord();</code></p><h4 class="subheading">Description</h4>
<p>Sets the first record in the view as the current record.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNotFound</code> if the view has no records. Error codes from DBMS can also be returned.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aGotoNextRecord%28%29"></a>
<hr size="1" noshade>
<h3><code>GotoNextRecord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GotoNextRecord();</code></p><h4 class="subheading">Description</h4>
<p>Sets the next record in the view as the current record.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNotFound</code> if the current record is
the last in the view. Error codes from DBMS can also be returned.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aGotoPreviousRecord%28%29"></a>
<hr size="1" noshade>
<h3><code>GotoPreviousRecord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GotoPreviousRecord();</code></p><h4 class="subheading">Description</h4>
<p>Sets the previous record in the view as the current record.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNotFound</code> if the current record is
the first in the view. Error codes from DBMS can also be returned.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Connection preference record operations</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aChangeConnectionPreferenceRankL%28%29"></a>
<hr size="1" noshade>
<h3><code>ChangeConnectionPreferenceRankL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ChangeConnectionPreferenceRankL(TUint32 aNewRank);</code></p><h4 class="subheading">Description</h4>
<p>Sets the rank field (<code>CONNECT_PREF_RANKING</code>) in the current record in the view.</p><p>Note that if the new rank is not zero, and there is already a record with this rank
and the same direction, then the existing record's rank is set to zero. This means that record is not used when the system finds the preferred connections.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TUint32 aNewRank</code></td>
<td class="Cell"><p class="ValueDesc">The new rank for the record.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">KErrAccessDenied</code></td>
<td class="Cell"><p class="ValueDesc">The record cannot be updated as it is read-only</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrNotFound</code></td>
<td class="Cell"><p class="ValueDesc">There is no current record in the view</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrOverflow</code></td>
<td class="Cell"><p class="ValueDesc"><code>aNewRank</code> is greater than the maximum allowed</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aDeleteConnectionPreferenceL%28%29"></a>
<hr size="1" noshade>
<h3><code>DeleteConnectionPreferenceL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void DeleteConnectionPreferenceL();</code></p><h4 class="subheading">Description</h4>
<p>Deletes the current record in the view.</p>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aInsertConnectionPreferenceL%28%29"></a>
<hr size="1" noshade>
<h3><code>InsertConnectionPreferenceL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void InsertConnectionPreferenceL(const TCommDbIapConnectionPref&amp; aPref, TBool aReadOnly = EFalse);</code></p><h4 class="subheading">Description</h4>
<p>Sets a new connection preference.</p><p>Note that connection preference records cannot be marked as hidden.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TCommDbIapConnectionPref&amp; aPref</code></td>
<td class="Cell"><p class="ValueDesc">Settings for the new connection preference</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aReadOnly = EFalse</code></td>
<td class="Cell"><p class="ValueDesc">If true, the record is set to be read-only</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">KErrAlreadyExists</code></td>
<td class="Cell"><p class="ValueDesc">A record with the same ranking already exists</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrArgument</code></td>
<td class="Cell"><p class="ValueDesc">The specified IAP (<code>aPref.iBearer.iIapId</code>) cannot be used, as it does not fall in the bearer  defined by <code>aPref.iBearer.iBearerSet</code> and have the same direction as <code>aPref.iDirection</code></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrOverflow</code></td>
<td class="Cell"><p class="ValueDesc">The ranking is greater than the maximum allowed (currently 2)</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.5"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aReadConnectionPreferenceL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadConnectionPreferenceL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadConnectionPreferenceL(TCommDbIapConnectionPref&amp; aPref);</code></p><h4 class="subheading">Description</h4>
<p>Gets the connection preferences from the current record in the view.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TCommDbIapConnectionPref&amp; aPref</code></td>
<td class="Cell"><p class="ValueDesc">On return, the connection preferences</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">KErrNotFound</code></td>
<td class="Cell"><p class="ValueDesc">There is no current record in the view</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrUnknown</code></td>
<td class="Cell"><p class="ValueDesc">A field in the connection preference record is null</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.6"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aSwapConnectionPreferencesL%28%29"></a>
<hr size="1" noshade>
<h3><code>SwapConnectionPreferencesL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SwapConnectionPreferencesL(TCommDbConnectionDirection aDirection, TUint32 aFirstRank, TUint32 aSecondRank);</code></p><h4 class="subheading">Description</h4>
<p>Swaps the bearer  (<code>CONNECT_PREF_BEARER_SET</code>) and the  IAP (<code>CONNECT_PREF_IAP</code>) fields between two connection preferences records.</p><p>The records to use are specified by their rank (<code>CONNECT_PREF_RANKING</code>) and direction (<code>CONNECTION_PREF_DIRECTION</code>).</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TCommDbConnectionDirection aDirection</code></td>
<td class="Cell"><p class="ValueDesc">Direction of the connection preferences records</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TUint32 aFirstRank</code></td>
<td class="Cell"><p class="ValueDesc">Rank of the first record to swap</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TUint32 aSecondRank</code></td>
<td class="Cell"><p class="ValueDesc">Rank of the second record to swap</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">KErrAccessDenied</code></td>
<td class="Cell"><p class="ValueDesc">The record cannot be updated as it is read-only</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrArgument</code></td>
<td class="Cell"><p class="ValueDesc">There is more than one record with the same ranking as one of the rankings</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrNotFound</code></td>
<td class="Cell"><p class="ValueDesc">A record with one of the rankings does not exist</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrOverflow</code></td>
<td class="Cell"><p class="ValueDesc">One of the rankings is greater than the maximum allowed</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.7"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aUpdateBearerL%28%29"></a>
<hr size="1" noshade>
<h3><code>UpdateBearerL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void UpdateBearerL(const TCommDbIapBearer&amp; aUpdate, TBool aReadOnly = EFalse);</code></p><h4 class="subheading">Description</h4>
<p>Updates the connection preference record that is current in the view.</p><p>The function sets the bearer set (<code>CONNECT_PREF_BEARER_SET</code>) and IAP (<code>CONNECT_PREF_IAP</code>) fields. The direction field (<code>CONNECTION_PREF_DIRECTION</code>) cannot be altered after it has been written to the record.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TCommDbIapBearer&amp; aUpdate</code></td>
<td class="Cell"><p class="ValueDesc">Updated settings for the connection preference. Note that all fields need to be set, including any unchanged fields.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">TBool aReadOnly = EFalse</code></td>
<td class="Cell"><p class="ValueDesc">If true, the record is set to be read-only</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">KErrAccessDenied</code></td>
<td class="Cell"><p class="ValueDesc">The record cannot be updated as it is read-only</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrArgument</code></td>
<td class="Cell"><p class="ValueDesc">The specified IAP (<code>aPref.iBearer.iIapId</code>) cannot be used, as it does not fall in the bearer set defined by <code>aPref.iBearer.iBearerSet</code> and have the same direction as <code>aPref.iDirection</code></p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrNotFound</code></td>
<td class="Cell"><p class="ValueDesc">There is no current record in the view</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.8"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aUpdateDialogPrefL%28%29"></a>
<hr size="1" noshade>
<h3><code>UpdateDialogPrefL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void UpdateDialogPrefL(const TCommDbDialogPref&amp; aUpdate);</code></p><h4 class="subheading">Description</h4>
<p>Updates the dialog preference field (<code>CONNECT_PREF_DIALOG_PREF</code>) in  the current record in the view. </p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TCommDbDialogPref&amp; aUpdate</code></td>
<td class="Cell"><p class="ValueDesc">New value for the dialog preference field</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">KErrAccessDenied</code></td>
<td class="Cell"><p class="ValueDesc">The record cannot be updated as it is read-only</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">KErrNotFound</code></td>
<td class="Cell"><p class="ValueDesc">There is no current record in the view</p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapBearer"></a>
<hr size="2" noshade>
<h2>Class <code>TCommDbIapBearer</code></h2>
</div><div class="Bodytext"><p class="Prototype"><code>TCommDbIapBearer</code></p><h4 class="subheading">Description</h4>
<p>Encapsulates the bearer set (<code>CONNECT_PREF_BEARER_SET</code>) and IAP (<code>CONNECT_PREF_IAP</code>) fields. </p><p>Defined in <code>CCommsDbConnectionPrefTableView::TCommDbIapBearer</code>:
<br><code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapBearer%3a%3aTCommDbIapBearer%28%29" title="Default constructor">TCommDbIapBearer()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapBearer%3a%3aiBearerSet" title="Value for the bearer set (CONNECT_PREF_BEARER_SET) field">iBearerSet</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapBearer%3a%3aiIapId" title="Value for the IAP (CONNECT_PREF_IAP) field">iIapId</a></code>
</p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="ConnPreferencesTable.html#CONNECT_PREF_BEARER_SET" title="The bearers that can be used for this connection"><code class="ApiItem">CONNECT_PREF_BEARER_SET</code></a></li>
<li><a href="ConnPreferencesTable.html#CONNECT_PREF_IAP" title="Identifier of preferred IAP for this connection, if this is an IAP type database"><code class="ApiItem">CONNECT_PREF_IAP</code></a></li>
</ul>
<a name="2.10.5"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapBearer%3a%3aTCommDbIapBearer%28%29"></a>
<hr size="1" noshade>
<h3><code>TCommDbIapBearer()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TCommDbIapBearer();</code></p><h4 class="subheading">Description</h4>
<p>Default constructor.</p><p>All member data is initialised to zero.</p>
<a name="2.10.6"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapBearer%3a%3aiBearerSet"></a>
<hr size="1" noshade>
<h3><code>iBearerSet</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUint32 iBearerSet;</code></p><h4 class="subheading">Description</h4>
<p>Value for the bearer set (<code>CONNECT_PREF_BEARER_SET</code>) field.</p>
<a name="2.10.7"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapBearer%3a%3aiIapId"></a>
<hr size="1" noshade>
<h3><code>iIapId</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUint32 iIapId;</code></p><h4 class="subheading">Description</h4>
<p>Value for the IAP (<code>CONNECT_PREF_IAP</code>) field.</p>
<a name="2.11"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref"></a>
<hr size="2" noshade>
<h2>Class <code>TCommDbIapConnectionPref</code></h2>
</div><div class="Bodytext"><p class="Prototype"><code>TCommDbIapConnectionPref</code></p><h4 class="subheading">Description</h4>
<p>Encapsulates the rank (<code>CONNECT_PREF_RANKING</code>), direction (<code>CONNECTION_PREF_DIRECTION</code>), and dialog preference (<code>CONNECT_PREF_DIALOG_PREF</code>) fields, plus a <code>TCommDbIapBearer</code> object.</p><p>Defined in <code>CCommsDbConnectionPrefTableView::TCommDbIapConnectionPref</code>:
<br><code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aTCommDbIapConnectionPref%28%29" title="Default constructor">TCommDbIapConnectionPref()</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aiBearer" title="Values for the bearer (CONNECT_PREF_BEARER_SET) and IAP (CONNECT_PREF_IAP) fields">iBearer</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aiDialogPref" title="Value for the dialog preference (CONNECT_PREF_DIALOG_PREF) field">iDialogPref</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aiDirection" title="Value for the direction (CONNECTION_PREF_DIRECTION) field">iDirection</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aiRanking" title="Value for the rank (CONNECT_PREF_BEARER_SET) field">iRanking</a></code>, <code class="ApiItem"><a href="CCommsDbConnectionPrefTableViewClass.html#%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aoperator%3d%3d%28%29" title="Overloaded equality operator">operator==()</a></code>
</p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="ConnPreferencesTable.html#CONNECT_PREF_RANKING" title="Ranking of this connection preference"><code class="ApiItem">CONNECT_PREF_RANKING</code></a></li>
<li><a href="ConnPreferencesTable.html#CONNECTION_PREF_DIRECTION" title="The direction of the connection"><code class="ApiItem">CONNECTION_PREF_DIRECTION</code></a></li>
<li><a href="ConnPreferencesTable.html#CONNECT_PREF_DIALOG_PREF" title="Determines whether or not the user should be should be prompted or warned with a dialog that a connection is going to be made"><code class="ApiItem">CONNECT_PREF_DIALOG_PREF</code></a></li>
</ul>
<a name="2.11.5"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aTCommDbIapConnectionPref%28%29"></a>
<hr size="1" noshade>
<h3><code>TCommDbIapConnectionPref()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TCommDbIapConnectionPref();</code></p><h4 class="subheading">Description</h4>
<p>Default constructor.</p><p>The rank is set to 0, and the direction and dialog preference to unknown.</p>
<a name="2.11.6"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aoperator%3d%3d%28%29"></a>
<hr size="1" noshade>
<h3><code>operator==()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool operator==(const TCommDbIapConnectionPref&amp; aPref) const;</code></p><h4 class="subheading">Description</h4>
<p>Overloaded equality operator.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const TCommDbIapConnectionPref&amp; aPref</code></td>
<td class="Cell"><p class="ValueDesc">Object to compare</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TBool</code></td>
<td class="Cell"><p class="ValueDesc">True if all fields in the objects are equal, otherwise false</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.7"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aiRanking"></a>
<hr size="1" noshade>
<h3><code>iRanking</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUint32 iRanking;</code></p><h4 class="subheading">Description</h4>
<p>Value for the rank (<code>CONNECT_PREF_BEARER_SET</code>) field.</p>
<a name="2.11.8"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aiDirection"></a>
<hr size="1" noshade>
<h3><code>iDirection</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TCommDbConnectionDirection iDirection;</code></p><h4 class="subheading">Description</h4>
<p>Value for the direction (<code>CONNECTION_PREF_DIRECTION</code>) field.</p>
<a name="2.11.9"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aiDialogPref"></a>
<hr size="1" noshade>
<h3><code>iDialogPref</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TCommDbDialogPref iDialogPref;</code></p><h4 class="subheading">Description</h4>
<p>Value for the dialog preference (<code>CONNECT_PREF_DIALOG_PREF</code>) field.</p>
<a name="2.11.10"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbConnectionPrefTableView%3a%3aTCommDbIapConnectionPref%3a%3aiBearer"></a>
<hr size="1" noshade>
<h3><code>iBearer</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TCommDbIapBearer iBearer;</code></p><h4 class="subheading">Description</h4>
<p>Values for the bearer (<code>CONNECT_PREF_BEARER_SET</code>) and IAP (<code>CONNECT_PREF_IAP</code>) fields.</p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
