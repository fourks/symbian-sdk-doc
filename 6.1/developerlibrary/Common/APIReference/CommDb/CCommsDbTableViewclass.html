<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CCommsDbTableView</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CCommsDbConnectionPrefTableViewClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CCommsDbTemplateRecordclass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">CommDb</a>&nbsp;<span class="separator">&#187;</span>
CCommsDbTableView</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> commdb.h </code>
<br>Link against: <code> commdb.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aCCommsDbTableView"></a>

<h1>Class <code>CCommsDbTableView</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CCommsDbTableView</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>The view on a specific table. </p><p>It includes the
necessary behaviour for navigating through the records in the view as well
containing member functions for reading and writing to columns within a
record.</p>
<p>An object of this type cannot be explicitly constructed; it is
always constructed, and a pointer to it returned, as a result of a call to one
of the following member functions of the <code>CCommsDatabase</code>
class:</p>
<ul>
<li>
<p><code>OpenTableLC()</code></p>
</li>
<li>
<p><code>OpenViewMatchingUintLC()</code></p>
</li>
<li>
<p><code>OpenViewMatchingBoolLC()</code></p>
</li>
<li>
<p><code>OpenViewMatchingTextLC()</code></p>
</li>
<li>
<p><code>OpenViewLC()</code></p>
</li>
</ul>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CCommsDbTableView</code></td><td class="Cell">The view on a specific table</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CCommsDbTableView</code>:
<br><code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aCancelRecordChanges%28%29" title="Abandons changes made to a record which were started by calls to either:InsertRecord() or UpdateRecord()">CancelRecordChanges()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aDeleteRecord%28%29" title="Deletes the record at the current cursor position">DeleteRecord()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aGetTableName%28%29" title="Gets the name of the table associated with this view and copies it into the descriptor supplied by the caller">GetTableName()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aGotoFirstRecord%28%29" title="Sets the first record in the view as the current record; i.e">GotoFirstRecord()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aGotoNextRecord%28%29" title="Sets the next record in the view as the current record; i.e">GotoNextRecord()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aGotoPreviousRecord%28%29" title="Sets the previous record in the view as the current record; i.e">GotoPreviousRecord()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aInsertRecord%28%29" title="Prepares database to insert a new record -- must be called before writing to any column">InsertRecord()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aPutRecordChanges%28%29" title="Confirms changes made to a record which were started by calls to one ofInsertRecord() or UpdateRecord()">PutRecordChanges()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aReadBoolL%28%29" title="Reads a boolean value located in a specific column within the current record and copies it into a specified value">ReadBoolL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aReadColumnLengthL%28%29" title="Gets the length of a specific column within the current record and copies it into a reference to an integer">ReadColumnLengthL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aReadLongTextLC%28%29" title="Reads the long text located in a specific column within the current record and copies this text to a heap descriptor">ReadLongTextLC()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aReadTextL%28%29" title="Reads wide (Unicode) text located in a specific column within the current record and copies it into a 16 bit modifiable descriptor">ReadTextL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aReadTypeAttribL%28%29" title="Gets the type and the attributes of a specific column within the current record and puts them into a TDbColType object and a reference to an unsigned integer respectively">ReadTypeAttribL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aReadUintL%28%29" title="Reads an unsigned integer value located in a specific column within the current record and copies it into a reference to an unsigned integer">ReadUintL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aSetNullL%28%29" title="Sets a specific column within the current record to NULL">SetNullL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aUpdateRecord%28%29" title="Prepares to update the current record -- must be called before writing to any column">UpdateRecord()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aWriteBoolL%28%29" title="Writes a Boolean value to a specific column within the current record">WriteBoolL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aWriteLongTextL%28%29" title="Writes the long text from a descriptor to a specific column within the current record">WriteLongTextL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aWriteTextL%28%29" title="Writes the wide (UNICODE) text from a 16 bit descriptor to a specific column within the current record">WriteTextL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3aWriteUintL%28%29" title="Writes an unsigned integer value to a specific column within the current record">WriteUintL()</a></code>, <code class="ApiItem"><a href="CCommsDbTableViewclass.html#%3a%3aCCommsDbTableView%3a%3a%7eCCommsDbTableView%28%29" title="Frees all resources owned by this object, prior to its destruction">~CCommsDbTableView()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3a%7eCCommsDbTableView%28%29"></a>
<hr size="1" noshade>
<h3><code>~CCommsDbTableView()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>~CCommsDbTableView();</code></p><h4 class="subheading">Description</h4>
<p>Frees all resources owned by this object, prior to its
destruction. Specifically, it closes the view.</p>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Navigating records in the view</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aGotoFirstRecord%28%29"></a>
<hr size="1" noshade>
<h3><code>GotoFirstRecord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GotoFirstRecord();</code></p><h4 class="subheading">Description</h4>
<p>Sets the first record in the view as the current record; i.e.
set the view's cursor to point to the first record.</p>
<p>Notes:</p>
<p>This function must not be called if any of the operations
involved in inserting or updating a record are still outstanding, otherwise the
function raises a CommsDbServer 6 panic. For example, the panic is raised if
this function is called between calls to <code>UpdateRecord()</code> and
<code>PutRecordChanges()</code>.</p>
<p>The CommsDbServer 6 panic is also raised if this function is
called after the view has been closed.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if the record exists in the view and
navigation is successful, <code>KErrNotFound</code> if the view is empty and
has no records, otherwise another of the system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aGotoNextRecord%28%29"></a>
<hr size="1" noshade>
<h3><code>GotoNextRecord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GotoNextRecord();</code></p><h4 class="subheading">Description</h4>
<p>Sets the next record in the view as the current record; i.e. set
the view's cursor to point to the next record.</p>
<p>Notes:</p>
<p>This function must not be called if any of the operations
involved in inserting or updating a record are still outstanding, otherwise the
function raises a CommsDbServer 7 panic. For example, the panic is raised if
this function is called between calls to <code>UpdateRecord()</code> and
<code>PutRecordChanges()</code>.</p>
<p>The CommsDbServer 7 panic is also raised if this function is
called after the view has been closed.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if the record exists in the view and
navigation is successful, <code>KErrNotFound</code> if the current record is
already the last in the view and there is no 'next' record, otherwise another
of the system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aGotoPreviousRecord%28%29"></a>
<hr size="1" noshade>
<h3><code>GotoPreviousRecord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt GotoPreviousRecord();</code></p><h4 class="subheading">Description</h4>
<p>Sets the previous record in the view as the current record; i.e.
set the view's cursor to point to the previous record.</p>
<p>Notes:</p>
<p>This function must not be called if any of the operations involved
in inserting or updating a record are still outstanding, otherwise the function
raises a CommsDbServer 8 panic. For example, the panic is raised if this
function is called between calls to <code>UpdateRecord()</code> and
<code>PutRecordChanges()</code>.</p>
<p>The CommsDbServer 8 panic is also raised if this function is called
after the view has been closed.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if the record exists in the view and
navigation is successful, <code>KErrNotFound</code> if the current record is
already the first in the view and there is no 'previous' record, otherwise
another of the system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Making changes to records</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aInsertRecord%28%29"></a>
<hr size="1" noshade>
<h3><code>InsertRecord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt InsertRecord(TUint32&amp; aId);</code></p><h4 class="subheading">Description</h4>
<p>Prepares database to insert a new record&nbsp;&#8212; must be
called before writing to any column.</p>
<p>Once all changes to the new record are complete, a call must be made
to either <code>PutRecordChanges()</code> or <code>CancelRecordChanges()</code>
as appropriate.</p>
<p>The function puts the unique Id associated with this new record in
<code>aId</code>.</p>
<p>Notes:</p>
<p>This function raises a CommsDbServer 1 panic if a previous call to
<code>InsertRecord()</code> or <code>UpdateRecord()</code> has already been
made.</p>
<p>This function must be called before any attempt is made to write to a
column, otherwise subsequent write operations raise a CommsDbServer 12
panic.</p>
<p>Once this function has completed successfully, no attempt can be made
to read from a column until either <code>PutRecordChanges()</code> or
<code>CancelRecordChanges()</code> has been called to complete the record
insertion operation, otherwise the read operations raise a CommsDbServer 10
panic.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint32&amp; aId </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to an unsigned integer passed by the caller. On
successful return from this function, contains the unique Id associated with
this new record. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function leaves with <code>KErrOverflow</code> , if the table
is either the modem preferences table or the connected modem table and a record
already exists. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aUpdateRecord%28%29"></a>
<hr size="1" noshade>
<h3><code>UpdateRecord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt UpdateRecord();</code></p><h4 class="subheading">Description</h4>
<p>Prepares to update the current record&nbsp;&#8212; must be called
before writing to any column.</p>
<p>Once all changes to the new record are complete, a call must be made to
either <code>PutRecordChanges()</code> or <code>CancelRecordChanges()</code> as
appropriate.</p>
<p>Notes:</p>
<ul>
<li>
<p>This function raises a CommsDbServer 2 panic if a previous call to
<code>InsertRecord()</code> or <code>UpdateRecord()</code> has already been
made.</p>
</li>
<li>
<p>This function must be called before any attempt is made to write to
a column otherwise subsequent write operations raise a CommsDbServer 12
panic.</p>
</li>
<li>
<p>Once this function has completed successfully, no attempt can be
made to read from a column until either <code>PutRecordChanges()</code> or
<code>CancelRecordChanges()</code> has been called to complete the record
insertion operation, otherwise the read operations raise a CommsDbServer 10
panic.</p>
</li>
</ul><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aDeleteRecord%28%29"></a>
<hr size="1" noshade>
<h3><code>DeleteRecord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt DeleteRecord();</code></p><h4 class="subheading">Description</h4>
<p>Deletes the record at the current cursor position.</p>
<p>Note:</p>
<ul>
<li>
<p>This function raises a CommsDbServer 3 panic if a previous call to
<code>InsertRecord()</code> or <code>UpdateRecord()</code> has been
made.</p>
</li>
</ul><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aPutRecordChanges%28%29"></a>
<hr size="1" noshade>
<h3><code>PutRecordChanges()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt PutRecordChanges(TBool aHidden=EFalse);</code></p><h4 class="subheading">Support</h4>
<p>Withdrawn in 6.0
</p><h4 class="subheading">Description</h4>
<p>Confirms changes made to a record which were started by calls to one
of<code>InsertRecord()</code> or <code>UpdateRecord()</code>.</p>
<p>The record can be marked as hidden by passing <code>ETrue</code> as a
parameter. By default, records are hidden.</p>
<p>Note:</p>
<ul>
<li>
<p>A call to one of either <code>InsertRecord()</code> or
<code>UpdateRecord()</code> must have previously been made otherwise the
function raises a CommsDbServer 4 panic.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aHidden </code></td>
<td class="Cell"><p class="ValueDesc"> Defines whether or not the record is to be marked as hidden. A true
value means that the record is to be hidden. If not explicitly
specified,<code>EFalse</code> is taken as default. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.6"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aPutRecordChanges%28%29"></a>
<hr size="1" noshade>
<h3><code>PutRecordChanges()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt PutRecordChanges(TBool aHidden=EFalse, TBool aReadOnly =EFalse);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Confirms changes made to a record which were started by calls to one
of<code>InsertRecord()</code> or <code>UpdateRecord()</code>.</p>
<p>The record can be marked as hidden by passing <code>ETrue</code> as a
parameter. By default, records are hidden.</p>
<p>Note:</p>
<ul>
<li>
<p>A call to one of either <code>InsertRecord()</code> or
<code>UpdateRecord()</code> must have previously been made otherwise the
function raises a CommsDbServer 4 panic.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aHidden </code></td>
<td class="Cell"><p class="ValueDesc"> Defines whether or not the record is to be marked as hidden. A true
value means that the record is to be hidden. If not explicitly
specified,<code>EFalse</code> is taken as default. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool aReadOnly </code></td>
<td class="Cell"><p class="ValueDesc"> Defines whether or not the record is to be stored as read-only.
Read-only storage prevents the record from being altered at a later
time.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.7"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aCancelRecordChanges%28%29"></a>
<hr size="1" noshade>
<h3><code>CancelRecordChanges()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void CancelRecordChanges();</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Abandons changes made to a record which were started by calls to
either:<code>InsertRecord()</code> or <code>UpdateRecord()</code>.</p>
<p>Note:</p>
<p>A call to one of
either<code>InsertRecord()</code>or<code>UpdateRecord()</code> must have
previously been made otherwise the function raises a CommsDbServer 5
panic.</p>
<a name="2.8.8"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aCancelRecordChanges%28%29"></a>
<hr size="1" noshade>
<h3><code>CancelRecordChanges()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt CancelRecordChanges();</code></p><h4 class="subheading">Support</h4>
<p>Withdrawn in 6.0
</p><h4 class="subheading">Description</h4>
<p>Abandons changes made to a record which were started by calls to
either:<code>InsertRecord()</code> or <code>UpdateRecord()</code>.</p>
<p>Note:</p>
<p>A call to one of
either<code>InsertRecord()</code>or<code>UpdateRecord()</code> must have
previously been made otherwise the function raises a CommsDbServer 5
panic.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise another of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Reading data from a column</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aReadTypeAttribL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadTypeAttribL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadTypeAttrib(const TDesC&amp; aColumn, TDbColType&amp; aColType, TUint32&amp; aAttrib);</code></p><h4 class="subheading">Description</h4>
<p>Gets the type and the attributes of a specific column within the current
record and puts them into a <code>TDbColType</code> object and a reference to
an unsigned integer respectively. The column is identified by the name supplied
in the descriptor <code>aColumn</code>.</p>
<p>The column type is described by the <code>TDbColType</code> enumerator
defined in d32dbms.h.</p>
<p>The column attributes are one or more of the
values<code>TDbCol::ENotNull</code>
and<code>TDbCol::EAutoIncrement</code>defined in d32dbms.h.</p>
<p>Notes:</p>
<p>This function must not be called if any of the operations involved in
inserting or updating a record are still outstanding, otherwise the function
raises a CommsDbServer 10 panic. For example, the panic is raised if this
function is called between calls
to<code>UpdateRecord()</code>and<code>PutRecordChanges()</code>.</p>
<p>This panic is also raised if this function is called after the view has
been closed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of the column in the
current record whose type and attributes are to be fetched. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDbColType&amp; aColType </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a <code>TDbColType</code> object passed by the caller. On
successful return from this function, contains a copy of the column
type.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint32&amp; aAttrib </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to an unsigned integer passed by the caller. On successful
return from this function, contains a copy of the column attributes. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrCorrupt </code></td>
<td class="Cell"><p class="ValueDesc"> Incorrect column type specified </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrNotFound </code></td>
<td class="Cell"><p class="ValueDesc"> Specified column does not exist in the table </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aReadUintL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadUintL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadUintL(const TDesC&amp; aColumn, TUint32&amp; aValue);</code></p><h4 class="subheading">Description</h4>
<p>Reads an unsigned integer value located in a specific column within the
current record and copies it into a reference to an unsigned integer. The
column is identified by the name supplied in the
descriptor<code>aColumn</code>.</p>
<p>If the column in the current record has a <code>NULL</code> value and the
table has a template record, then the unsigned integer value located in the
corresponding column in that template record is read and copied
into<code>aValue</code>.</p>
<p>If the column in the current record has a <code>NULL</code> value and the
table does not have a template record, then the function leaves.</p>
<p>Notes:</p>
<ul>
<li>
<p>This read operation must not occur if any of the operations involved in
inserting or updating a record are still outstanding, otherwise the function
raises a CommsDbServer 10 panic. For example, the panic is raised if this
function is called between calls
to<code>UpdateRecord()</code>and<code>PutRecordChanges()</code>.</p>
</li>
<li>
<p>This panic is also raised if this function is called after the view has
been closed.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of the column in the
current record whose (unsigned integer) value is to be read. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint32&amp; aValue </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to an unsigned integer passed by the caller. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrCorrupt </code></td>
<td class="Cell"><p class="ValueDesc"> Incorrect column type specified </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrUnknown </code></td>
<td class="Cell"><p class="ValueDesc"> Specified column is null </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrNotFound </code></td>
<td class="Cell"><p class="ValueDesc"> Specified column does not exist in the table </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aReadBoolL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadBoolL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadBoolL(const TDesC&amp; aColumn, TBool&amp; aValue);</code></p><h4 class="subheading">Description</h4>
<p>Reads a boolean value located in a specific column within the current
record and copies it into a specified value. The column is identified by the
name supplied in the descriptor <code>aColumn</code>.</p>
<p>If the column in the current record has a <code>NULL</code> value and the
table has a template record, then the value located in the corresponding column
in that template record is read and copied into <code>aValue</code>.</p>
<p>If the column in the current record has a NULL value and the table does
not have a template record, then the function leaves.</p>
<p>Notes:</p>
<ul>
<li>
<p>This read operation must not occur if any of the operations involved in
inserting or updating a record are still outstanding, otherwise the function
raises a CommsDbServer 10 panic. For example, the panic is raised if this
function is called between calls
to<code>UpdateRecord()</code>and<code>PutRecordChanges()</code>.</p>
</li>
</ul>
<p>This panic is also raised if this function is called after the view has
been closed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of the column in the
current record whose (boolean) value is to be read. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool&amp; aValue </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a <code>TBool</code> passed by the caller. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrCorrupt </code></td>
<td class="Cell"><p class="ValueDesc"> Incorrect column type specified </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrUnknown </code></td>
<td class="Cell"><p class="ValueDesc"> Specified column is null </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrNotFound </code></td>
<td class="Cell"><p class="ValueDesc"> Specified column does not exist in the table </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.5"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aReadTextL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadTextL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadTextL(const TDesC&amp; aColumn, TDes8&amp; aValue);</code></p><h4 class="subheading">Description</h4>
<p>Reads narrow (ASCII) text located in a specific column within the current
record and copies it into an 8 bit modifiable descriptor. The column is
identified by the name supplied in the descriptor <code>aColumn</code>.</p>
<p>If the column in the current record has a <code>NULL</code> value and the
table has a template record, then the text located in the corresponding column
in that template record is read and copied into <code>aValue</code>.</p>
<p>If the column in the current record has a <code>NULL</code> value and the
table does not have a template record, then the length of the
descriptor<code>aValue</code> is set to zero and the descriptor contains no
text.</p>
<p>The maximum length of text expected by this function is the value of the
constant <code>KCommsDbSvrMaxColumnNameLength</code> defined in cdblen.h.
The maximum length of <code>aValue</code> supplied by the caller can,
therefore, be the same.</p>
<p>Notes:</p>
<ul>
<li>
<p>This read operation must not occur if any of the operations involved in
inserting or updating a record are still outstanding, otherwise the function
raises a CommsDbServer 10 panic. For example, the panic is raised if this
function is called between calls
to<code>UpdateRecord()</code>and<code>PutRecordChanges()</code>.</p>
</li>
<li>
<p>This panic is also raised if this function is called after the view has
been closed.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of the column in the
current record whose (narrow text) value is to be read. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes8&amp; aValue </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to an 8 bit descriptor passed by the caller. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrCorrupt </code></td>
<td class="Cell"><p class="ValueDesc"> Incorrect column type specified </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrNotFound </code></td>
<td class="Cell"><p class="ValueDesc"> Specified column does not exist in the table </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.6"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aReadTextL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadTextL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadTextL(const TDesC&amp; aColumn, TDes16&amp; aValue);</code></p><h4 class="subheading">Description</h4>
<p>Reads wide (Unicode) text located in a specific column within the current
record and copies it into a 16 bit modifiable descriptor. The column is
identified by the name supplied in the descriptor <code>aColumn</code>.</p>
<p>If the column in the current record has a <code>NULL</code> value and the
table has a template record, then the text located in the corresponding column
in that template record is read and copied into <code>aValue</code>.</p>
<p>If the column in the current record has a NULL value and the table does
not have a template record, then the length of the
descriptor<code>aValue</code> is set to zero and the descriptor contains no
text.</p>
<p>The maximum length of text expected by this function is the value of the
constant <code>KCommsDbSvrMaxColumnNameLength</code> defined in cdblen.h. The
maximum length of <code>aValue</code> supplied by the caller can, therefore, be
the same.</p>
<p>Notes:</p>
<ul>
<li>
<p>This read operation must not occur if any of the operations involved in
inserting or updating a record are still outstanding, otherwise the function
raises a CommsDbServer 10 panic. For example, the panic is raised if this
function is called between calls
to<code>UpdateRecord()</code>and<code>PutRecordChanges()</code>.</p>
</li>
<li>
<p>This panic is also raised if this function is called after the view has
been closed.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of the column in the
current record whose (wide text) value is to be read. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes16&amp; aValue </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a 16 bit descriptor passed by the caller. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrCorrupt </code></td>
<td class="Cell"><p class="ValueDesc"> Incorrect column type specified </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrNotFound </code></td>
<td class="Cell"><p class="ValueDesc"> Specified column does not exist in the table </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.7"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aReadColumnLengthL%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadColumnLengthL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void ReadColumnLengthL(const TDesC&amp; aColumn, TInt&amp; aLength);</code></p><h4 class="subheading">Description</h4>
<p>Gets the length of a specific column within the current record and copies
it into a reference to an integer. The column is identified by the name
supplied in the descriptor <code>aColumn</code>.</p>
<p>If the length of the column is zero and the table has a template record,
then the length of the corresponding column in that template record is copied
into <code>aValue</code>.</p>
<p>Notes:</p>
<ul>
<li>
<p>This read operation must not occur if any of the operations involved in
inserting or updating a record are still outstanding, otherwise the function
raises a CommsDbServer 10 panic. For example, the panic is raised if this
function is called between calls
to<code>UpdateRecord()</code>and<code>PutRecordChanges()</code>.</p>
</li>
<li>
<p>This panic is also raised if this function is called after the view has
been closed.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of a column in the
current record. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt&amp; aLength </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to an integer passed by the caller. On successful return
from this function, contains a copy of the length of the column. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrNotFound </code></td>
<td class="Cell"><p class="ValueDesc"> Specified column does not exist in the table </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.8"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aReadLongTextLC%28%29"></a>
<hr size="1" noshade>
<h3><code>ReadLongTextLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>HBufC* ReadLongTextLC(const TDesC&amp; aColumn);</code></p><h4 class="subheading">Description</h4>
<p>Reads the long text located in a specific column within the current
record and copies this text to a heap descriptor. The heap descriptor is
allocated and its pointer returned by this function. The column is identified
by the name supplied in the descriptor <code>aColumn</code>.</p>
<p>If the column in the current record has a <code>NULL</code> value and the
table has a template record, then the long text located in the corresponding
column in that template record is read and copied.</p>
<p>If the column in the current record has a <code>NULL</code> value and the
table does not have a template record, then the length of the returned heap
descriptor is zero and the descriptor contains no text.</p>
<p>While the text in columns retrieved by
the<code>ReadTextL()</code>functions is limited in length, there is no
restriction on the length of long text. </p>
<p>Notes:</p>
<ul>
<li>
<p>This read operation must not occur if any of the operations involved in
inserting or updating a record are still outstanding, otherwise the function
raises a CommsDbServer 10 panic. For example, the panic is raised if this
function is called between calls
to<code>UpdateRecord()</code>and<code>PutRecordChanges()</code>.</p>
</li>
<li>
<p>This panic is also raised if this function is called after the view has
been closed.</p>
</li>
</ul><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of a column in the
current record. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> HBufC* </code></td>
<td class="Cell"><p class="ValueDesc"> Pointer to a heap descriptor containing the long text. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrCorrupt </code></td>
<td class="Cell"><p class="ValueDesc"> Incorrect column type specified </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> KErrNotFound </code></td>
<td class="Cell"><p class="ValueDesc"> Specified column does not exist in the table </p></td>
</tr>
</table></td></tr></table>
<a name="2.10"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Writing data to a column</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aWriteUintL%28%29"></a>
<hr size="1" noshade>
<h3><code>WriteUintL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void WriteUintL(const TDesC&amp; aColumn, const TUint32&amp; aValue);</code></p><h4 class="subheading">Description</h4>
<p>Writes an unsigned integer value to a specific column within the current
record. The column is identified by the name supplied in the
descriptor<code>aColumn</code>.</p>
<p>An earlier call to
either<code>UpdateRecord()</code>or<code>InsertRecord()</code> must have been
made before calling this function otherwise the function raises a CommsDbServer
12 panic. This panic is also raised if this function is called after the view
has been closed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of a column in the
current record. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TUint32&amp; aValue </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to an unsigned integer containing the value to be written
into the column. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function can leave for reasons defined by DBMS. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.3"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aWriteBoolL%28%29"></a>
<hr size="1" noshade>
<h3><code>WriteBoolL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void WriteBoolL(const TDesC&amp; aColumn, const TBool&amp; aValue);</code></p><h4 class="subheading">Description</h4>
<p>Writes a Boolean value to a specific column within the current record.
The column is identified by the name supplied in the
descriptor<code>aColumn</code>.</p>
<p>An earlier call to
either<code>UpdateRecord()</code>or<code>InsertRecord()</code> must have been
made before calling this function otherwise the function raises a CommsDbServer
12 panic. This panic is also raised if this function is called after the view
has been closed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of a column in the
current record. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TBool&amp; aValue </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to <code>TBool</code> containing the value to be written
into the column. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function can leave for reasons defined by DBMS. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.4"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aWriteTextL%28%29"></a>
<hr size="1" noshade>
<h3><code>WriteTextL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void WriteTextL(const TDesC&amp; aColumn, const TDesC8&amp; aValue);</code></p><h4 class="subheading">Description</h4>
<p>Writes the narrow (ASCII) text from an 8 bit descriptor to a specific
column within the current record. The column is identified by the name supplied
in the descriptor <code>aColumn</code>.</p>
<p>The length of the text cannot be greater than the value of the
constant<code>KCommsDbSvrMaxColumnNameLength</code> defined in cdblen.h,
otherwise the function leaves.</p>
<p>An earlier call to
either<code>UpdateRecord()</code>or<code>InsertRecord()</code> must have been
made before calling this function otherwise the function raises a CommsDbServer
12 panic.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of a column in the
current record. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC8&amp; aValue </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to an 8 bit descriptor containing the narrow text to be
written into the column. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function can leave for reasons defined by DBMS but it also leaves
with <code>KErrOverflow</code> , if the length of the text is greater than the
maximum permitted. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.5"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aWriteTextL%28%29"></a>
<hr size="1" noshade>
<h3><code>WriteTextL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void WriteTextL(const TDesC&amp; aColumn, const TDesC16&amp; aValue);</code></p><h4 class="subheading">Description</h4>
<p>Writes the wide (UNICODE) text from a 16 bit descriptor to a specific
column within the current record. The column is identified by the name supplied
in the descriptor <code>aColumn</code>.</p>
<p>The length of the text cannot be greater than the value of the
constant<code>KCommsDbSvrMaxColumnNameLength</code> defined in cdblen.h,
otherwise the function leaves.</p>
<p>An earlier call to
either<code>UpdateRecord()</code>or<code>InsertRecord()</code> must have been
made before calling this function otherwise the function raises a CommsDbServer
12 panic. This panic is also raised if this function is called after the view
has been closed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of a column in the
current record. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC16&amp; aValue </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a 16 bit descriptor containing the wide text to be
written into the column. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function can leave for reasons defined by DBMS but it also leaves
with <code>KErrOverflow</code> , if the length of the text is greater than the
maximum permitted. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.6"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aWriteLongTextL%28%29"></a>
<hr size="1" noshade>
<h3><code>WriteLongTextL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void WriteLongTextL(const TDesC&amp; aColumn, const TDesC&amp; aValue);</code></p><h4 class="subheading">Description</h4>
<p>Writes the long text from a descriptor to a specific column within the
current record. The column is identified by the name supplied in the
descriptor<code>aColumn</code>.</p>
<p>An earlier call to
either<code>UpdateRecord()</code>or<code>InsertRecord()</code> must have been
made before calling this function otherwise the function raises a CommsDbServer
12 panic. This panic is also raised if this function is called after the view
has been closed.</p>
<p>While the text written by <code>WriteTextL()</code> functions is limited
in length, there is no restriction on the length of long text. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of a column in the
current record. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aValue </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the long text to be written into
the column. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Leave codes</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">&nbsp;</code></td>
<td class="Cell"><p class="ValueDesc">The function can leave for reasons defined by DBMS. </p></td>
</tr>
</table></td></tr></table>
<a name="2.10.7"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aSetNullL%28%29"></a>
<hr size="1" noshade>
<h3><code>SetNullL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetNullL(const TDesC&amp; aColumn);</code></p><h4 class="subheading">Description</h4>
<p>Sets a specific column within the current record to <code>NULL</code>.
For text type columns, this is the same as setting the column to an empty
string. The column is identified by the name supplied in the
descriptor<code>aColumn</code>.</p>
<p>An earlier call to
either<code>UpdateRecord()</code>or<code>InsertRecord()</code> must have been
made before calling this function otherwise the function raises a CommsDbServer
12 panic. This panic is also raised if this function is called after the view
has been closed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TDesC&amp; aColumn </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor containing the name of a column in the
current record. </p></td>
</tr>
</table></td></tr></table>
<a name="2.11"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Get name of the table</h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aCCommsDbTableView%3a%3aGetTableName%28%29"></a>
<hr size="1" noshade>
<h3><code>GetTableName()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetTableName(TDes&amp; aTableName) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the name of the table associated with this view and copies it into
the descriptor supplied by the caller.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TDes&amp; aTableName </code></td>
<td class="Cell"><p class="ValueDesc"> A reference to a descriptor passed by the caller. On return from this
function it contains the name of the table. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
