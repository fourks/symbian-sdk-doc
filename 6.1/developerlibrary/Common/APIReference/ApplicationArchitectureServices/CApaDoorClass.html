<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CApaDoor</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="index.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CApaMaskedBitmapClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Application&nbsp;Architecture&nbsp;Services</a>&nbsp;<span class="separator">&#187;</span>
CApaDoor</p>

<hr noshade size="1">
<div class="AuthoredContent">
<p>Location: <code>apgdoor.h
</code><br>Link against: <code>apgrfx.lib
</code></p>
</div><div class="Head1">
<a name="%3a%3aCApaDoor"></a>

<h1>Class <code>CApaDoor</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CApaDoor</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>A wrapper for an embedded document that can be displayed in a user interface as an icon or a glass door.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code>CApaDoor</code></td><td class="Cell">A wrapper for an embedded document that can be displayed in a user interface as an icon or a glass door</td>
</tr>
<tr><td class="Cell"><code><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase">CApaDoorBase</a></code></td><td class="Cell">The base class for the graphic representation of an embedded document</td>
</tr>
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code><a href="../Embedding/CPictureClass.html#%3a%3aCPicture">CPicture</a></code></td><td class="Cell">Abstract base class for: drawing a picture to a graphics context, storing and restoring the picture</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CApaDoor</code>:
<br><code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aAppUidL%28%29" title="Gets the application specific UID associated with the embedded document">AppUidL()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aCapability%28%29" title="Gets the picture's capabilities">Capability()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aCaption%28%29" title="Gets the name of the application with which the embedded document is associated">Caption()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aDetachFromStoreL%28%29" title="Detaches the door from its store, restoring any unrestored elements of the picture, if necessary">DetachFromStoreL()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aDocumentL%28%29" title="Returns a pointer to the embedded document represented by this wrapper">DocumentL()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aDraw%28%29" title="Draws the door either as glass or as an icon depending on the format">Draw()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aGetCropInTwips%28%29" title="Gets the cropping margins of the door in twips">GetCropInTwips()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aGetOriginalSizeInTwips%28%29" title="Get the door's original size, in twips">GetOriginalSizeInTwips()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aNewL%28%29" title="Creates a new wrapper for the specified embedded document">NewL()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aNewLC%28%29" title="Creates a new wrapper for the specified embedded document and places a pointer to it onto the cleanup stack">NewLC()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aRestoreL%28%29" title="Restores the embedded document from the specified store">RestoreL()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aScaleFactorHeight%28%29" title="Gets the door's height scale factor">ScaleFactorHeight()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aScaleFactorWidth%28%29" title="Gets the door's width scale factor">ScaleFactorWidth()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aSetCropInTwips%28%29" title="Sets the cropping margins of a picture in twips">SetCropInTwips()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aSetFormatToGlassL%28%29" title="Sets the format of the door to glass">SetFormatToGlassL()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aSetFormatToIconL%28%29" title="Sets the format of the door to iconic">SetFormatToIconL()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aSetFormatToTemporaryIconL%28%29" title="Switches the format of the door between temporarily iconic and glass">SetFormatToTemporaryIconL()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aSetScaleFactor%28%29" title="Sets the door's scale factors">SetScaleFactor()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aStoreL%28%29" title="Stores the embedded document in the specified store as an embedded store">StoreL()</a></code>, <code class="ApiItem"><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3a%7eCApaDoor%28%29" title="Destructor">~CApaDoor()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase" title="The base class for the graphic representation of an embedded document">CApaDoorBase</a></code>:
<br><code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aEGlassDoor" title="The representation is a glass door">EGlassDoor</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aEIconic" title="The representation is an icon">EIconic</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aETemporarilyIconic" title="The representation is a glass door but has been temporarily switched to an icon">ETemporarilyIconic</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aExternalizeBaseStreamL%28%29" title="Externalises the information contained in this base class to a stream in the specified store">ExternalizeBaseStreamL()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aFormat%28%29" title="Gets the current format of the representation of the embedded document">Format()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aGlassDoorSize%28%29" title="Returns the size of the glass door, in twips">GlassDoorSize()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aInternalizeBaseStreamL%28%29" title="Internalises the information for this base class from a stream in the specified store, and returns the size of the icon or glass door">InternalizeBaseStreamL()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aSetSource%28%29" title="Sets the UID that identifies this door when the source originates on a non-Symbian platform">SetSource()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aSource%28%29" title="Gets the UID that identifies this door when the source originates on a non-Symbian platform">Source()</a></code>,
<code class="ApiItem"><a href="../ApplicationArchitectureFramework/CApaDoorBaseClass.html#%3a%3aCApaDoorBase%3a%3aTFormat" title="Defines the possible formats for the graphical representation of the embedded document">TFormat</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<p>Inherited from <code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture" title="Abstract base class for: drawing a picture to a graphics context, storing and restoring the picture">CPicture</a></code>:
<br><code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aAddCropInPixels%28%29" title="Adds pixel cropping margins to the picture">AddCropInPixels()</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aEDetachDraw" title="Internalise enough information to draw the picture (and no more); null any references to containing stores">EDetachDraw</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aEDetachFull" title="Internalise all data that is required to fully store the picture later; null any references to containing stores">EDetachFull</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aExternalizeL%28%29" title="Externalises the picture to a stream">ExternalizeL()</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aGetSizeInPixels%28%29" title="Gets the picture's size in pixels">GetSizeInPixels()</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aGetSizeInTwips%28%29" title="Gets the picture's size, in twips">GetSizeInTwips()</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aLineBreakPossible%28%29" title="States whether a line break is possible, either before or after a picture">LineBreakPossible()</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aResetToOriginal%28%29" title="Resets the picture's scaling and cropping attributes to their original values">ResetToOriginal()</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aSetSizeInPixels%28%29" title="Sets the picture's size in pixels">SetSizeInPixels()</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aSetSizeInTwips%28%29" title="Sets the picture's size, in twips">SetSizeInTwips()</a></code>,
<code class="ApiItem"><a href="../Embedding/CPictureClass.html#%3a%3aCPicture%3a%3aTDetach" title="Options for detaching pictures from stores">TDetach</a></code></p>
<a name="2.6"></a></div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aNewL%28%29"></a>
<hr size="1" noshade>
<h3><code>NewL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CApaDoor* NewL(RFs&amp; aFs,CApaDocument&amp; aDoc,const TSize&amp; aDefaultIconSizeInTwips);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Creates a new wrapper  for the specified embedded document.</p><p>The door is of the specified size.</p><p>The wrapper takes ownership of the   document; if creation of the wrapper  fails, the document object is destroyed.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CApaDocument&amp; aDoc
</code></td>
<td class="Cell"><p class="ValueDesc">The document for which the wrapper is to be created.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">
const TSize&amp; aDefaultIconSizeInTwips
</code></td>
<td class="Cell"><p class="ValueDesc">The size of the door in twips.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp;</code></td>
<td class="Cell"><p class="ValueDesc">A file server session.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CApaDoor*
</code></td>
<td class="Cell"><p class="ValueDesc">
The new embedded document wrapper  object.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aNewLC%28%29"></a>
<hr size="1" noshade>
<h3><code>NewLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CApaDoor* NewLC(RFs&amp; aFs,CApaDocument&amp; aDoc,const TSize&amp; aDefaultIconSizeInTwips);</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.0
</p><h4 class="subheading">Description</h4>
<p>Creates a new wrapper for the  specified embedded document and places a pointer to it onto the cleanup stack.</p><p>The door is of the specified size.</p><p>The wrapper  takes ownership of the   document; if creation of the wrapper fails, the document object is destroyed.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CApaDocument&amp; aDoc
</code></td>
<td class="Cell"><p class="ValueDesc">
The document for which the door is to be created.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">
const TSize&amp; aDefaultIconSizeInTwips
</code></td>
<td class="Cell"><p class="ValueDesc">The size of the door in twips.
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">RFs&amp;</code></td>
<td class="Cell"><p class="ValueDesc">A file server session.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CApaDoor*
</code></td>
<td class="Cell"><p class="ValueDesc">
The new embedded document wrapper  object.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aNewL%28%29"></a>
<hr size="1" noshade>
<h3><code>NewL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CApaDoor* NewL(CApaDocument&amp; aDoc,const TSize&amp; aDefaultIconSizeInTwips);</code></p><h4 class="subheading">Support</h4>
<p>Withdrawn in 6.0
</p><h4 class="subheading">Description</h4>
<p>Creates a new wrapper  for the specified embedded document.</p><p>The door is of the specified size.</p><p>The wrapper takes ownership of the   document; if creation of the wrapper  fails, the document object is destroyed.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CApaDocument&amp; aDoc
</code></td>
<td class="Cell"><p class="ValueDesc">The document for which the door is to be created
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">
const TSize&amp; aDefaultIconSizeInTwips
</code></td>
<td class="Cell"><p class="ValueDesc">The size of the door in twips.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CApaDoor*
</code></td>
<td class="Cell"><p class="ValueDesc">
The new embedded document wrapper  object.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aNewLC%28%29"></a>
<hr size="1" noshade>
<h3><code>NewLC()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CApaDoor* NewLC(CApaDocument&amp; aDoc,const TSize&amp; aDefaultIconSizeInTwips);</code></p><h4 class="subheading">Support</h4>
<p>Withdrawn in 6.0
</p><h4 class="subheading">Description</h4>
<p>Creates a new wrapper for the  specified embedded document and places a pointer to it onto the cleanup stack.</p><p>The door is of the specified size.</p><p>The wrapper  takes ownership of the   document; if creation of the wrapper fails, the document object is destroyed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CApaDocument&amp; aDoc
</code></td>
<td class="Cell"><p class="ValueDesc">
The document for which the door is to be created.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">
const TSize&amp; aDefaultIconSizeInTwips
</code></td>
<td class="Cell"><p class="ValueDesc">The size of the door in twips.
</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CApaDoor*
</code></td>
<td class="Cell"><p class="ValueDesc">The new embedded document wrapper  object.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6.6"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3a%7eCApaDoor%28%29"></a>
<hr size="1" noshade>
<h3><code>~CApaDoor()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>~CApaDoor();</code></p><h4 class="subheading">Description</h4>
<p>Destructor.</p><p>Frees all resources owned by the object, prior to its
destruction. In particular, it destroys the document, removing all references to it from the application process.</p>
<a name="2.7"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Format changing</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aSetFormatToGlassL%28%29"></a>
<hr size="1" noshade>
<h3><code>SetFormatToGlassL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetFormatToGlassL();</code></p><h4 class="subheading">Description</h4>
<p>Sets the format of the door to glass.</p><p> The function asks the document to create a fresh copy of the  door  and destroys any existing copy. If the process of creating the door completes without leaving, but returns a zero pointer, then the function  raises an APGRFX 17 panic.</p><p>The function leaves  with:</p><ul><li><p><code> KErrNotSupported</code>, if the document does not support being represented by a glass door.</p></li><li><p><code>KErrNotFound</code>, if the application DLL  cannot be found.</p></li></ul><p>If the function leaves, the format remains unchanged.</p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aGlassPictureL%28%29" title="Gets an object that can draw a representation of the document's content"><code class="ApiItem">CApaDocument::GlassPictureL()</code></a></li>
</ul>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aSetFormatToIconL%28%29"></a>
<hr size="1" noshade>
<h3><code>SetFormatToIconL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetFormatToIconL();</code></p><h4 class="subheading">Description</h4>
<p>Sets the format of the door to iconic.</p><p>The application's icon is used, or, if this cannot be found, the default icon is used instead.  The function leaves only  if construction of the default icon object fails.</p>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aSetFormatToTemporaryIconL%28%29"></a>
<hr size="1" noshade>
<h3><code>SetFormatToTemporaryIconL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetFormatToTemporaryIconL(TBool aEnabled=ETrue);</code></p><h4 class="subheading">Description</h4>
<p>Switches the format of the door between temporarily iconic and glass.</p><p>If the door is iconic, then the function does nothing.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TBool aEnabled</code></td>
<td class="Cell"><p class="ValueDesc">If <code>ETrue</code> and the format is currently glass, then the format switches to temporarily iconic; this is the default. If <code>EFalse</code> and the format is currently temporarily iconic, then the format switches to glass.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Document and application information</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aDocumentL%28%29"></a>
<hr size="1" noshade>
<h3><code>DocumentL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CApaDocument* DocumentL(TBool aCheckPassword=EFalse);</code></p><h4 class="subheading">Description</h4>
<p>Returns a pointer to the embedded document represented by this wrapper.</p><p>If necessary, the document is restored from its embedded store.</p><p>Note that if the wrapper does not have a reference to the embedded document store, then the function raises a APGRFX 13 panic. Constructing this wrapper through a <code>TApaPictureFactory</code> or storing  the embedded document through <code>CApaDoor::StoreL()</code>  ensures that this wrapper has a reference to the embedded document store.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TBool aCheckPassword
</code></td>
<td class="Cell"><p class="ValueDesc">
If <code>ETrue</code>, any password is checked before returning a pointer to the document. If <code>EFalse</code>, the password is not checked.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CApaDocument*
</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the embedded document.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="TApaPictureFactoryClass.html#%3a%3aTApaPictureFactory" title="A factory class for instantiating and restoring an application's door"><code class="ApiItem">TApaPictureFactory</code></a></li>
<li><a href="CApaDoorClass.html#%3a%3aCApaDoor%3a%3aStoreL%28%29" title="Stores the embedded document in the specified store as an embedded store"><code class="ApiItem">CApaDoor::StoreL()</code></a></li>
<li><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aValidatePasswordL%28%29" title="Checks the document password"><code class="ApiItem">CApaDocument::ValidatePasswordL()</code></a></li>
</ul>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aAppUidL%28%29"></a>
<hr size="1" noshade>
<h3><code>AppUidL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUid AppUidL() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the application specific UID associated with the embedded document.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TUid
</code></td>
<td class="Cell"><p class="ValueDesc">The application specific UID.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aCaption%28%29"></a>
<hr size="1" noshade>
<h3><code>Caption()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TDesC* Caption() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the name of the application with which the embedded document  is associated.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TDesC*
</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to a descriptor containing the name of the application.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Persistence</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aStoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>StoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TStreamId StoreL(CStreamStore&amp; aStore) const;</code></p><h4 class="subheading">Description</h4>
<p>Stores the embedded document in the specified store as an embedded store.</p><p>This function saves the format of the door. It also stores the document, if the document exists in memory, otherwise, it simply copies the stream containing the embedded document into the specified store.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CStreamStore&amp; aStore
</code></td>
<td class="Cell"><p class="ValueDesc">The store into which the embedded document is to be stored.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TStreamId
</code></td>
<td class="Cell"><p class="ValueDesc">The stream ID of the  head stream
for the embedded document. This stream contains the stream dictionary through which the embedded document and its door  can be restored.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aRestoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>RestoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void RestoreL(const CStreamStore&amp; aStore,TStreamId aHeadStreamId);</code></p><h4 class="subheading">Description</h4>
<p>Restores the embedded document from the specified store.</p><p>The format of the door is set to iconic if the embedded document is password protected.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
const CStreamStore&amp; aStore
</code></td>
<td class="Cell"><p class="ValueDesc">The store from  which the embedded document is to be restored.
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">
TStreamId aHeadStreamId
</code></td>
<td class="Cell"><p class="ValueDesc">The stream ID of the head stream for the embedded document. This stream contains the stream dictionary through which the embedded document and its door  can be restored.</p></td>
</tr>
</table></td></tr></table>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aDetachFromStoreL%28%29"></a>
<hr size="1" noshade>
<h3><code>DetachFromStoreL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void DetachFromStoreL(TDetach aDegree=EDetachFull);</code></p><h4 class="subheading">Description</h4>
<p>Detaches the door from its store, restoring any unrestored elements of the picture, if necessary.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TDetach aDegree=EDetachFull
</code></td>
<td class="Cell"><p class="ValueDesc">Degree to which picture is detached.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="../ApplicationArchitectureFramework/CApaDocumentClass.html#%3a%3aCApaDocument%3a%3aDetachFromStoreL%28%29" title="Restores the document to the extent that it does not need the store further"><code class="ApiItem">CApaDocument::DetachFromStoreL()</code></a></li>
</ul>
<a name="2.10"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Drawing</h2>
</div><div class="Bodytext">
<a name="2.10.2"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aDraw%28%29"></a>
<hr size="1" noshade>
<h3><code>Draw()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Draw(CGraphicsContext&amp; aGc,const TPoint&amp; aTopLeft,const TRect&amp; aClipRect,MGraphicsDeviceMap* aMap) const;</code></p><h4 class="subheading">Description</h4>
<p>Draws the door either as glass or as an icon depending on the format.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CGraphicsContext&amp; aGc
</code></td>
<td class="Cell"><p class="ValueDesc">
The graphics context.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">
const TPoint&amp; aTopLeft
</code></td>
<td class="Cell"><p class="ValueDesc">
The co-ordinates where the top left corner pixel of the
picture should be placed. Note that whether this is actually drawn depends on
the clipping area defined.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">
const TRect&amp; aClipRect
</code></td>
<td class="Cell"><p class="ValueDesc">
A clipping rectangle.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">
MGraphicsDeviceMap* aMap
</code></td>
<td class="Cell"><p class="ValueDesc">
The device map for the graphics device.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Picture scaling</h2>
</div><div class="Bodytext">
<a name="2.11.2"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aSetScaleFactor%28%29"></a>
<hr size="1" noshade>
<h3><code>SetScaleFactor()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetScaleFactor(TInt aScaleFactorWidth,TInt aScaleFactorHeight);</code></p><h4 class="subheading">Description</h4>
<p>Sets the door's  scale factors.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TInt aScaleFactorWidth
</code></td>
<td class="Cell"><p class="ValueDesc">The width scale factor, in percent.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">
TInt aScaleFactorHeight
</code></td>
<td class="Cell"><p class="ValueDesc">The height scale factor, in percent.
</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.3"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aScaleFactorWidth%28%29"></a>
<hr size="1" noshade>
<h3><code>ScaleFactorWidth()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt ScaleFactorWidth() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the door's width scale factor.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TInt
</code></td>
<td class="Cell"><p class="ValueDesc">The width scale factor, in percent.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.4"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aScaleFactorHeight%28%29"></a>
<hr size="1" noshade>
<h3><code>ScaleFactorHeight()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt ScaleFactorHeight() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the door's height scale factor.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TInt
</code></td>
<td class="Cell"><p class="ValueDesc">The height scale factor, in percent.</p></td>
</tr>
</table></td></tr></table>
<a name="2.11.5"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aGetOriginalSizeInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>GetOriginalSizeInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetOriginalSizeInTwips(TSize&amp; aSize) const;</code></p><h4 class="subheading">Description</h4>
<p>Get the door's original size, in twips.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TSize&amp; aSize
</code></td>
<td class="Cell"><p class="ValueDesc">
The size, in twips.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Picture cropping</h2>
</div><div class="Bodytext">
<a name="2.12.2"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aSetCropInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>SetCropInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetCropInTwips(const TMargins&amp; aMargins);</code></p><h4 class="subheading">Description</h4>
<p>Sets the cropping margins of a picture in twips.</p><p>These are relative to the original unscaled size of the picture.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
const TMargins&amp; aMargins
</code></td>
<td class="Cell"><p class="ValueDesc">
The cropping margins, in twips.</p></td>
</tr>
</table></td></tr></table>
<a name="2.12.3"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aGetCropInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>GetCropInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void GetCropInTwips(TMargins&amp; aMargins) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the cropping margins of the door in twips.</p><p>These margins are relative to the original unscaled size of the picture.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TMargins&amp; aMargins
</code></td>
<td class="Cell"><p class="ValueDesc">
The cropping margins, in twips.</p></td>
</tr>
</table></td></tr></table>
<a name="2.13"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Status</h2>
</div><div class="Bodytext">
<a name="2.13.2"></a></div><div class="Head3">
<a name="%3a%3aCApaDoor%3a%3aCapability%28%29"></a>
<hr size="1" noshade>
<h3><code>Capability()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TPictureCapability Capability() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the picture's capabilities.</p><p>These include whether it is scalable and croppable.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TPictureCapability
</code></td>
<td class="Cell"><p class="ValueDesc">The capabilities of the picture.</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
