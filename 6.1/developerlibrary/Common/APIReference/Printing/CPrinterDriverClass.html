<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>CPrinterDriver</title>
<link href="../../../_stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../_stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../_stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../_stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../_stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../_stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../_stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CPrinterDeviceClass.html"><img src="../../../_stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="CPrinterDriverUIClass.html"><img src="../../../_stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Printing</a>&nbsp;<span class="separator">&#187;</span>
CPrinterDriver</p>

<hr noshade size="1">
<div class="AuthoredContent">
<p>Location: <code>
gdi.h
</code><br>Link against: <code>
gdi.lib
</code></p>
</div><div class="Head1">
<a name="%3a%3aCPrinterDriver"></a>

<h1>Class <code>CPrinterDriver</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>CPrinterDriver</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Provides access to a  store containing printer specification data.</p><p>Printer specification data is held as a direct file store, and usually has a .pdr file type.</p><p>A printer driver is implemented as two files: a PDR file containing the printer specification data and a PDL file containing the
code to link the printer with the graphics  printing system.</p><p>The  printer specification data is generated by compiling a text file (a .pd file type) using the pdrtran tool. Printer specification data defines:</p><ul><li><p>the name of the associated PDL</p></li><li><p>a list of one or more models supported by this driver, identified by  name and UID</p></li><li><p>device information such as the size of the device, typeface information for each model, including which typefaces are
supported, the  heights available in each typeface and the width of each character in a font.</p></li></ul><h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase">CBase</a></code></td><td class="Cell">Base class for all classes to be instantiated on the heap</td>
</tr>
<tr><td class="Cell"><code>CPrinterDriver</code></td><td class="Cell">Provides access to a store containing printer specification data</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>CPrinterDriver</code>:
<br><code class="ApiItem"><a href="CPrinterDriverClass.html#%3a%3aCPrinterDriver%3a%3aClose%28%29" title="Closes the printer specification data store and frees resources">Close()</a></code>, <code class="ApiItem"><a href="CPrinterDriverClass.html#%3a%3aCPrinterDriver%3a%3aCreatePrinterDeviceL%28%29" title="Creates the physical graphics device to be used for printing">CreatePrinterDeviceL()</a></code>, <code class="ApiItem"><a href="CPrinterDriverClass.html#%3a%3aCPrinterDriver%3a%3aCreatePrinterDriverUIL%28%29" title="Constructs a printer specific user interface">CreatePrinterDriverUIL()</a></code>, <code class="ApiItem"><a href="CPrinterDriverClass.html#%3a%3aCPrinterDriver%3a%3aModel%28%29" title="Gets the specified printer model">Model()</a></code>, <code class="ApiItem"><a href="CPrinterDriverClass.html#%3a%3aCPrinterDriver%3a%3aNewL%28%29" title="Constructs, and returns a pointer to a new instance for accessing a printer specification data store">NewL()</a></code>, <code class="ApiItem"><a href="CPrinterDriverClass.html#%3a%3aCPrinterDriver%3a%3aNumModels%28%29" title="Gets the number of printer models defined by the printer specification">NumModels()</a></code>, <code class="ApiItem"><a href="CPrinterDriverClass.html#%3a%3aCPrinterDriver%3a%3aOpenPdrL%28%29" title="Opens the specified printer specification data store">OpenPdrL()</a></code>, <code class="ApiItem"><a href="CPrinterDriverClass.html#%3a%3aCPrinterDriver%3a%3aPrinterDevice%28%29" title="Gets the associated graphics printer device">PrinterDevice()</a></code>, <code class="ApiItem"><a href="CPrinterDriverClass.html#%3a%3aCPrinterDriver%3a%3a%7eCPrinterDriver%28%29" title="Destructor">~CPrinterDriver()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase" title="Base class for all classes to be instantiated on the heap">CBase</a></code>:
<br><code class="ApiItem"><a href="../BasicTypes/CBaseClass.html#%3a%3aCBase%3a%3aoperator%20new%28%29" title="Allocates the object from the heap and then initialises its contents to binary zeroes">operator new()</a></code></p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CPrinterDriverUIClass.html#%3a%3aCPrinterDriverUI" title="Printer specific user interface"><code class="ApiItem">CPrinterDriverUI</code></a></li>
</ul>
<a name="2.7"></a></div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aCPrinterDriver%3a%3aNewL%28%29"></a>
<hr size="1" noshade>
<h3><code>NewL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static CPrinterDriver* NewL();</code></p><h4 class="subheading">Description</h4>
<p>Constructs, and returns a pointer to a new instance for accessing  a printer specification data  store.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CPrinterDriver*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to the object for accessing a printer specification data  store.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aCPrinterDriver%3a%3a%7eCPrinterDriver%28%29"></a>
<hr size="1" noshade>
<h3><code>~CPrinterDriver()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>~CPrinterDriver();</code></p><h4 class="subheading">Description</h4>
<p>Destructor.</p><p>It  frees all resources owned by the object, prior to its destruction. In particular, it closes the printer specification data  store and  any open session with the file server.</p>
<a name="2.8"></a></div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../_stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Member functions</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aCPrinterDriver%3a%3aOpenPdrL%28%29"></a>
<hr size="1" noshade>
<h3><code>OpenPdrL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void OpenPdrL(const TDesC&amp; aName);</code></p><h4 class="subheading">Description</h4>
<p>Opens the specified printer  specification data  store.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
const TDesC&amp; aName
</code></td>
<td class="Cell"><p class="ValueDesc">
The name of the printer specification data  store. This must be  a valid printer specification data store,
otherwise the function leaves with <code>KErrNotSupported</code>.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aCPrinterDriver%3a%3aClose%28%29"></a>
<hr size="1" noshade>
<h3><code>Close()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Close();</code></p><h4 class="subheading">Description</h4>
<p>Closes the printer specification data  store and  frees resources.</p><p>An open session with the file server remains open.</p>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aCPrinterDriver%3a%3aNumModels%28%29"></a>
<hr size="1" noshade>
<h3><code>NumModels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt NumModels() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the number of printer models defined by the printer specification.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
TInt</code></td>
<td class="Cell"><p class="ValueDesc">
The number of printer models.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aCPrinterDriver%3a%3aModel%28%29"></a>
<hr size="1" noshade>
<h3><code>Model()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TPrinterModelEntry Model(TInt aNum) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the specified printer model.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aNum</code></td>
<td class="Cell"><p class="ValueDesc">An index into the list of printer models defined in the printer specification data.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TPrinterModelEntry</code></td>
<td class="Cell"><p class="ValueDesc">Model specific information.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.6"></a></div><div class="Head3">
<a name="%3a%3aCPrinterDriver%3a%3aPrinterDevice%28%29"></a>
<hr size="1" noshade>
<h3><code>PrinterDevice()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CPrinterDevice* PrinterDevice();</code></p><h4 class="subheading">Description</h4>
<p>Gets the associated graphics printer device.</p><h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">
CPrinterDevice*</code></td>
<td class="Cell"><p class="ValueDesc">
The physical graphics device  used for printing.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.7"></a></div><div class="Head3">
<a name="%3a%3aCPrinterDriver%3a%3aCreatePrinterDeviceL%28%29"></a>
<hr size="1" noshade>
<h3><code>CreatePrinterDeviceL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CPrinterDevice* CreatePrinterDeviceL(TUid aModelUid);</code></p><h4 class="subheading">Description</h4>
<p>Creates the physical graphics device  to be used for printing.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TUid aModelUid</code></td>
<td class="Cell"><p class="ValueDesc">The UID of a specific model which is defined in the printer specification data.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CPrinterDevice*
</code></td>
<td class="Cell"><p class="ValueDesc">
The physical graphics device  to be used for printing.
</p></td>
</tr>
</table></td></tr></table>
<a name="2.8.8"></a></div><div class="Head3">
<a name="%3a%3aCPrinterDriver%3a%3aCreatePrinterDriverUIL%28%29"></a>
<hr size="1" noshade>
<h3><code>CreatePrinterDriverUIL()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>CPrinterDriverUI* CreatePrinterDriverUIL();</code></p><h4 class="subheading">Description</h4>
<p>Constructs a printer specific user interface.</p><p>The user interface object is optional, but if it exists, it is implemented as part of a UDL (i.e. a UI DLL).</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">CPrinterDriverUI*</code></td>
<td class="Cell"><p class="ValueDesc">A pointer to the printer specific user interface, or NULL if there  is  none.</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../_stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
