<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>RWsSpriteBase</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="RWsSessionClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="RWsSpriteClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Window&nbsp;Server</a>&nbsp;<span class="separator">&#187;</span>
RWsSpriteBase</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>w32std.h</code>
<br>Link against: <code>ws32.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aRWsSpriteBase"></a>

<h1>Class <code>RWsSpriteBase</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>RWsSpriteBase</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Sprite base class.</p>
<h4 class="subheading">Derivation</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr><td class="Cell"><code><a href="MWsClientClassClass.html#%3a%3aMWsClientClass">MWsClientClass</a></code></td><td class="Cell">Base class for all classes whose objects are clients of the window server engine</td>
</tr>
<tr><td class="Cell"><code>RWsSpriteBase</code></td><td class="Cell">Sprite base class</td>
</tr>
</table></td></tr></table>
<p>Defined in <code>RWsSpriteBase</code>:
<br><code class="ApiItem"><a href="RWsSpriteBaseClass.html#%3a%3aRWsSpriteBase%3a%3aActivate%28%29" title="Activates the sprite or pointer cursor">Activate()</a></code>, <code class="ApiItem"><a href="RWsSpriteBaseClass.html#%3a%3aRWsSpriteBase%3a%3aAppendMember%28%29" title="Adds a sprite member to a sprite or pointer cursor">AppendMember()</a></code>, <code class="ApiItem"><a href="RWsSpriteBaseClass.html#%3a%3aRWsSpriteBase%3a%3aClose%28%29" title="Destroys the sprite or pointer cursor in the window server, and frees client-side resources used by the sprite">Close()</a></code>, <code class="ApiItem"><a href="RWsSpriteBaseClass.html#%3a%3aRWsSpriteBase%3a%3aRWsSpriteBase%28%29" title="Protected constructor with window server session">RWsSpriteBase()</a></code>, <code class="ApiItem"><a href="RWsSpriteBaseClass.html#%3a%3aRWsSpriteBase%3a%3aUpdateMember%28%29" title="Replaces one of a sprite's TSpriteMember members">UpdateMember()</a></code>
</p>
<p>Inherited from <code class="ApiItem"><a href="MWsClientClassClass.html#%3a%3aMWsClientClass" title="Base class for all classes whose objects are clients of the window server engine">MWsClientClass</a></code>:
<br><code class="ApiItem"><a href="MWsClientClassClass.html#%3a%3aMWsClientClass%3a%3aWsHandle%28%29" title="Gets the server side handle for the object">WsHandle()</a></code></p>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>Unless stated otherwise, references to sprites in this class
description also apply to pointer cursors.</note></li>
</ul>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="RWsSpriteClass.html#%3a%3aRWsSprite" title="Sprite"><code class="ApiItem">RWsSprite</code></a></li>
<li><a href="RWsPointerCursorClass.html#%3a%3aRWsPointerCursor" title="Pointer cursor"><code class="ApiItem">RWsPointerCursor</code></a></li>
</ul>
<a name="2.8"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aRWsSpriteBase%3a%3aRWsSpriteBase%28%29"></a>
<hr size="1" noshade>
<h3><code>RWsSpriteBase()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>protected: RWsSpriteBase();</code></p><h4 class="subheading">Description</h4>
<p>Protected constructor. </p>
<p>The existence of this protected constructor prevents objects of
this type being directly created.</p>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aRWsSpriteBase%3a%3aRWsSpriteBase%28%29"></a>
<hr size="1" noshade>
<h3><code>RWsSpriteBase()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>protected: RWsSpriteBase(RWsSession&amp; aWs);</code></p><h4 class="subheading">Description</h4>
<p>Protected constructor with window server session. </p>
<p>The existence of this protected constructor prevents objects of
this type being directly created.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> RWsSession&amp; aWs</code></td>
<td class="Cell"><p class="ValueDesc"> The window server session owning the sprite. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aRWsSpriteBase%3a%3aActivate%28%29"></a>
<hr size="1" noshade>
<h3><code>Activate()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Activate();</code></p><h4 class="subheading">Description</h4>
<p>Activates the sprite or pointer cursor.</p>
<p>Sprites are displayed on the screen when they are activated;
pointer cursors are not displayed until they are set into a window using either
<code>RWindowTreeNode::SetCustomPointerCursor()</code> or
<code>RWindowTreeNode::SetPointerCursor()</code>. </p>
<p>This function should not be called until the sprite or pointer
cursor has been fully initialised, and its sprite members have been
added.</p>
<p>Before it can call this function, a sprite must be fully
constructed using the <code>RWsSprite::RWsSprite(RWsSession&amp; aWs)</code> and
<code>RWsSprite::Construct()</code> functions, and must have at least one
sprite member. Otherwise, a panic will occur. Similarly, a pointer cursor must
have at least one sprite member and must call
<code>RWsPointerCursor::RWsPointerCursor(RWsSession&amp; aWs)</code> and
<code>RWsPointerCursor::Construct()</code>.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt</code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise one of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aRWsSpriteBase%3a%3aClose%28%29"></a>
<hr size="1" noshade>
<h3><code>Close()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Close();</code></p><h4 class="subheading">Description</h4>
<p>Destroys the sprite or pointer cursor in the window server, and
frees client-side resources used by the sprite. </p>
<p>Any application which constructs an <code>RWsSprite</code> or
<code>RWsPointerCursor</code> should call this function when the sprite or
cursor is no longer needed.</p>
<p>Note that this function does not free resources used by sprite
members.</p>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Sprite member control</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aRWsSpriteBase%3a%3aAppendMember%28%29"></a>
<hr size="1" noshade>
<h3><code>AppendMember()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt AppendMember(const TSpriteMember&amp; aSpriteList);</code></p><h4 class="subheading">Description</h4>
<p>Adds a sprite member to a sprite or pointer cursor. </p>
<p>Sprite members are displayed by the sprite in the order in
which they were added to the sprite. This function can be called before and
after the sprite has been activated.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TSpriteMember&amp; aSpriteList</code></td>
<td class="Cell"><p class="ValueDesc"> The sprite member to add </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> Tint</code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise one of the
system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>The position
of the bitmap can be changed in relation to the sprite's origin using the
<code>iOffset</code> member of <code>aSpriteList</code>.</note></li>
</ul>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aRWsSpriteBase%3a%3aUpdateMember%28%29"></a>
<hr size="1" noshade>
<h3><code>UpdateMember()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void UpdateMember(TInt aIndex);</code></p><h4 class="subheading">Description</h4>
<p>Updates the displayed sprite, taking into account any change to the content of the bitmaps for the specified member.</p>
<p>The appearance of a sprite can be changed after it has been
activated by drawing to the appropriate<code> TSpriteMember::iBitmap</code>
member, and then calling this function. Alternatively, a new sprite member can
be created, containing a new bitmap, and the sprite can be updated to contain
this new member by calling the following <code>UpdateMember()</code>
overload.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> Tint aIndex</code></td>
<td class="Cell"><p class="ValueDesc"> Index of the sprite member. Sprite members are indexed in the
order they were added to the sprite, beginning with 0. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>You should only use  this function if you have only changed the content of the bitmap or mask. If you have changed the size of the bitmap then you must use the next function.</note></li>
<li><note>You only need to call this function if you want the content of the screen to update immediately. If you don't call this function then the appearance of a member  will update automatically next time that member is drawn to the screen.</note></li>
</ul>
<a name="2.9.4"></a></div><div class="Head3">
<a name="%3a%3aRWsSpriteBase%3a%3aUpdateMember%28%29"></a>
<hr size="1" noshade>
<h3><code>UpdateMember()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt UpdateMember(TInt aIndex, const TSpriteMember&amp; aMemberData);</code></p><h4 class="subheading">Description</h4>
<p>Replaces one of a sprite's <code>TSpriteMember</code> members.
</p>
<p>This allows the appearance of the sprite to be modified after
it has been activated. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> Tint aIndex</code></td>
<td class="Cell"><p class="ValueDesc"> Index of the sprite member. Sprite members are indexed in the
order they were added to the sprite, beginning with 0. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> Const TSpriteMember&amp; aMemberData</code></td>
<td class="Cell"><p class="ValueDesc"> New data for the sprite member. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt</code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code> if successful, otherwise one of the
system-wide error codes.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Notes:</h4>
<ul>
<li><note>You must call this function if you have changed the size of a member.</note></li>
<li><note>After calling this function the  sprite starts showing member zero again.</note></li>
</ul>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
