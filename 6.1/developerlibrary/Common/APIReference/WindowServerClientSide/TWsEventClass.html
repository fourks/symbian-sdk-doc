<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>TWsEvent</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="TWsErrorMessageStruct.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="TWsPriorityKeyEventClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Window&nbsp;Server</a>&nbsp;<span class="separator">&#187;</span>
TWsEvent</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>w32std.h </code>
<br>Link against: <code>N/A </code>
</p>
</div><div class="Head1">
<a name="%3a%3aTWsEvent"></a>

<h1>Class <code>TWsEvent</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>TWsEvent</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Window server event.</p>
<p>All events generated by the window server, except redraw events and
priority key events, are delivered to the client in a <code>TWsEvent</code>.
The client obtains the <code>TWsEvent</code> by calling
<code>RWsSession::GetEvent()</code>. The type of data contained in the
<code>TWsEvent</code> depends on the type of event. The client can inquire the
event type using <code>Type()</code>, and then retrieve the appropriate type of
data.</p>
<p>Defined in <code>TWsEvent</code>:
<br><code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aAnonymous" title="Event data size">Anonymous</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aEWsEventDataSize" title="The size of a TPointer event">EWsEventDataSize</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aErrorMessage%28%29" title="Gets an error event">ErrorMessage()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aEventData%28%29" title="Gets information about the event">EventData()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aHandle%28%29" title="Gets the window handle">Handle()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aKey%28%29" title="Gets the key event">Key()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aModifiersChanged%28%29" title="Gets modifier changed event">ModifiersChanged()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aPointer%28%29" title="Gets the pointer event">Pointer()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aSetHandle%28%29" title="Sets the event handle">SetHandle()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aSetTimeNow%28%29" title="Sets the event time to current time">SetTimeNow()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aSetType%28%29" title="Sets event type">SetType()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aTime%28%29" title="Gets the time when the event occurred">Time()</a></code>, <code class="ApiItem"><a href="TWsEventClass.html#%3a%3aTWsEvent%3a%3aType%28%29" title="Gets the type of event that occurred">Type()</a></code>
</p>
<a name="2.5"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Query event type</h2>
</div><div class="Bodytext">
<a name="2.5.2"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aType%28%29"></a>
<hr size="1" noshade>
<h3><code>Type()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Type() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the type of event that occurred.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt</code></td>
<td class="Cell"><p class="ValueDesc"> The event type. Event types are defined in
<code>TEventCode</code>. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Extract pointer, key and modifier changed events</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aPointer%28%29"></a>
<hr size="1" noshade>
<h3><code>Pointer()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TPointerEvent* Pointer() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the pointer event.</p>
<p>This function can be used to get information about the pointer
event if <code>Type()</code> returns an event of type
<code>EEventPointer</code>. or <code>EEventDragDrop</code>.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TPointerEvent*</code></td>
<td class="Cell"><p class="ValueDesc"> Structure containing pointer event data. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aKey%28%29"></a>
<hr size="1" noshade>
<h3><code>Key()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TKeyEvent* Key() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the key event. </p>
<p>This function can be used to get information about the key
event if <code>Type()</code> returns an event of type <code>EEventKey</code>,
<code>EEventKeyUp</code> or <code>EEventKeyDown</code>.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TKeyEvent*</code></td>
<td class="Cell"><p class="ValueDesc"> Structure containing key event data </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aModifiersChanged%28%29"></a>
<hr size="1" noshade>
<h3><code>ModifiersChanged()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TModifiersChangedEvent* ModifiersChanged() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets modifier changed event. </p>
<p>This function can be used to get information about the modifier
changed event if <code>Type()</code> returns an event of type
<code>EEventModifiersChanged</code>.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TModifiersChangedEvent* </code></td>
<td class="Cell"><p class="ValueDesc"> Structure containing modifier changed event data </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.5"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aErrorMessage%28%29"></a>
<hr size="1" noshade>
<h3><code>ErrorMessage()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TWsErrorMessage* ErrorMessage() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets an error event. </p>
<p>This function can be used to get information about the error
event if <code>Type()</code> returns an event of type
<code>EEventErrorMessage</code>.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TWsErrorMessage </code></td>
<td class="Cell"><p class="ValueDesc"> The error event.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Getting event data</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aHandle%28%29"></a>
<hr size="1" noshade>
<h3><code>Handle()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUint Handle() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the window handle. </p>
<p>This is the handle that was passed to the window's
<code>Construct()</code> function: typically it will be a pointer to the
client-side object owning the window, providing access to its member functions.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint </code></td>
<td class="Cell"><p class="ValueDesc"> The window handle. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aTime%28%29"></a>
<hr size="1" noshade>
<h3><code>Time()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TTime Time() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the time when the event occurred.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> Ttime </code></td>
<td class="Cell"><p class="ValueDesc"> The time when the event occurred. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Setting event data</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aSetType%28%29"></a>
<hr size="1" noshade>
<h3><code>SetType()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetType(TInt aType);</code></p><h4 class="subheading">Description</h4>
<p>Sets event type. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aType </code></td>
<td class="Cell"><p class="ValueDesc"> The event type. Event types are defined in
<code>TEventCode</code>. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aSetHandle%28%29"></a>
<hr size="1" noshade>
<h3><code>SetHandle()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetHandle(TUint aHandle);</code></p><h4 class="subheading">Description</h4>
<p>Sets the event handle.</p>
<p>This is the client handle of the window that is being sent the
event.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint aHandle </code></td>
<td class="Cell"><p class="ValueDesc"> The event handle. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aSetTimeNow%28%29"></a>
<hr size="1" noshade>
<h3><code>SetTimeNow()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void SetTimeNow();</code></p><h4 class="subheading">Description</h4>
<p>Sets the event time to current time.</p>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aEventData%28%29"></a>
<hr size="1" noshade>
<h3><code>EventData()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUint8* EventData() const;</code></p><h4 class="subheading">Description</h4>
<p>Gets information about the event.</p>
<p>This function gives you direct access to the event data as a
whole. The event can be a keyboard or pen event or it could be a new special
event that only you and another application know about. You are limited to
<code>EWsEventDataSize</code> bytes worth of data.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TUint8*</code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to the event data. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Enumerations</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aTWsEvent%3a%3aAnonymous"></a>
<hr size="1" noshade>
<h3>Enum <code>Anonymous</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>Anonymous</code></p><h4 class="subheading">Description</h4>
<p>Event data size.</p>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aTWsEvent%3a%3aEWsEventDataSize"><code class="Value">EWsEventDataSize</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>The size of a <code>TPointer</code> event. This is the
maximum number of bytes worth of data that can be returned by
<code>EventData()</code>. </para><para>Note:</para>
<list><ls.item><para>Currently this size is 6 bytes.</para></ls.item></list></p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
