<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>TLinearDDA</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="TDisplayModeUtilsClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="TMarginsClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Graphics</a>&nbsp;<span class="separator">&#187;</span>
TLinearDDA</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> gdi.h </code>
<br>Link against: <code> gdi.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aTLinearDDA"></a>

<h1>Class <code>TLinearDDA</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>TLinearDDA</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Linear digital differential analyser.</p>
<p>This is used to calculate the pixels which most closely approximate
a specified straight line, or when scaling a bitmap. Note that a line is
infinitely thin, and can only be approximated by pixels with real width and
height.</p>
<p>Functions are provided for:</p>
<ul>
<li>
<p>pixel line traversing</p>
</li>
<li>
<p>jumping to a rectangle or co-ordinate</p>
</li>
</ul><p>Defined in <code>TLinearDDA</code>:
<br><code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aConstruct%28%29" title="Constructs a linear DDA, setting the start and end points of the line">Construct()</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aECenter" title="Centres scan-lines in the pixel line">ECenter</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aELeft" title="Starts at the beginning of a complete scan line">ELeft</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aJumpToRect%28%29" title="Jumps to start of a clipping rectangle">JumpToRect()</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aJumpToXCoord%28%29" title="Jumps to x co-ordinate">JumpToXCoord()</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aJumpToYCoord%28%29" title="Jumps to a y co-ordinate">JumpToYCoord()</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aNextStep%28%29" title="Gets the pixel co-ordinates of the start of the next scan line">NextStep()</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aSingleScanline%28%29" title="Gets the start and end pixel co-ordinates that define the next scan line">SingleScanline()</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aSingleStep%28%29" title="Gets the pixel co-ordinates of the next pixel on the pixel line">SingleStep()</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aTLineMode" title="LDDA Line mode">TLineMode</a></code>, <code class="ApiItem"><a href="TLinearDDAClass.html#%3a%3aTLinearDDA%3a%3aTLinearDDA%28%29" title="Copy constructs a linear DDA from the specified linear DDA">TLinearDDA()</a></code>
</p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="UsingTLinearDDa.guide.html#graphics%2eusing%2dTLinearDDA" title="Using TLinearDDA">Using the TLinearDDA</a></li>
</ul>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aTLinearDDA%28%29"></a>
<hr size="1" noshade>
<h3><code>TLinearDDA()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TLinearDDA();</code></p><h4 class="subheading">Description</h4>
<p>Constructs the default linear DDA.</p>
<p>No start or end point is defined for the line.</p>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aTLinearDDA%28%29"></a>
<hr size="1" noshade>
<h3><code>TLinearDDA()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TLinearDDA(const TLinearDDA&amp; aLine);</code></p><h4 class="subheading">Description</h4>
<p>Copy constructs a linear DDA from the specified linear
DDA.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TLinearDDA&amp; aLine </code></td>
<td class="Cell"><p class="ValueDesc"> The linear DDA to be copied. </p></td>
</tr>
</table></td></tr></table>
<a name="2.6.4"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aConstruct%28%29"></a>
<hr size="1" noshade>
<h3><code>Construct()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Construct(const TPoint&amp; aStart,const TPoint&amp; aFinish,TLineMode aMode=ECenter);</code></p><h4 class="subheading">Description</h4>
<p>Constructs a linear DDA, setting the start and end points of
the line.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aStart </code></td>
<td class="Cell"><p class="ValueDesc"> The start point of the line. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aFinish </code></td>
<td class="Cell"><p class="ValueDesc"> The end point of the line. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TLineMode aMode </code></td>
<td class="Cell"><p class="ValueDesc"> The mode of the line; defaults to centred. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Stepping</h2>
</div><div class="Bodytext">
<h4 class="subheading">Description</h4>
<p>To draw the pixels in a pixel line, or to do bitmap scaling, the
pixel line must be traversed from the start point to the end point. The pixel
positions given during the traverse can then be used for the actual drawing
operation.</p>
<p>The pixel line may be traversed in three ways:</p>
<ul>
<li>
<p>one pixel at a time </p>
</li>
<li>
<p>one scan line at a time </p>
</li>
<li>
<p>one step of pixels at a time </p>
</li>
</ul>
<p>These three methods must not be mixed together. Only one
traversing function should be employed for each instance of
<code>TLinearDDA</code>. </p>
<p>The functions return true when the last pixel in the line has
been reached. Care must be taken not to call a function after it has returned
true, because the result is undefined.</p>
<p> Returning true when the last pixel has been reached is also
useful to line drawing functions that do not want to draw the last pixel of a
line.</p>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aSingleStep%28%29"></a>
<hr size="1" noshade>
<h3><code>SingleStep()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool SingleStep(TPoint&amp; aPosition);</code></p><h4 class="subheading">Description</h4>
<p>Gets the pixel co-ordinates of the next pixel on the pixel
line.</p>
<p>The function is called repeatedly until the whole line has been
traversed.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TPoint&amp; aPosition </code></td>
<td class="Cell"><p class="ValueDesc">On entry to the first call, this can be a reference to any
point. On return from the first call, this is the position of the first pixel
in the line, as specified during construction of this object. On return from
subsequent calls, this is the position of subsequent pixels in the line, as
calculated by the function. On return from the final call, this is the position
of the last pixel in the line, as specified during construction of this
object.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc"> True, when the position of the last pixel is returned; false,
otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aSingleScanline%28%29"></a>
<hr size="1" noshade>
<h3><code>SingleScanline()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool SingleScanline(TPoint&amp; aStartPosition,TPoint&amp; aEndPosition);</code></p><h4 class="subheading">Description</h4>
<p>Gets the start and end pixel co-ordinates that define the next
scan line.</p>
<p>The best line that joins the start and end points is formed
from all the scan lines returned by this function.</p>
<p>The function is called repeatedly until the position of all
scanlines has been returned.</p>
<p>The start and end points passed to the constructor of this
object define the boundaries of the line. Successive scan lines move from the
start point to the end point.</p><h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TPoint&amp; aStartPosition </code></td>
<td class="Cell"><p class="ValueDesc">On entry to the first call, this can be a reference to any
point. On return from the first call, this is the position of the pixel that
defines the leftmost position of the first scan line. On return from subsequent
calls, this is the position of the pixel that defines the leftmost position of
the next scan line. On return from the final call, either this or
<code>aEndPosition</code> is set to the end point, as specified during
construction.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TPoint&amp; aEndPosition </code></td>
<td class="Cell"><p class="ValueDesc">On entry to the first call, this can be a reference to any
point. On return from the first call, this is the position of the pixel that
defines the rightmost position of the first scan line. On return from
subsequent calls, this is the position of the pixel that defines the rightmost
position of the next scan line. On return from the final call, either this or
<code>aStartPosition</code> is set to the end point, as specified during
construction.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc">True, when the position of the last scan line includes the end
point; false, otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aNextStep%28%29"></a>
<hr size="1" noshade>
<h3><code>NextStep()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TBool NextStep(TPoint&amp; aPosition);</code></p><h4 class="subheading">Description</h4>
<p>Gets the pixel co-ordinates of the start of the next scan
line.</p>
<p>The best line that joins the start and end points is formed
from all the scan lines returned by this function.</p>
<p>The function is called repeatedly until the start position of
all scanlines has been returned.</p>
<p>The start and end points passed to the constructor of this
object define the boundaries of the line. Successive scan lines move from the
start point to the end point.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TPoint&amp; aPosition </code></td>
<td class="Cell"><p class="ValueDesc"> On entry to the first call, this can be a reference to any
point. On return from the first call, this is the position of the pixel that
defines the leftmost position of the first scan line. On return from subsequent
calls, this is the position of the pixel that defines the leftmost position of
the next scan line. On return from the final call, this is the position of the
last pixel in the line, as specified during construction. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TBool </code></td>
<td class="Cell"><p class="ValueDesc"> True, when the position of the last pixel is returned; false,
otherwise.</p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Jumping to a position</h2>
</div><div class="Bodytext">
<h4 class="subheading">Description</h4>
<p>In order to speed up the operation of a linear DDA, there are
member functions for jumping.</p>
<p>A jump can be made in three ways: </p>
<ul>
<li>
<p>to an x co-ordinate </p>
</li>
<li>
<p>to a y co-ordinate </p>
</li>
<li>
<p>to a rectangle </p>
</li>
</ul>
<p>True is returned by subsequent calls to the stepping functions if
the line:</p>
<ul>
<li>
<p>does not cross the co-ordinate or reach the rectangle </p>
</li>
<li>
<p>has not been constructed </p>
</li>
<li>
<p>has been run to completion </p>
</li>
</ul>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aJumpToXCoord%28%29"></a>
<hr size="1" noshade>
<h3><code>JumpToXCoord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void JumpToXCoord(const TInt aXCoord,TInt&amp; aYCoord);</code></p><h4 class="subheading">Description</h4>
<p>Jumps to x co-ordinate.</p>
<p> The other co-ordinate of the intersection is returned through
a reference argument. After a jump call, the line is ready to continue through
calls to the stepping functions.</p>
<p>This function accelerates the Linear DDA stepping functions
(e.g. <code>SingleStep()</code>) making them return false when they reach the
specified co-ordinate. If the line does not cross the co-ordinate, has not been
constructed, has been run to completion or the intersection is the end point of
the line then the stepping functions will return true.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TInt aXCoord </code></td>
<td class="Cell"><p class="ValueDesc"> x co-ordinate to jump to </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt&amp; aYCoord </code></td>
<td class="Cell"><p class="ValueDesc"> On return, this parameter holds the y co-ordinate which
corresponds to the specified x co-ordinate </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aJumpToYCoord%28%29"></a>
<hr size="1" noshade>
<h3><code>JumpToYCoord()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void JumpToYCoord(TInt&amp; aXCoord,const TInt aYCoord);</code></p><h4 class="subheading">Description</h4>
<p>Jumps to a y co-ordinate.</p>
<p> The other co-ordinate of the intersection is returned through
a reference argument. After a jump call, the line is ready to continue through
calls to the stepping functions.</p>
<p>This function accelerates the Linear DDA stepping functions
(e.g. <code>SingleStep()</code>) making them return false when they reach the
specified co-ordinate. If the line does not cross the co-ordinate, has not been
constructed, has been run to completion or the intersection is the end point of
the line then they will return true. </p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt&amp; aXCoord </code></td>
<td class="Cell"><p class="ValueDesc"> On return, this parameter holds the x co-ordinate which
corresponds to the specified y co-ordinate. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TInt aYCoord </code></td>
<td class="Cell"><p class="ValueDesc"> y co-ordinate to jump to </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aJumpToRect%28%29"></a>
<hr size="1" noshade>
<h3><code>JumpToRect()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void JumpToRect(const TRect&amp; aRect);</code></p><h4 class="subheading">Description</h4>
<p>Jumps to start of a clipping rectangle.</p>
<p>This will accelerate the linear DDA to the vicinity of the
specified rectangle. It is NOT guaranteed to reach the rectangle, but will
reduce co-ordinates that are 1000's out to co-ordinates that are 10's out.
Because of this, failure to intersect the rectangle may not be detected. If it
is, or the line has not been constructed or has been run to completion, then a
subsequent call to the stepping functions returns true.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TRect&amp; aRect </code></td>
<td class="Cell"><p class="ValueDesc"> The rectangle to be jumped to. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Enumerations</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aTLinearDDA%3a%3aTLineMode"></a>
<hr size="1" noshade>
<h3>Enum <code>TLineMode</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TLineMode</code></p><h4 class="subheading">Description</h4>
<p>LDDA Line mode.</p><table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><a name="%3a%3aTLinearDDA%3a%3aECenter"><code class="Value">ECenter</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Centres scan-lines in the pixel line</para>
</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><a name="%3a%3aTLinearDDA%3a%3aELeft"><code class="Value">ELeft</code></a></td>
<td class="Cell"><p class="ValueDesc">
<para>Starts at the beginning of a complete scan line. Used for
bitmap scaling.</para>
</p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
