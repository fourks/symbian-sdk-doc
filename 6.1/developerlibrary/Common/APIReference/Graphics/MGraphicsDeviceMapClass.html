<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>MGraphicsDeviceMap</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../_index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="CPalette.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="RRegionBufClass.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Graphics</a>&nbsp;<span class="separator">&#187;</span>
MGraphicsDeviceMap</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code> gdi.h </code>
<br>Link against: <code> gdi.lib </code>
</p>
</div><div class="Head1">
<a name="%3a%3aMGraphicsDeviceMap"></a>

<h1>Class <code>MGraphicsDeviceMap</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>MGraphicsDeviceMap</code></p><h4 class="subheading">Support</h4>
<p>Supported from 5.0
</p><h4 class="subheading">Description</h4>
<p>Interface class for mapping between twips and device-specific units
(pixels).</p>
<p><code>CGraphicsContext</code> and <code>TZoomFactor</code> are
derived from <code>MGraphicsDeviceMap</code>.</p>
<p>Defined in <code>MGraphicsDeviceMap</code>:
<br><code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3aGetNearestFontInTwips%28%29" title="Gets the nearest font to that in the given font specification">GetNearestFontInTwips()</a></code>, <code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3aHorizontalPixelsToTwips%28%29" title="Converts a horizontal dimension from pixels to twips">HorizontalPixelsToTwips()</a></code>, <code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3aHorizontalTwipsToPixels%28%29" title="Converts a horizontal dimension from twips to pixels">HorizontalTwipsToPixels()</a></code>, <code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3aMGraphicsDeviceMap%28%29" title="Default constructor">MGraphicsDeviceMap()</a></code>, <code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3aPixelsToTwips%28%29" title="Converts a rectangle in pixels to a rectangle in twips">PixelsToTwips()</a></code>, <code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3aReleaseFont%28%29" title="Releases the specified font">ReleaseFont()</a></code>, <code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3aTwipsToPixels%28%29" title="Converts a rectangle in twips to a rectangle in pixels">TwipsToPixels()</a></code>, <code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3aVerticalPixelsToTwips%28%29" title="Converts a vertical dimension from pixels to twips">VerticalPixelsToTwips()</a></code>, <code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3aVerticalTwipsToPixels%28%29" title="Converts a vertical dimension from twips to pixels">VerticalTwipsToPixels()</a></code>, <code class="ApiItem"><a href="MGraphicsDeviceMapClass.html#%3a%3aMGraphicsDeviceMap%3a%3a%7eMGraphicsDeviceMap%28%29" title="Destructor">~MGraphicsDeviceMap()</a></code>
</p>
<h4 class="subheading">See also:</h4>
<ul>
<li><a href="CGraphicsDeviceClass.html#%3a%3aCGraphicsDevice" title="Specifies the interface for concrete device classes"><code class="ApiItem">CGraphicsDevice</code></a></li>
<li><a href="TZoomFactorClass.html#%3a%3aTZoomFactor" title="The interface for mapping between twips and device-specific units enriched with facilities to allow zooming"><code class="ApiItem">TZoomFactor</code></a></li>
</ul>
<a name="2.6"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aMGraphicsDeviceMap%28%29"></a>
<hr size="1" noshade>
<h3><code>MGraphicsDeviceMap()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>MGraphicsDeviceMap();</code></p><h4 class="subheading">Description</h4>
<p>Default constructor.</p>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3a%7eMGraphicsDeviceMap%28%29"></a>
<hr size="1" noshade>
<h3><code>~MGraphicsDeviceMap()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual ~MGraphicsDeviceMap();</code></p><h4 class="subheading">Description</h4>
<p>Destructor.</p>
<a name="2.7"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Device twip/pixel conversions</h2>
</div><div class="Bodytext">
<a name="2.7.2"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aHorizontalTwipsToPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>HorizontalTwipsToPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TInt HorizontalTwipsToPixels(TInt aTwips) const = 0;</code></p><h4 class="subheading">Description</h4>
<p>Converts a horizontal dimension from twips to pixels.</p>
<p>An implementation is supplied by a derived class.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aTwips </code></td>
<td class="Cell"><p class="ValueDesc"> A horizontal dimension of a device in twips. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> A horizontal dimension of a device in pixels. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.3"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aVerticalTwipsToPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>VerticalTwipsToPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TInt VerticalTwipsToPixels(TInt aTwips) const = 0;</code></p><h4 class="subheading">Description</h4>
<p>Converts a vertical dimension from twips to pixels.</p>
<p>An implementation is supplied by a derived class.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aTwips </code></td>
<td class="Cell"><p class="ValueDesc"> A vertical dimension of a device in twips. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> A vertical dimension of a device in pixels. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.4"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aHorizontalPixelsToTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>HorizontalPixelsToTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TInt HorizontalPixelsToTwips(TInt aPixels) const = 0;</code></p><h4 class="subheading">Description</h4>
<p>Converts a horizontal dimension from pixels to twips.</p>
<p>An implementation is supplied by a derived class.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aPixels </code></td>
<td class="Cell"><p class="ValueDesc"> A horizontal dimension of a device in pixels. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> A horizontal dimension of a device in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.7.5"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aVerticalPixelsToTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>VerticalPixelsToTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TInt VerticalPixelsToTwips(TInt aPixels) const = 0;</code></p><h4 class="subheading">Description</h4>
<p>Converts a vertical dimension from pixels to twips.</p>
<p>An implementation is supplied by a derived class.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt aPixels </code></td>
<td class="Cell"><p class="ValueDesc"> A vertical dimension of a device in pixels. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc"> A vertical dimension of a device in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Converting points and rectangles</h2>
</div><div class="Bodytext">
<a name="2.8.2"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aTwipsToPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>TwipsToPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TPoint TwipsToPixels(const TPoint&amp; aTwipPoint) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a point in twips to a point in pixels.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aTwipPoint </code></td>
<td class="Cell"><p class="ValueDesc"> A point on the graphics device in twips. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TPoint </code></td>
<td class="Cell"><p class="ValueDesc"> A point on the graphics device in pixels. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.3"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aTwipsToPixels%28%29"></a>
<hr size="1" noshade>
<h3><code>TwipsToPixels()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TRect TwipsToPixels(const TRect&amp; aTwipRect) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a rectangle in twips to a rectangle in pixels.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TRect&amp; aTwipRect </code></td>
<td class="Cell"><p class="ValueDesc"> A rectangle on the graphics device in twips </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TRect </code></td>
<td class="Cell"><p class="ValueDesc"> A rectangle on the graphics device in pixels. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.4"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aPixelsToTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>PixelsToTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TPoint PixelsToTwips(const TPoint&amp; aPixelPoint) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a point in pixels to a point in twips.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TPoint&amp; aPixelPoint </code></td>
<td class="Cell"><p class="ValueDesc"> A point on the graphics device in pixels. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TPoint </code></td>
<td class="Cell"><p class="ValueDesc"> A point on the graphics device in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.8.5"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aPixelsToTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>PixelsToTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TRect PixelsToTwips(const TRect&amp; aPixelRect) const;</code></p><h4 class="subheading">Description</h4>
<p>Converts a rectangle in pixels to a rectangle in twips.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> const TRect&amp; aPixelRect </code></td>
<td class="Cell"><p class="ValueDesc"> A rectangle on the graphics device in pixels. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TRect </code></td>
<td class="Cell"><p class="ValueDesc"> A rectangle on the graphics device in twips. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Getting and releasing device fonts</h2>
</div><div class="Bodytext">
<a name="2.9.2"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aGetNearestFontInTwips%28%29"></a>
<hr size="1" noshade>
<h3><code>GetNearestFontInTwips()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual TInt GetNearestFontInTwips(CFont*&amp; aFont,const TFontSpec&amp; aFontSpec) = 0;</code></p><h4 class="subheading">Description</h4>
<p>Gets the nearest font to that in the given font
specification.</p>
<p> The font and bitmap server returns a pointer to the nearest
matching font from those available.</p>
<p>An implementation is supplied by a derived class.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CFont*&amp; aFont </code></td>
<td class="Cell"><p class="ValueDesc"> On return, this pointer is set to point to the device font
which most closely approximates to the font specification. </p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value"> const TFontSpec&amp; aFontSpec </code></td>
<td class="Cell"><p class="ValueDesc"> An absolute font specification. </p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> TInt </code></td>
<td class="Cell"><p class="ValueDesc">
<code>KErrNone</code>, if successful; otherwise, another of
the system-wide error codes. </p></td>
</tr>
</table></td></tr></table>
<a name="2.9.3"></a></div><div class="Head3">
<a name="%3a%3aMGraphicsDeviceMap%3a%3aReleaseFont%28%29"></a>
<hr size="1" noshade>
<h3><code>ReleaseFont()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>virtual void ReleaseFont(CFont* aFont) = 0;</code></p><h4 class="subheading">Description</h4>
<p>Releases the specified font.</p>
<p> It is used to indicate that the specified font is no longer
needed for use by the device map. As fonts can be shared between applications,
this function does not delete the copy of the font from RAM unless the font was
only being used by this particular device map.</p>
<p>An implementation is supplied by a derived class.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value"> CFont* aFont </code></td>
<td class="Cell"><p class="ValueDesc"> A pointer to the font to be released. </p></td>
</tr>
</table></td></tr></table>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
