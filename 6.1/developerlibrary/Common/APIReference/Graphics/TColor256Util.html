<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<title>TColor256Util</title>
<link href="../../../stock/sysdoc.css" type="text/css" rel="stylesheet" media="screen">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css" media="screen"><!--
.ButtonBox { background-image: url(../../../stock/gradient.jpg); }
--></style>
</head>
<body><a name="_top"></a><a name="2"></a>
<table width="100%" border="0" cellspacing="0"
cellpadding="0"><tbody><tr><td colspan=2 class="LogoBox"><a><img
src="../../../stock/symbian.gif" alt="Symbian" width="121"
height="46" border="0"></a><img src="../../../stock/mainheading.gif"
alt=" Developer Library" height="46" width="183"></td></tr><tr><td
class="DocSetBox" width="33%">
<p><a href="../../../Product/Generic/index.html">SYMBIAN OS V6.1 EDITION FOR C++</a></p>
</td><td class="ButtonBox" align="right" width="67%">
<p><a href="../../../index/index.html"><img
src="../../../stock/btn_index.gif" alt="[Index]" width="53"
height="22" border="0"></a> <a href="../../GlobalGlossary/index.html"><img src="../../../stock/btn_glossary.gif"
alt="[Glossary]" border="0" width="81" height="22"></a> <img src="../../../stock/btn_spacer.gif"
alt="" width="60" height="22"> <a href="RRegionClass.html"><img src="../../../stock/btn_prev.gif"
alt="[Previous]" border="0" width="85" height="22"></a> <a href="TDisplayModeEnum.html"><img src="../../../stock/btn_next.gif" alt="[Next]"
border="0" width="58" height="22"></a></p>
</td></tr></table>
<hr noshade size="1">
<p class="breadcrumbNav">&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/index.html">Symbian&nbsp;OS&nbsp;v6.1&nbsp;Edition&nbsp;for&nbsp;C++</a>&nbsp;<span class="separator">&#187;</span>
<a href="../../../Product/Generic/APIReference/index.html">API&nbsp;Reference</a>&nbsp;<span class="separator">&#187;</span>
<a href="index.html">Graphics</a>&nbsp;<span class="separator">&#187;</span>
TColor256Util</p>

<hr noshade size="1">
<div class="AuthoredContent">

<p>Location:
<code>gdi.h</code>
<br>Link against: <code>gdi.lib</code>
</p>
</div><div class="Head1">
<a name="%3a%3aTColor256Util"></a>

<h1>Class <code>TColor256Util</code></h1>
</div><div class="Bodytext"><p class="Prototype"><code>TColor256Util</code></p><h4 class="subheading">Support</h4>
<p>Supported from 6.1
</p><h4 class="subheading">Description</h4>
<p>Enables conversion, in both directions, between a <code>TRgb</code>
object and an index into an arbitrary 256 colour palette.</p>
<p>Defined in <code>TColor256Util</code>:
<br><code class="ApiItem"><a href="TColor256Util.html#%3a%3aTColor256Util%3a%3aColor256%28%29" title="Gets the TRgb value of the entry at the specified index in the colour lookup table">Color256()</a></code>, <code class="ApiItem"><a href="TColor256Util.html#%3a%3aTColor256Util%3a%3aConstruct%28%29" title="Initialises the two lookup tables using the specified palette">Construct()</a></code>, <code class="ApiItem"><a href="TColor256Util.html#%3a%3aTColor256Util%3a%3aDefault%28%29" title="Returns a pointer to the system default 256 colour palette">Default()</a></code>, <code class="ApiItem"><a href="TColor256Util.html#%3a%3aTColor256Util%3a%3aiColorTable" title="256 colour lookup table">iColorTable</a></code>, <code class="ApiItem"><a href="TColor256Util.html#%3a%3aTColor256Util%3a%3aiInverseColorTable" title="Inverse colour lookup table">iInverseColorTable</a></code>
</p>
<a name="TColor256Util%2eind"></a>
</div><div class="Head2">
<hr size="2" noshade>
<h2>Construction and destruction</h2>
</div><div class="Bodytext">
<a name="2.5.3"></a></div><div class="Head3">
<a name="%3a%3aTColor256Util%3a%3aConstruct%28%29"></a>
<hr size="1" noshade>
<h3><code>Construct()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Construct(const CPalette&amp; aPalette);</code></p><h4 class="subheading">Description</h4>
<p>Initialises the two lookup tables using the specified
palette.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">const
CPalette&amp; aPalette</code></td>
<td class="Cell"><p class="ValueDesc">The palette of colours used to initialise the colour lookup
tables. </p></td>
</tr>
</table></td></tr></table>
<a name="2.5.4"></a></div><div class="Head3">
<a name="%3a%3aTColor256Util%3a%3aColor256%28%29"></a>
<hr size="1" noshade>
<h3><code>Color256()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TInt Color256(TRgb aRgb) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the entry from the inverse colour lookup table for the
colour that most closely matches the specified <code>TRgb</code> value.</p>
<p>Entries in the inverse colour lookup table are indices into the
palette that the object was created with. Essentially, this function matches
<code>aRgb</code> to the index of the nearest colour in the palette.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRgb aRgb</code></td>
<td class="Cell"><p class="ValueDesc">The conversion colour.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt</code></td>
<td class="Cell"><p class="ValueDesc">The index of the nearest colour to <code>aRgb</code> in the
palette.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.5"></a></div><div class="Head3">
<a name="%3a%3aTColor256Util%3a%3aColor256%28%29"></a>
<hr size="1" noshade>
<h3><code>Color256()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>void Color256(TUint8* aDestination,const TRgb* aSource,TInt aNumPixels) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the entries from the inverse colour lookup table for the
colours that most closely match the specified <code>TRgb</code> values.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TUint8* aDestination</code></td>
<td class="Cell"><p class="ValueDesc">On return, a pointer to a buffer containing the entries from
the inverse colour lookup table.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TRgb* aSource</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to the first <code>TRgb</code> value to match.</p></td>
</tr>
<tr valign="top">
<td class="Cell" ><code class="Value">const
TInt aNumPixels</code></td>
<td class="Cell"><p class="ValueDesc">The number of <code>TRgb</code> values to match.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.6"></a></div><div class="Head3">
<a name="%3a%3aTColor256Util%3a%3aColor256%28%29"></a>
<hr size="1" noshade>
<h3><code>Color256()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TRgb Color256(TInt aColor256) const;</code></p><h4 class="subheading">Description</h4>
<p>Gets the <code>TRgb</code> value of the entry at the specified
index in the colour lookup table.</p>
<h4 class="subheading">Parameters</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TInt aColor256</code></td>
<td class="Cell"><p class="ValueDesc">The index into the colour lookup table.</p></td>
</tr>
</table></td></tr></table>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TRgb</code></td>
<td class="Cell"><p class="ValueDesc">The <code>TRgb</code> value of the entry at the specified
index.</p></td>
</tr>
</table></td></tr></table>
<a name="2.5.7"></a></div><div class="Head3">
<a name="%3a%3aTColor256Util%3a%3aDefault%28%29"></a>
<hr size="1" noshade>
<h3><code>Default()</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>static const TColor256Util* Default();</code></p><h4 class="subheading">Description</h4>
<p>Returns a pointer to the system default 256 colour
palette.</p>
<h4 class="subheading">Return value</h4>
<table cellpadding="0" border="0"
cellspacing="0"><tr><td class="ValueTableWrap"><table border="0"
cellpadding="5" cellspacing="1">
<tr valign="top">
<td class="Cell" ><code class="Value">TColor256Util*</code></td>
<td class="Cell"><p class="ValueDesc">Pointer to the system default 256 colour palette.</p></td>
</tr>
</table></td></tr></table>
<a name="2.6"></a>
</div><div class="Head2">
<table cellpadding="0" cellspacing="0" border="0" width="97%"><tr valign="bottom"><td align="right"><p><a href="#_top"><img alt="[Top]" src="../../../stock/arrow_up_2.gif" border="0"align="bottom"></a></p></td></tr></table><hr size="2" noshade>
<h2>Data members</h2>
</div><div class="Bodytext">
<a name="2.6.2"></a></div><div class="Head3">
<a name="%3a%3aTColor256Util%3a%3aiColorTable"></a>
<hr size="1" noshade>
<h3><code>iColorTable</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUint32&nbsp;&nbsp;&nbsp;&nbsp;iColorTable[256];</code></p><h4 class="subheading">Description</h4>
<p>256 colour lookup table.</p>
<p>Each entry is a 32 bit value which corresponds to a
<code>TRgb</code> value in the palette passed to <code>Construct()</code>. If
there are more than 256 colours in the palette, the first 256 colours are used
in this table. If there are fewer than 256 entries, the remaining entries in
the table are set to zero.</p>
<a name="2.6.3"></a></div><div class="Head3">
<a name="%3a%3aTColor256Util%3a%3aiInverseColorTable"></a>
<hr size="1" noshade>
<h3><code>iInverseColorTable</code></h3>
</div><div class="Bodytext"><p class="Prototype"><code>TUint8 iInverseColorTable[0x1000];</code></p><h4 class="subheading">Description</h4>
<p>Inverse colour lookup table.</p>
<p>It has 4096 entries. Each entry is the index of a colour in the
palette that the object was created with (see <code>Construct()</code>) that
most closely matches the 4096 degrees of intensity of red, green and blue on a
uniform 16x16x16 colour cube.</p>
<p>It is called &quot;inverse&quot; because <code>iColorTable</code> maps
indices (0..255) to <code>TRgb</code> values, but this table maps
<code>TRgb</code> values to palette indices.</p>

</div><div class="Footer">
<hr noshade size="1">
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr valign="bottom">
<td><p class="copyrightStatement">Copyright &copy;2002&nbsp; Symbian Ltd. &nbsp; &nbsp; &nbsp;	6.1-00174
</p></td>
<td align="right"><p><a href="#_top"><img
alt="[Top]" src="../../../stock/arrow_up.gif" border="0"
align="bottom"></a></p></td>
</table>
</div>
</body>
</html>
